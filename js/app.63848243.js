(function(){"use strict";var e={5810:function(e){function peg$subclass(e,t){function ctor(){this.constructor=e}ctor.prototype=t.prototype,e.prototype=new ctor}function peg$SyntaxError(e,t,r,a){this.message=e,this.expected=t,this.found=r,this.location=a,this.name="SyntaxError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}function peg$parse(e,t){t=void 0!==t?t:{};var r,a={},n={evaluable:peg$parseevaluable},i=peg$parseevaluable,s="package",l=peg$literalExpectation("package",!1),o=(peg$literalExpectation(".",!1),"import"),p=peg$literalExpectation("import",!1),u="system",c=peg$literalExpectation("system",!1),f="extends",d=peg$literalExpectation("extends",!1),g=",",h=peg$literalExpectation(",",!1),$="{",m=peg$literalExpectation("{",!1),_="}",x=peg$literalExpectation("}",!1),peg$c26=function(e){return e},b="type",y=peg$literalExpectation("type",!1),v="=",w=peg$literalExpectation("=",!1),peg$c31=function(e,t,r){return r},peg$c32=function(e,t,r){return{_type:"typedef",doc:e?e[0]:null,expr:r,name:t,location:location()}},P="unsealed",C=peg$literalExpectation("unsealed",!1),peg$c35=function(e,t,r,a,n,i){return i},peg$c36=function(e,t,r,a,n){return null},peg$c37=function(e,t,r,a,n,i){return{_type:"defv",isParam:!1,doc:e?e[0]:null,tex:t?t[0]:null,sealed:!r,type:a,name:n,expr:i,location:location()}},peg$c38=function(e,t,r){return{_type:"defv",isParam:!0,doc:null,tex:e?e[0]:null,type:t,name:r,location:location()}},A=":",E=peg$literalExpectation(":",!1),j="@",S=peg$literalExpectation("@",!1),T=/^[a-z0-9_]/,M=peg$classExpectation([["a","z"],["0","9"],"_"],!1,!1),peg$c45=function(e,t,r,a){return a},peg$c46=function(e,t,r,a){return{_type:"defv",isParam:!0,doc:null,tex:e?e[0]:null,type:t,name:r,selector:a,location:location()}},O="(",D=peg$literalExpectation("(",!1),peg$c49=function(e,t,r,a,n,i,s,l){return l},peg$c50=function(e,t,r,a,n,i,s,l){return[s].concat(l)},k=")",I=peg$literalExpectation(")",!1),peg$c53=function(e,t,r,a,n,i,s){return s||[]},peg$c54=function(e,t,r,a,n,i,s,l){return l},peg$c55=function(e,t,r,a,n,i,s){return null},peg$c56=function(e,t,r,a,n,i,s,l){return{_type:"defun",doc:e?e[0]:null,tex_attributes:t?t[0]:{precedence:0},tex:r?r[0]:null,sealed:!a,rettype:n,name:i,params:s,expr:l,location:location()}},L="axiom",q=peg$literalExpectation("axiom",!1),N="theorem",V=peg$literalExpectation("theorem",!1),F="schema",R=peg$literalExpectation("schema",!1),peg$c63=function(e,t,r,a,n){return n},peg$c64=function(e,t,r,a,n){return[a].concat(n)},peg$c65=function(e,t,r,a){return a||[]},X="using",H=peg$literalExpectation("using",!1),peg$c68=function(e,t,r,a,n,i){return i},peg$c69=function(e,t,r,a,n,i){return[n].concat(i)},peg$c70=function(e,t,r,a,n){return n},peg$c71=function(e,t,r,a,n,i){return i},peg$c72=function(e,t,r,a,n,i,s){return{_type:"defschema",doc:e?e[0]:null,schemaType:t,name:r,params:a,using:n||[],def$s:i,expr:s,location:location()}},peg$c73=function(e){return[e]},U="[",z=peg$literalExpectation("[",!1),Z=";",B=peg$literalExpectation(";",!1),peg$c78=function(e,t){return t},peg$c79=function(e,t){return[e].concat(t)},Q="]",Y=peg$literalExpectation("]",!1),peg$c82=function(e){return e||[]},G=">",W=peg$literalExpectation(">",!1),peg$c85=function(e,t){return t},J="?",K=peg$literalExpectation("?",!1),peg$c88=function(e,t){return null},peg$c89=function(e,t,r){return null},peg$c90=function(e,t,r,a){return a},peg$c91=function(e,t,r,a){return[r].concat(a)},peg$c92=function(e,t,r){return r||[]},ee="as",te=peg$literalExpectation("as",!1),peg$c95=function(e,t,r,a){return a},peg$c96=function(e,t,r,a){return{subject:t,args:r,as_:a||null}},peg$c97=function(e,t){for(var r={_type:"reduction",subject:t[0].subject,args:t[0].args,antecedents:e,as:t[0].as_,location:location()},a=1;a<t.length;a++)r={_type:"reduction",subject:t[a].subject,args:t[a].args,antecedents:[r],as:t[a].as_,location:location()};return r},peg$c98=function(e,t,r){return r},peg$c99=function(e,t,r){return[t].concat(r)},peg$c100=function(e,t){return t||[]},peg$c101=function(e,t){return{_type:"schemacall",schema:e,args:t,location:location()}},peg$c102=function(e,t){return{_type:"funcall",schema:e,args:t,location:location()}},peg$c103=function(e,t){return t},peg$c104=function(e){return e||[]},re="=>",ae=peg$literalExpectation("=>",!1),peg$c107=function(e,t){return t},peg$c108=function(e,t){return{_type:"funexpr",params:e,expr:t,location:location()}},peg$c109=function(e,t){return{defdollars:[],expr:t}},peg$c110=function(e,t){return t},peg$c111=function(e,t,r){return{defdollars:t,expr:r}},peg$c112=function(e,t){return{_type:"schemaexpr",params:e,def$s:t.defdollars,expr:t.expr,location:location()}},peg$c113=function(e){return e||[]},ne="|-",ie=peg$literalExpectation("|-",!1),peg$c116=function(e,t){return{defdollars:[],expr:t}},peg$c117=function(e,t){return t},peg$c118=function(e,t,r){return{defdollars:t,expr:r}},peg$c119=function(e,t){return{_type:"conditional",def$s:t.defdollars,left:e,right:t.expr,location:location()}},se="with",le=peg$literalExpectation("with",!1),peg$c122=function(e,t,r,a,n,i){return i},peg$c123=function(e,t,r,a,n,i,s){return{_type:"with",with:{_type:"defv",isParam:!1,doc:e?e[0]:null,tex:t?t[0]:null,sealed:!1,type:r,name:a,expr:n,location:location()},def$s:i,expr:s,location:location()}},peg$c124=function(e,t){return{_type:"def$",name:e,expr:t,location:location()}},peg$c125=function(e){return{_type:"type",ftype:!1,name:e,location:location()}},peg$c126=function(e,t){return t},oe="->",pe=peg$literalExpectation("->",!1),peg$c129=function(e,t){return{_type:"type",ftype:!0,from:e,to:t,location:location()}},peg$c130=function(e){return{_type:"var",type:"@",name:e,location:location()}},peg$c131=function(e){return{_type:"var",type:"$",name:e,location:location()}},peg$c132=function(e){return{_type:"var",type:"normal",name:e,location:location()}},ue=/^[a-zA-Z0-9_]/,ce=peg$classExpectation([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),fe="$",de=peg$literalExpectation("$",!1),ge='"',he=peg$literalExpectation('"',!1),$e=peg$anyExpectation(),peg$c140=function(e){return e},peg$c141=function(e){return e.replace(/\r\n|\r/g,"\n")},me="precedence=",_e=peg$literalExpectation("precedence=",!1),xe=/^[0-9]/,be=peg$classExpectation([["0","9"]],!1,!1),peg$c146=function(e){return{precedence:1*e}},ye="//",ve=peg$literalExpectation("//",!1),we="/*",Pe=peg$literalExpectation("/*",!1),Ce="*/",Ae=peg$literalExpectation("*/",!1),Ee="\r\n",je=peg$literalExpectation("\r\n",!1),Se="\r",Te=peg$literalExpectation("\r",!1),Me="\n",Oe=peg$literalExpectation("\n",!1),De=/^[ \t\n\r]/,ke=peg$classExpectation([" ","\t","\n","\r"],!1,!1),Ie=0,Le=0,qe=[{line:1,column:1}],Ne=0,Ve=[],Fe=0,Re={};if("startRule"in t){if(!(t.startRule in n))throw new Error("Can't start parsing from rule \""+t.startRule+'".');i=n[t.startRule]}function location(){return peg$computeLocation(Le,Ie)}function peg$literalExpectation(e,t){return{type:"literal",text:e,ignoreCase:t}}function peg$classExpectation(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function peg$anyExpectation(){return{type:"any"}}function peg$endExpectation(){return{type:"end"}}function peg$computePosDetails(t){var r,a=qe[t];if(a)return a;r=t-1;while(!qe[r])r--;a=qe[r],a={line:a.line,column:a.column};while(r<t)10===e.charCodeAt(r)?(a.line++,a.column=1):a.column++,r++;return qe[t]=a,a}function peg$computeLocation(e,t){var r=peg$computePosDetails(e),a=peg$computePosDetails(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:a.line,column:a.column}}}function peg$fail(e){Ie<Ne||(Ie>Ne&&(Ne=Ie,Ve=[]),Ve.push(e))}function peg$buildStructuredError(e,t,r){return new peg$SyntaxError(peg$SyntaxError.buildMessage(e,t),e,t,r)}function peg$parseevaluable(){var e,t,r,n,i=44*Ie+5,s=Re[i];return s?(Ie=s.nextPos,s.result):(e=Ie,t=peg$parse_(),t!==a?(r=peg$parseevaluable_internal(),r!==a?(n=peg$parse_(),n!==a?(Le=e,t=peg$c26(r),e=t):(Ie=e,e=a)):(Ie=e,e=a)):(Ie=e,e=a),Re[i]={nextPos:Ie,result:e},e)}function peg$parseevaluable_internal(){var e,t=44*Ie+6,r=Re[t];return r?(Ie=r.nextPos,r.result):(e=peg$parsetypedef(),e===a&&(e=peg$parsedefv(),e===a&&(e=peg$parsedefun(),e===a&&(e=peg$parsedefschema(),e===a&&(e=peg$parseexpr_internal_3())))),Re[t]={nextPos:Ie,result:e},e)}function peg$parsetypedef(){var t,r,n,i,s,l,o,p,u,c,f,d=44*Ie+7,g=Re[d];return g?(Ie=g.nextPos,g.result):(t=Ie,r=Ie,n=peg$parsedocumentation(),n!==a?(i=peg$parse__(),i!==a?(n=[n,i],r=n):(Ie=r,r=a)):(Ie=r,r=a),r===a&&(r=null),r!==a?(e.substr(Ie,4)===b?(n=b,Ie+=4):(n=a,0===Fe&&peg$fail(y)),n!==a?(i=peg$parse__(),i!==a?(s=peg$parseident(),s!==a?(l=peg$parse_(),l!==a?(o=Ie,61===e.charCodeAt(Ie)?(p=v,Ie++):(p=a,0===Fe&&peg$fail(w)),p!==a?(u=peg$parse_(),u!==a?(c=peg$parseftype(),c!==a?(f=peg$parse_(),f!==a?(Le=o,p=peg$c31(r,s,c),o=p):(Ie=o,o=a)):(Ie=o,o=a)):(Ie=o,o=a)):(Ie=o,o=a),o===a&&(o=null),o!==a?(p=peg$parsesem(),p!==a?(Le=t,r=peg$c32(r,s,o),t=r):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a),Re[d]={nextPos:Ie,result:t},t)}function peg$parsedefv(){var t,r,n,i,s,l,o,p,u,c,f,d,g,h,$=44*Ie+8,m=Re[$];return m?(Ie=m.nextPos,m.result):(t=Ie,r=Ie,n=peg$parsedocumentation(),n!==a?(i=peg$parse__(),i!==a?(n=[n,i],r=n):(Ie=r,r=a)):(Ie=r,r=a),r===a&&(r=null),r!==a?(n=Ie,i=peg$parsetex(),i!==a?(s=peg$parse__(),s!==a?(i=[i,s],n=i):(Ie=n,n=a)):(Ie=n,n=a),n===a&&(n=null),n!==a?(i=Ie,e.substr(Ie,8)===P?(s=P,Ie+=8):(s=a,0===Fe&&peg$fail(C)),s!==a?(l=peg$parse__(),l!==a?(s=[s,l],i=s):(Ie=i,i=a)):(Ie=i,i=a),i===a&&(i=null),i!==a?(s=peg$parsetype(),s!==a?(l=peg$parse__(),l!==a?(o=peg$parseident(),o!==a?(p=peg$parse_(),p!==a?(u=Ie,61===e.charCodeAt(Ie)?(c=v,Ie++):(c=a,0===Fe&&peg$fail(w)),c!==a?(f=peg$parse_(),f!==a?(d=peg$parseobjectexpr(),d!==a?(g=peg$parse_(),g!==a?(h=peg$parsesem(),h!==a?(Le=u,c=peg$c35(r,n,i,s,o,d),u=c):(Ie=u,u=a)):(Ie=u,u=a)):(Ie=u,u=a)):(Ie=u,u=a)):(Ie=u,u=a),u===a&&(u=Ie,c=peg$parsesem(),c!==a&&(Le=u,c=peg$c36(r,n,i,s,o)),u=c),u!==a?(Le=t,r=peg$c37(r,n,i,s,o,u),t=r):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a),Re[$]={nextPos:Ie,result:t},t)}function peg$parsedefparam(){var e,t,r,n,i,s=44*Ie+9,l=Re[s];return l?(Ie=l.nextPos,l.result):(e=Ie,t=Ie,r=peg$parsetex(),r!==a?(n=peg$parse__(),n!==a?(r=[r,n],t=r):(Ie=t,t=a)):(Ie=t,t=a),t===a&&(t=null),t!==a?(r=peg$parsetype(),r!==a?(n=peg$parse__(),n!==a?(i=peg$parseident(),i!==a?(Le=e,t=peg$c38(t,r,i),e=t):(Ie=e,e=a)):(Ie=e,e=a)):(Ie=e,e=a)):(Ie=e,e=a),Re[s]={nextPos:Ie,result:e},e)}function peg$parsedefschemaparam(){var t,r,n,i,s,l,o,p,u,c,f,d,g,h=44*Ie+10,$=Re[h];if($)return Ie=$.nextPos,$.result;if(t=Ie,r=Ie,n=peg$parsetex(),n!==a?(i=peg$parse__(),i!==a?(n=[n,i],r=n):(Ie=r,r=a)):(Ie=r,r=a),r===a&&(r=null),r!==a)if(n=peg$parsetype(),n!==a)if(i=peg$parse__(),i!==a)if(s=peg$parseident(),s!==a){if(l=Ie,o=peg$parse_(),o!==a)if(58===e.charCodeAt(Ie)?(p=A,Ie++):(p=a,0===Fe&&peg$fail(E)),p!==a)if(u=peg$parse_(),u!==a)if(64===e.charCodeAt(Ie)?(c=j,Ie++):(c=a,0===Fe&&peg$fail(S)),c!==a){if(f=Ie,d=[],T.test(e.charAt(Ie))?(g=e.charAt(Ie),Ie++):(g=a,0===Fe&&peg$fail(M)),g!==a)while(g!==a)d.push(g),T.test(e.charAt(Ie))?(g=e.charAt(Ie),Ie++):(g=a,0===Fe&&peg$fail(M));else d=a;f=d!==a?e.substring(f,Ie):d,f!==a?(Le=l,o=peg$c45(r,n,s,f),l=o):(Ie=l,l=a)}else Ie=l,l=a;else Ie=l,l=a;else Ie=l,l=a;else Ie=l,l=a;l===a&&(l=null),l!==a?(Le=t,r=peg$c46(r,n,s,l),t=r):(Ie=t,t=a)}else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;return Re[h]={nextPos:Ie,result:t},t}function peg$parsedefun(){var t,r,n,i,s,l,o,p,u,c,f,d,b,y,v,w,A,E,j,S,T=44*Ie+11,M=Re[T];if(M)return Ie=M.nextPos,M.result;if(t=Ie,r=Ie,n=peg$parsedocumentation(),n!==a?(i=peg$parse__(),i!==a?(n=[n,i],r=n):(Ie=r,r=a)):(Ie=r,r=a),r===a&&(r=null),r!==a)if(n=Ie,i=peg$parsetex_attributes(),i!==a?(s=peg$parse__(),s!==a?(i=[i,s],n=i):(Ie=n,n=a)):(Ie=n,n=a),n===a&&(n=null),n!==a)if(i=Ie,s=peg$parsetex(),s!==a?(l=peg$parse__(),l!==a?(s=[s,l],i=s):(Ie=i,i=a)):(Ie=i,i=a),i===a&&(i=null),i!==a)if(s=Ie,e.substr(Ie,8)===P?(l=P,Ie+=8):(l=a,0===Fe&&peg$fail(C)),l!==a?(o=peg$parse__(),o!==a?(l=[l,o],s=l):(Ie=s,s=a)):(Ie=s,s=a),s===a&&(s=null),s!==a)if(l=peg$parsetype(),l!==a)if(o=peg$parse__(),o!==a)if(p=peg$parseident(),p!==a)if(u=peg$parse_(),u!==a){if(c=Ie,40===e.charCodeAt(Ie)?(f=O,Ie++):(f=a,0===Fe&&peg$fail(D)),f!==a)if(d=peg$parse_(),d!==a){if(b=Ie,y=peg$parsedefparam(),y!==a){v=[],w=Ie,A=peg$parse_(),A!==a?(44===e.charCodeAt(Ie)?(E=g,Ie++):(E=a,0===Fe&&peg$fail(h)),E!==a?(j=peg$parse_(),j!==a?(S=peg$parsedefparam(),S!==a?(Le=w,A=peg$c49(r,n,i,s,l,p,y,S),w=A):(Ie=w,w=a)):(Ie=w,w=a)):(Ie=w,w=a)):(Ie=w,w=a);while(w!==a)v.push(w),w=Ie,A=peg$parse_(),A!==a?(44===e.charCodeAt(Ie)?(E=g,Ie++):(E=a,0===Fe&&peg$fail(h)),E!==a?(j=peg$parse_(),j!==a?(S=peg$parsedefparam(),S!==a?(Le=w,A=peg$c49(r,n,i,s,l,p,y,S),w=A):(Ie=w,w=a)):(Ie=w,w=a)):(Ie=w,w=a)):(Ie=w,w=a);v!==a?(Le=b,y=peg$c50(r,n,i,s,l,p,y,v),b=y):(Ie=b,b=a)}else Ie=b,b=a;b===a&&(b=null),b!==a?(y=peg$parse_(),y!==a?(41===e.charCodeAt(Ie)?(v=k,Ie++):(v=a,0===Fe&&peg$fail(I)),v!==a?(w=peg$parse_(),w!==a?(Le=c,f=peg$c53(r,n,i,s,l,p,b),c=f):(Ie=c,c=a)):(Ie=c,c=a)):(Ie=c,c=a)):(Ie=c,c=a)}else Ie=c,c=a;else Ie=c,c=a;c!==a?(f=Ie,123===e.charCodeAt(Ie)?(d=$,Ie++):(d=a,0===Fe&&peg$fail(m)),d!==a?(b=peg$parse_(),b!==a?(y=peg$parseobjectexpr(),y!==a?(v=peg$parse_(),v!==a?(125===e.charCodeAt(Ie)?(w=_,Ie++):(w=a,0===Fe&&peg$fail(x)),w!==a?(Le=f,d=peg$c54(r,n,i,s,l,p,c,y),f=d):(Ie=f,f=a)):(Ie=f,f=a)):(Ie=f,f=a)):(Ie=f,f=a)):(Ie=f,f=a),f===a&&(f=Ie,d=peg$parsesem(),d!==a&&(Le=f,d=peg$c55(r,n,i,s,l,p,c)),f=d),f!==a?(Le=t,r=peg$c56(r,n,i,s,l,p,c,f),t=r):(Ie=t,t=a)):(Ie=t,t=a)}else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;return Re[T]={nextPos:Ie,result:t},t}function peg$parsedefschema(){var t,r,n,i,s,l,o,p,u,c,f,d,b,y,v,w,P,C,A=44*Ie+12,E=Re[A];if(E)return Ie=E.nextPos,E.result;if(t=Ie,r=Ie,n=peg$parsedocumentation(),n!==a?(i=peg$parse__(),i!==a?(n=[n,i],r=n):(Ie=r,r=a)):(Ie=r,r=a),r===a&&(r=null),r!==a)if(e.substr(Ie,5)===L?(n=L,Ie+=5):(n=a,0===Fe&&peg$fail(q)),n===a&&(e.substr(Ie,7)===N?(n=N,Ie+=7):(n=a,0===Fe&&peg$fail(V)),n===a&&(e.substr(Ie,6)===F?(n=F,Ie+=6):(n=a,0===Fe&&peg$fail(R)))),n!==a)if(i=peg$parse__(),i!==a)if(s=peg$parseident(),s!==a)if(l=peg$parse_(),l!==a){if(o=Ie,40===e.charCodeAt(Ie)?(p=O,Ie++):(p=a,0===Fe&&peg$fail(D)),p!==a)if(u=peg$parse_(),u!==a){if(c=Ie,f=peg$parsedefschemaparam(),f!==a){d=[],b=Ie,y=peg$parse_(),y!==a?(44===e.charCodeAt(Ie)?(v=g,Ie++):(v=a,0===Fe&&peg$fail(h)),v!==a?(w=peg$parse_(),w!==a?(P=peg$parsedefschemaparam(),P!==a?(Le=b,y=peg$c63(r,n,s,f,P),b=y):(Ie=b,b=a)):(Ie=b,b=a)):(Ie=b,b=a)):(Ie=b,b=a);while(b!==a)d.push(b),b=Ie,y=peg$parse_(),y!==a?(44===e.charCodeAt(Ie)?(v=g,Ie++):(v=a,0===Fe&&peg$fail(h)),v!==a?(w=peg$parse_(),w!==a?(P=peg$parsedefschemaparam(),P!==a?(Le=b,y=peg$c63(r,n,s,f,P),b=y):(Ie=b,b=a)):(Ie=b,b=a)):(Ie=b,b=a)):(Ie=b,b=a);d!==a?(Le=c,f=peg$c64(r,n,s,f,d),c=f):(Ie=c,c=a)}else Ie=c,c=a;c===a&&(c=null),c!==a?(f=peg$parse_(),f!==a?(41===e.charCodeAt(Ie)?(d=k,Ie++):(d=a,0===Fe&&peg$fail(I)),d!==a?(b=peg$parse_(),b!==a?(Le=o,p=peg$c65(r,n,s,c),o=p):(Ie=o,o=a)):(Ie=o,o=a)):(Ie=o,o=a)):(Ie=o,o=a)}else Ie=o,o=a;else Ie=o,o=a;if(o!==a){if(p=Ie,e.substr(Ie,5)===X?(u=X,Ie+=5):(u=a,0===Fe&&peg$fail(H)),u!==a)if(c=peg$parse__(),c!==a){if(f=Ie,d=peg$parseident(),d!==a){b=[],y=Ie,v=peg$parse_(),v!==a?(44===e.charCodeAt(Ie)?(w=g,Ie++):(w=a,0===Fe&&peg$fail(h)),w!==a?(P=peg$parse_(),P!==a?(C=peg$parseident(),C!==a?(Le=y,v=peg$c68(r,n,s,o,d,C),y=v):(Ie=y,y=a)):(Ie=y,y=a)):(Ie=y,y=a)):(Ie=y,y=a);while(y!==a)b.push(y),y=Ie,v=peg$parse_(),v!==a?(44===e.charCodeAt(Ie)?(w=g,Ie++):(w=a,0===Fe&&peg$fail(h)),w!==a?(P=peg$parse_(),P!==a?(C=peg$parseident(),C!==a?(Le=y,v=peg$c68(r,n,s,o,d,C),y=v):(Ie=y,y=a)):(Ie=y,y=a)):(Ie=y,y=a)):(Ie=y,y=a);b!==a?(Le=f,d=peg$c69(r,n,s,o,d,b),f=d):(Ie=f,f=a)}else Ie=f,f=a;f!==a?(d=peg$parse_(),d!==a?(Le=p,u=peg$c70(r,n,s,o,f),p=u):(Ie=p,p=a)):(Ie=p,p=a)}else Ie=p,p=a;else Ie=p,p=a;if(p===a&&(p=null),p!==a)if(123===e.charCodeAt(Ie)?(u=$,Ie++):(u=a,0===Fe&&peg$fail(m)),u!==a)if(c=peg$parse_(),c!==a){f=[],d=Ie,b=peg$parsedefdollar(),b!==a?(y=peg$parse_(),y!==a?(Le=d,b=peg$c71(r,n,s,o,p,b),d=b):(Ie=d,d=a)):(Ie=d,d=a);while(d!==a)f.push(d),d=Ie,b=peg$parsedefdollar(),b!==a?(y=peg$parse_(),y!==a?(Le=d,b=peg$c71(r,n,s,o,p,b),d=b):(Ie=d,d=a)):(Ie=d,d=a);f!==a?(d=peg$parse_(),d!==a?(b=peg$parseexpr_internal_3(),b!==a?(y=peg$parse_(),y!==a?(125===e.charCodeAt(Ie)?(v=_,Ie++):(v=a,0===Fe&&peg$fail(x)),v!==a?(Le=t,r=peg$c72(r,n,s,o,p,f,b),t=r):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)}else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a}else Ie=t,t=a}else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;return Re[A]={nextPos:Ie,result:t},t}function peg$parsereduction(){var t,r,n,i,s,l,o,p,u,c,f,d,$,m,_,x,b,y,v,w,P,C=44*Ie+13,A=Re[C];if(A)return Ie=A.nextPos,A.result;if(t=Ie,r=Ie,n=peg$parseexpr_internal_2(),n!==a&&(Le=r,n=peg$c73(n)),r=n,r===a)if(r=Ie,91===e.charCodeAt(Ie)?(n=U,Ie++):(n=a,0===Fe&&peg$fail(z)),n!==a)if(i=peg$parse_(),i!==a){if(s=Ie,l=peg$parseexpr_internal_3(),l!==a){o=[],p=Ie,u=peg$parse_(),u!==a?(59===e.charCodeAt(Ie)?(c=Z,Ie++):(c=a,0===Fe&&peg$fail(B)),c!==a?(f=peg$parse_(),f!==a?(d=peg$parseexpr_internal_3(),d!==a?(Le=p,u=peg$c78(l,d),p=u):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a);while(p!==a)o.push(p),p=Ie,u=peg$parse_(),u!==a?(59===e.charCodeAt(Ie)?(c=Z,Ie++):(c=a,0===Fe&&peg$fail(B)),c!==a?(f=peg$parse_(),f!==a?(d=peg$parseexpr_internal_3(),d!==a?(Le=p,u=peg$c78(l,d),p=u):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a);o!==a?(p=peg$parse_(),p!==a?(Le=s,l=peg$c79(l,o),s=l):(Ie=s,s=a)):(Ie=s,s=a)}else Ie=s,s=a;s===a&&(s=null),s!==a?(93===e.charCodeAt(Ie)?(l=Q,Ie++):(l=a,0===Fe&&peg$fail(Y)),l!==a?(Le=r,n=peg$c82(s),r=n):(Ie=r,r=a)):(Ie=r,r=a)}else Ie=r,r=a;else Ie=r,r=a;if(r!==a){if(n=[],i=Ie,s=peg$parse_(),s!==a)if(62===e.charCodeAt(Ie)?(l=G,Ie++):(l=a,0===Fe&&peg$fail(W)),l!==a)if(o=peg$parse_(),o!==a)if(p=peg$parseschemacall(),p===a&&(p=peg$parsevar(),p===a&&(p=Ie,40===e.charCodeAt(Ie)?(u=O,Ie++):(u=a,0===Fe&&peg$fail(D)),u!==a?(c=peg$parse_(),c!==a?(f=peg$parseexpr_internal_3(),f!==a?(d=peg$parse_(),d!==a?(41===e.charCodeAt(Ie)?($=k,Ie++):($=a,0===Fe&&peg$fail(I)),$!==a?(Le=p,u=peg$c85(r,f),p=u):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a))),p!==a){if(u=Ie,c=peg$parse_(),c!==a)if(40===e.charCodeAt(Ie)?(f=O,Ie++):(f=a,0===Fe&&peg$fail(D)),f!==a)if(d=peg$parse_(),d!==a){if($=Ie,m=Ie,63===e.charCodeAt(Ie)?(_=J,Ie++):(_=a,0===Fe&&peg$fail(K)),_!==a&&(Le=m,_=peg$c88(r,p)),m=_,m===a&&(m=peg$parseobjectexpr()),m!==a){_=[],x=Ie,b=peg$parse_(),b!==a?(44===e.charCodeAt(Ie)?(y=g,Ie++):(y=a,0===Fe&&peg$fail(h)),y!==a?(v=peg$parse_(),v!==a?(w=Ie,63===e.charCodeAt(Ie)?(P=J,Ie++):(P=a,0===Fe&&peg$fail(K)),P!==a&&(Le=w,P=peg$c89(r,p,m)),w=P,w===a&&(w=peg$parseobjectexpr()),w!==a?(Le=x,b=peg$c90(r,p,m,w),x=b):(Ie=x,x=a)):(Ie=x,x=a)):(Ie=x,x=a)):(Ie=x,x=a);while(x!==a)_.push(x),x=Ie,b=peg$parse_(),b!==a?(44===e.charCodeAt(Ie)?(y=g,Ie++):(y=a,0===Fe&&peg$fail(h)),y!==a?(v=peg$parse_(),v!==a?(w=Ie,63===e.charCodeAt(Ie)?(P=J,Ie++):(P=a,0===Fe&&peg$fail(K)),P!==a&&(Le=w,P=peg$c89(r,p,m)),w=P,w===a&&(w=peg$parseobjectexpr()),w!==a?(Le=x,b=peg$c90(r,p,m,w),x=b):(Ie=x,x=a)):(Ie=x,x=a)):(Ie=x,x=a)):(Ie=x,x=a);_!==a?(x=peg$parse_(),x!==a?(Le=$,m=peg$c91(r,p,m,_),$=m):(Ie=$,$=a)):(Ie=$,$=a)}else Ie=$,$=a;$===a&&($=null),$!==a?(41===e.charCodeAt(Ie)?(m=k,Ie++):(m=a,0===Fe&&peg$fail(I)),m!==a?(Le=u,c=peg$c92(r,p,$),u=c):(Ie=u,u=a)):(Ie=u,u=a)}else Ie=u,u=a;else Ie=u,u=a;else Ie=u,u=a;u===a&&(u=null),u!==a?(c=Ie,f=peg$parse__(),f!==a?(e.substr(Ie,2)===ee?(d=ee,Ie+=2):(d=a,0===Fe&&peg$fail(te)),d!==a?($=peg$parse__(),$!==a?(m=peg$parseexpr_internal_2(),m!==a?(Le=c,f=peg$c95(r,p,u,m),c=f):(Ie=c,c=a)):(Ie=c,c=a)):(Ie=c,c=a)):(Ie=c,c=a),c===a&&(c=null),c!==a?(Le=i,s=peg$c96(r,p,u,c),i=s):(Ie=i,i=a)):(Ie=i,i=a)}else Ie=i,i=a;else Ie=i,i=a;else Ie=i,i=a;else Ie=i,i=a;if(i!==a)while(i!==a)if(n.push(i),i=Ie,s=peg$parse_(),s!==a)if(62===e.charCodeAt(Ie)?(l=G,Ie++):(l=a,0===Fe&&peg$fail(W)),l!==a)if(o=peg$parse_(),o!==a)if(p=peg$parseschemacall(),p===a&&(p=peg$parsevar(),p===a&&(p=Ie,40===e.charCodeAt(Ie)?(u=O,Ie++):(u=a,0===Fe&&peg$fail(D)),u!==a?(c=peg$parse_(),c!==a?(f=peg$parseexpr_internal_3(),f!==a?(d=peg$parse_(),d!==a?(41===e.charCodeAt(Ie)?($=k,Ie++):($=a,0===Fe&&peg$fail(I)),$!==a?(Le=p,u=peg$c85(r,f),p=u):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a))),p!==a){if(u=Ie,c=peg$parse_(),c!==a)if(40===e.charCodeAt(Ie)?(f=O,Ie++):(f=a,0===Fe&&peg$fail(D)),f!==a)if(d=peg$parse_(),d!==a){if($=Ie,m=Ie,63===e.charCodeAt(Ie)?(_=J,Ie++):(_=a,0===Fe&&peg$fail(K)),_!==a&&(Le=m,_=peg$c88(r,p)),m=_,m===a&&(m=peg$parseobjectexpr()),m!==a){_=[],x=Ie,b=peg$parse_(),b!==a?(44===e.charCodeAt(Ie)?(y=g,Ie++):(y=a,0===Fe&&peg$fail(h)),y!==a?(v=peg$parse_(),v!==a?(w=Ie,63===e.charCodeAt(Ie)?(P=J,Ie++):(P=a,0===Fe&&peg$fail(K)),P!==a&&(Le=w,P=peg$c89(r,p,m)),w=P,w===a&&(w=peg$parseobjectexpr()),w!==a?(Le=x,b=peg$c90(r,p,m,w),x=b):(Ie=x,x=a)):(Ie=x,x=a)):(Ie=x,x=a)):(Ie=x,x=a);while(x!==a)_.push(x),x=Ie,b=peg$parse_(),b!==a?(44===e.charCodeAt(Ie)?(y=g,Ie++):(y=a,0===Fe&&peg$fail(h)),y!==a?(v=peg$parse_(),v!==a?(w=Ie,63===e.charCodeAt(Ie)?(P=J,Ie++):(P=a,0===Fe&&peg$fail(K)),P!==a&&(Le=w,P=peg$c89(r,p,m)),w=P,w===a&&(w=peg$parseobjectexpr()),w!==a?(Le=x,b=peg$c90(r,p,m,w),x=b):(Ie=x,x=a)):(Ie=x,x=a)):(Ie=x,x=a)):(Ie=x,x=a);_!==a?(x=peg$parse_(),x!==a?(Le=$,m=peg$c91(r,p,m,_),$=m):(Ie=$,$=a)):(Ie=$,$=a)}else Ie=$,$=a;$===a&&($=null),$!==a?(41===e.charCodeAt(Ie)?(m=k,Ie++):(m=a,0===Fe&&peg$fail(I)),m!==a?(Le=u,c=peg$c92(r,p,$),u=c):(Ie=u,u=a)):(Ie=u,u=a)}else Ie=u,u=a;else Ie=u,u=a;else Ie=u,u=a;u===a&&(u=null),u!==a?(c=Ie,f=peg$parse__(),f!==a?(e.substr(Ie,2)===ee?(d=ee,Ie+=2):(d=a,0===Fe&&peg$fail(te)),d!==a?($=peg$parse__(),$!==a?(m=peg$parseexpr_internal_2(),m!==a?(Le=c,f=peg$c95(r,p,u,m),c=f):(Ie=c,c=a)):(Ie=c,c=a)):(Ie=c,c=a)):(Ie=c,c=a),c===a&&(c=null),c!==a?(Le=i,s=peg$c96(r,p,u,c),i=s):(Ie=i,i=a)):(Ie=i,i=a)}else Ie=i,i=a;else Ie=i,i=a;else Ie=i,i=a;else Ie=i,i=a;else n=a;n!==a?(Le=t,r=peg$c97(r,n),t=r):(Ie=t,t=a)}else Ie=t,t=a;return Re[C]={nextPos:Ie,result:t},t}function peg$parseschemacall(){var t,r,n,i,s,l,o,p,u,c,f,d,$,m,_=44*Ie+14,x=Re[_];if(x)return Ie=x.nextPos,x.result;if(t=Ie,r=peg$parsevar(),r===a&&(r=Ie,40===e.charCodeAt(Ie)?(n=O,Ie++):(n=a,0===Fe&&peg$fail(D)),n!==a?(i=peg$parse_(),i!==a?(s=peg$parseexpr_internal_3(),s!==a?(l=peg$parse_(),l!==a?(41===e.charCodeAt(Ie)?(o=k,Ie++):(o=a,0===Fe&&peg$fail(I)),o!==a?(Le=r,n=peg$c26(s),r=n):(Ie=r,r=a)):(Ie=r,r=a)):(Ie=r,r=a)):(Ie=r,r=a)):(Ie=r,r=a)),r!==a)if(n=peg$parse_(),n!==a){if(i=Ie,40===e.charCodeAt(Ie)?(s=O,Ie++):(s=a,0===Fe&&peg$fail(D)),s!==a)if(l=peg$parse_(),l!==a){if(o=Ie,p=peg$parseobjectexpr(),p!==a){u=[],c=Ie,f=peg$parse_(),f!==a?(44===e.charCodeAt(Ie)?(d=g,Ie++):(d=a,0===Fe&&peg$fail(h)),d!==a?($=peg$parse_(),$!==a?(m=peg$parseobjectexpr(),m!==a?(Le=c,f=peg$c98(r,p,m),c=f):(Ie=c,c=a)):(Ie=c,c=a)):(Ie=c,c=a)):(Ie=c,c=a);while(c!==a)u.push(c),c=Ie,f=peg$parse_(),f!==a?(44===e.charCodeAt(Ie)?(d=g,Ie++):(d=a,0===Fe&&peg$fail(h)),d!==a?($=peg$parse_(),$!==a?(m=peg$parseobjectexpr(),m!==a?(Le=c,f=peg$c98(r,p,m),c=f):(Ie=c,c=a)):(Ie=c,c=a)):(Ie=c,c=a)):(Ie=c,c=a);u!==a?(c=peg$parse_(),c!==a?(Le=o,p=peg$c99(r,p,u),o=p):(Ie=o,o=a)):(Ie=o,o=a)}else Ie=o,o=a;o===a&&(o=null),o!==a?(41===e.charCodeAt(Ie)?(p=k,Ie++):(p=a,0===Fe&&peg$fail(I)),p!==a?(Le=i,s=peg$c100(r,o),i=s):(Ie=i,i=a)):(Ie=i,i=a)}else Ie=i,i=a;else Ie=i,i=a;i!==a?(Le=t,r=peg$c101(r,i),t=r):(Ie=t,t=a)}else Ie=t,t=a;else Ie=t,t=a;return Re[_]={nextPos:Ie,result:t},t}function peg$parsefuncall(){var t,r,n,i,s,l,o,p,u,c,f,d,$,m,_=44*Ie+15,x=Re[_];if(x)return Ie=x.nextPos,x.result;if(t=Ie,r=peg$parsevar(),r===a&&(r=Ie,40===e.charCodeAt(Ie)?(n=O,Ie++):(n=a,0===Fe&&peg$fail(D)),n!==a?(i=peg$parse_(),i!==a?(s=peg$parseobjectexpr(),s!==a?(l=peg$parse_(),l!==a?(41===e.charCodeAt(Ie)?(o=k,Ie++):(o=a,0===Fe&&peg$fail(I)),o!==a?(Le=r,n=peg$c26(s),r=n):(Ie=r,r=a)):(Ie=r,r=a)):(Ie=r,r=a)):(Ie=r,r=a)):(Ie=r,r=a)),r!==a)if(n=peg$parse_(),n!==a){if(i=Ie,40===e.charCodeAt(Ie)?(s=O,Ie++):(s=a,0===Fe&&peg$fail(D)),s!==a)if(l=peg$parse_(),l!==a){if(o=Ie,p=peg$parseobjectexpr(),p!==a){u=[],c=Ie,f=peg$parse_(),f!==a?(44===e.charCodeAt(Ie)?(d=g,Ie++):(d=a,0===Fe&&peg$fail(h)),d!==a?($=peg$parse_(),$!==a?(m=peg$parseobjectexpr(),m!==a?(Le=c,f=peg$c98(r,p,m),c=f):(Ie=c,c=a)):(Ie=c,c=a)):(Ie=c,c=a)):(Ie=c,c=a);while(c!==a)u.push(c),c=Ie,f=peg$parse_(),f!==a?(44===e.charCodeAt(Ie)?(d=g,Ie++):(d=a,0===Fe&&peg$fail(h)),d!==a?($=peg$parse_(),$!==a?(m=peg$parseobjectexpr(),m!==a?(Le=c,f=peg$c98(r,p,m),c=f):(Ie=c,c=a)):(Ie=c,c=a)):(Ie=c,c=a)):(Ie=c,c=a);u!==a?(c=peg$parse_(),c!==a?(Le=o,p=peg$c99(r,p,u),o=p):(Ie=o,o=a)):(Ie=o,o=a)}else Ie=o,o=a;o===a&&(o=null),o!==a?(41===e.charCodeAt(Ie)?(p=k,Ie++):(p=a,0===Fe&&peg$fail(I)),p!==a?(Le=i,s=peg$c100(r,o),i=s):(Ie=i,i=a)):(Ie=i,i=a)}else Ie=i,i=a;else Ie=i,i=a;i!==a?(Le=t,r=peg$c102(r,i),t=r):(Ie=t,t=a)}else Ie=t,t=a;else Ie=t,t=a;return Re[_]={nextPos:Ie,result:t},t}function peg$parsefunexpr(){var t,r,n,i,s,l,o,p,u,c,f,d,b=44*Ie+16,y=Re[b];if(y)return Ie=y.nextPos,y.result;if(t=Ie,r=Ie,40===e.charCodeAt(Ie)?(n=O,Ie++):(n=a,0===Fe&&peg$fail(D)),n!==a)if(i=peg$parse_(),i!==a){if(s=Ie,l=peg$parsedefparam(),l!==a){o=[],p=Ie,u=peg$parse_(),u!==a?(44===e.charCodeAt(Ie)?(c=g,Ie++):(c=a,0===Fe&&peg$fail(h)),c!==a?(f=peg$parse_(),f!==a?(d=peg$parsedefparam(),d!==a?(Le=p,u=peg$c103(l,d),p=u):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a);while(p!==a)o.push(p),p=Ie,u=peg$parse_(),u!==a?(44===e.charCodeAt(Ie)?(c=g,Ie++):(c=a,0===Fe&&peg$fail(h)),c!==a?(f=peg$parse_(),f!==a?(d=peg$parsedefparam(),d!==a?(Le=p,u=peg$c103(l,d),p=u):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a);o!==a?(p=peg$parse_(),p!==a?(Le=s,l=peg$c79(l,o),s=l):(Ie=s,s=a)):(Ie=s,s=a)}else Ie=s,s=a;s===a&&(s=null),s!==a?(41===e.charCodeAt(Ie)?(l=k,Ie++):(l=a,0===Fe&&peg$fail(I)),l!==a?(o=peg$parse_(),o!==a?(Le=r,n=peg$c104(s),r=n):(Ie=r,r=a)):(Ie=r,r=a)):(Ie=r,r=a)}else Ie=r,r=a;else Ie=r,r=a;return r!==a?(e.substr(Ie,2)===re?(n=re,Ie+=2):(n=a,0===Fe&&peg$fail(ae)),n!==a?(i=peg$parse_(),i!==a?(s=peg$parseobjectexpr(),s===a&&(s=Ie,123===e.charCodeAt(Ie)?(l=$,Ie++):(l=a,0===Fe&&peg$fail(m)),l!==a?(o=peg$parse_(),o!==a?(p=peg$parseobjectexpr(),p!==a?(u=peg$parse_(),u!==a?(125===e.charCodeAt(Ie)?(c=_,Ie++):(c=a,0===Fe&&peg$fail(x)),c!==a?(Le=s,l=peg$c107(r,p),s=l):(Ie=s,s=a)):(Ie=s,s=a)):(Ie=s,s=a)):(Ie=s,s=a)):(Ie=s,s=a)),s!==a?(Le=t,r=peg$c108(r,s),t=r):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a),Re[b]={nextPos:Ie,result:t},t}function peg$parseschemaexpr(){var t,r,n,i,s,l,o,p,u,c,f,d,b=44*Ie+17,y=Re[b];if(y)return Ie=y.nextPos,y.result;if(t=Ie,r=Ie,40===e.charCodeAt(Ie)?(n=O,Ie++):(n=a,0===Fe&&peg$fail(D)),n!==a)if(i=peg$parse_(),i!==a){if(s=Ie,l=peg$parsedefparam(),l!==a){o=[],p=Ie,u=peg$parse_(),u!==a?(44===e.charCodeAt(Ie)?(c=g,Ie++):(c=a,0===Fe&&peg$fail(h)),c!==a?(f=peg$parse_(),f!==a?(d=peg$parsedefparam(),d!==a?(Le=p,u=peg$c103(l,d),p=u):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a);while(p!==a)o.push(p),p=Ie,u=peg$parse_(),u!==a?(44===e.charCodeAt(Ie)?(c=g,Ie++):(c=a,0===Fe&&peg$fail(h)),c!==a?(f=peg$parse_(),f!==a?(d=peg$parsedefparam(),d!==a?(Le=p,u=peg$c103(l,d),p=u):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a)):(Ie=p,p=a);o!==a?(p=peg$parse_(),p!==a?(Le=s,l=peg$c79(l,o),s=l):(Ie=s,s=a)):(Ie=s,s=a)}else Ie=s,s=a;s===a&&(s=null),s!==a?(41===e.charCodeAt(Ie)?(l=k,Ie++):(l=a,0===Fe&&peg$fail(I)),l!==a?(o=peg$parse_(),o!==a?(Le=r,n=peg$c104(s),r=n):(Ie=r,r=a)):(Ie=r,r=a)):(Ie=r,r=a)}else Ie=r,r=a;else Ie=r,r=a;if(r!==a)if(e.substr(Ie,2)===re?(n=re,Ie+=2):(n=a,0===Fe&&peg$fail(ae)),n!==a)if(i=peg$parse_(),i!==a){if(s=Ie,l=peg$parseexpr_internal_1(),l!==a&&(Le=s,l=peg$c109(r,l)),s=l,s===a)if(s=Ie,123===e.charCodeAt(Ie)?(l=$,Ie++):(l=a,0===Fe&&peg$fail(m)),l!==a)if(o=peg$parse_(),o!==a){p=[],u=Ie,c=peg$parsedefdollar(),c!==a?(f=peg$parse_(),f!==a?(Le=u,c=peg$c110(r,c),u=c):(Ie=u,u=a)):(Ie=u,u=a);while(u!==a)p.push(u),u=Ie,c=peg$parsedefdollar(),c!==a?(f=peg$parse_(),f!==a?(Le=u,c=peg$c110(r,c),u=c):(Ie=u,u=a)):(Ie=u,u=a);p!==a?(u=peg$parse_(),u!==a?(c=peg$parseexpr_internal_3(),c!==a?(f=peg$parse_(),f!==a?(125===e.charCodeAt(Ie)?(d=_,Ie++):(d=a,0===Fe&&peg$fail(x)),d!==a?(Le=s,l=peg$c111(r,p,c),s=l):(Ie=s,s=a)):(Ie=s,s=a)):(Ie=s,s=a)):(Ie=s,s=a)):(Ie=s,s=a)}else Ie=s,s=a;else Ie=s,s=a;s!==a?(Le=t,r=peg$c112(r,s),t=r):(Ie=t,t=a)}else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;return Re[b]={nextPos:Ie,result:t},t}function peg$parseconditional(){var t,r,n,i,s,l,o,p,u,c,f,d,b=44*Ie+18,y=Re[b];if(y)return Ie=y.nextPos,y.result;if(t=Ie,r=Ie,n=Ie,i=peg$parseexpr_internal_1(),i!==a){s=[],l=Ie,o=peg$parse_(),o!==a?(44===e.charCodeAt(Ie)?(p=g,Ie++):(p=a,0===Fe&&peg$fail(h)),p!==a?(u=peg$parse_(),u!==a?(c=peg$parseexpr_internal_1(),c!==a?(Le=l,o=peg$c78(i,c),l=o):(Ie=l,l=a)):(Ie=l,l=a)):(Ie=l,l=a)):(Ie=l,l=a);while(l!==a)s.push(l),l=Ie,o=peg$parse_(),o!==a?(44===e.charCodeAt(Ie)?(p=g,Ie++):(p=a,0===Fe&&peg$fail(h)),p!==a?(u=peg$parse_(),u!==a?(c=peg$parseexpr_internal_1(),c!==a?(Le=l,o=peg$c78(i,c),l=o):(Ie=l,l=a)):(Ie=l,l=a)):(Ie=l,l=a)):(Ie=l,l=a);s!==a?(l=peg$parse_(),l!==a?(Le=n,i=peg$c79(i,s),n=i):(Ie=n,n=a)):(Ie=n,n=a)}else Ie=n,n=a;if(n===a&&(n=null),n!==a&&(Le=r,n=peg$c113(n)),r=n,r!==a)if(e.substr(Ie,2)===ne?(n=ne,Ie+=2):(n=a,0===Fe&&peg$fail(ie)),n!==a)if(i=peg$parse_(),i!==a){if(s=Ie,l=peg$parseexpr_internal_2(),l!==a&&(Le=s,l=peg$c116(r,l)),s=l,s===a)if(s=Ie,123===e.charCodeAt(Ie)?(l=$,Ie++):(l=a,0===Fe&&peg$fail(m)),l!==a)if(o=peg$parse_(),o!==a){p=[],u=Ie,c=peg$parsedefdollar(),c!==a?(f=peg$parse_(),f!==a?(Le=u,c=peg$c117(r,c),u=c):(Ie=u,u=a)):(Ie=u,u=a);while(u!==a)p.push(u),u=Ie,c=peg$parsedefdollar(),c!==a?(f=peg$parse_(),f!==a?(Le=u,c=peg$c117(r,c),u=c):(Ie=u,u=a)):(Ie=u,u=a);p!==a?(u=peg$parse_(),u!==a?(c=peg$parseexpr_internal_3(),c!==a?(f=peg$parse_(),f!==a?(125===e.charCodeAt(Ie)?(d=_,Ie++):(d=a,0===Fe&&peg$fail(x)),d!==a?(Le=s,l=peg$c118(r,p,c),s=l):(Ie=s,s=a)):(Ie=s,s=a)):(Ie=s,s=a)):(Ie=s,s=a)):(Ie=s,s=a)}else Ie=s,s=a;else Ie=s,s=a;s!==a?(Le=t,r=peg$c119(r,s),t=r):(Ie=t,t=a)}else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;return Re[b]={nextPos:Ie,result:t},t}function peg$parsewith(){var t,r,n,i,s,l,o,p,u,c,f,d,g,h,b,y,P,C,A,E,j,S,T,M,L=44*Ie+19,q=Re[L];if(q)return Ie=q.nextPos,q.result;if(t=Ie,e.substr(Ie,4)===se?(r=se,Ie+=4):(r=a,0===Fe&&peg$fail(le)),r!==a)if(n=peg$parse_(),n!==a)if(40===e.charCodeAt(Ie)?(i=O,Ie++):(i=a,0===Fe&&peg$fail(D)),i!==a)if(s=peg$parse_(),s!==a)if(l=Ie,o=peg$parsedocumentation(),o!==a?(p=peg$parse__(),p!==a?(o=[o,p],l=o):(Ie=l,l=a)):(Ie=l,l=a),l===a&&(l=null),l!==a)if(o=Ie,p=peg$parsetex(),p!==a?(u=peg$parse__(),u!==a?(p=[p,u],o=p):(Ie=o,o=a)):(Ie=o,o=a),o===a&&(o=null),o!==a)if(p=peg$parsetype(),p!==a)if(u=peg$parse__(),u!==a)if(c=peg$parseident(),c!==a)if(f=peg$parse_(),f!==a)if(61===e.charCodeAt(Ie)?(d=v,Ie++):(d=a,0===Fe&&peg$fail(w)),d!==a)if(g=peg$parse_(),g!==a)if(h=peg$parseobjectexpr(),h!==a)if(b=peg$parse_(),b!==a)if(41===e.charCodeAt(Ie)?(y=k,Ie++):(y=a,0===Fe&&peg$fail(I)),y!==a)if(P=peg$parse_(),P!==a)if(123===e.charCodeAt(Ie)?(C=$,Ie++):(C=a,0===Fe&&peg$fail(m)),C!==a)if(A=peg$parse_(),A!==a){E=[],j=Ie,S=peg$parsedefdollar(),S!==a?(T=peg$parse_(),T!==a?(Le=j,S=peg$c122(l,o,p,c,h,S),j=S):(Ie=j,j=a)):(Ie=j,j=a);while(j!==a)E.push(j),j=Ie,S=peg$parsedefdollar(),S!==a?(T=peg$parse_(),T!==a?(Le=j,S=peg$c122(l,o,p,c,h,S),j=S):(Ie=j,j=a)):(Ie=j,j=a);E!==a?(j=peg$parse_(),j!==a?(S=peg$parseexpr_internal_3(),S!==a?(T=peg$parse_(),T!==a?(125===e.charCodeAt(Ie)?(M=_,Ie++):(M=a,0===Fe&&peg$fail(x)),M!==a?(Le=t,r=peg$c123(l,o,p,c,h,E,S),t=r):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)}else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;return Re[L]={nextPos:Ie,result:t},t}function peg$parseexpr_internal_3(){var e,t=44*Ie+20,r=Re[t];return r?(Ie=r.nextPos,r.result):(e=peg$parsereduction(),e===a&&(e=peg$parseexpr_internal_2()),Re[t]={nextPos:Ie,result:e},e)}function peg$parseexpr_internal_2(){var e,t=44*Ie+21,r=Re[t];return r?(Ie=r.nextPos,r.result):(e=peg$parseconditional(),e===a&&(e=peg$parseexpr_internal_1()),Re[t]={nextPos:Ie,result:e},e)}function peg$parseexpr_internal_1(){var t,r,n,i,s,l,o=44*Ie+22,p=Re[o];return p?(Ie=p.nextPos,p.result):(t=peg$parseschemacall(),t===a&&(t=peg$parsevar(),t===a&&(t=peg$parseschemaexpr(),t===a&&(t=peg$parsewith(),t===a&&(t=Ie,40===e.charCodeAt(Ie)?(r=O,Ie++):(r=a,0===Fe&&peg$fail(D)),r!==a?(n=peg$parse_(),n!==a?(i=peg$parseexpr_internal_3(),i!==a?(s=peg$parse_(),s!==a?(41===e.charCodeAt(Ie)?(l=k,Ie++):(l=a,0===Fe&&peg$fail(I)),l!==a?(Le=t,r=peg$c26(i),t=r):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a))))),Re[o]={nextPos:Ie,result:t},t)}function peg$parseobjectexpr(){var t,r,n,i,s,l,o=44*Ie+23,p=Re[o];return p?(Ie=p.nextPos,p.result):(t=peg$parsefuncall(),t===a&&(t=peg$parsefunexpr(),t===a&&(t=peg$parsevar(),t===a&&(t=Ie,40===e.charCodeAt(Ie)?(r=O,Ie++):(r=a,0===Fe&&peg$fail(D)),r!==a?(n=peg$parse_(),n!==a?(i=peg$parseobjectexpr(),i!==a?(s=peg$parse_(),s!==a?(41===e.charCodeAt(Ie)?(l=k,Ie++):(l=a,0===Fe&&peg$fail(I)),l!==a?(Le=t,r=peg$c26(i),t=r):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)))),Re[o]={nextPos:Ie,result:t},t)}function peg$parsedefdollar(){var t,r,n,i,s,l,o,p,u=44*Ie+24,c=Re[u];return c?(Ie=c.nextPos,c.result):(t=Ie,r=peg$parsedollar_ident(),r!==a?(n=peg$parse_(),n!==a?(61===e.charCodeAt(Ie)?(i=v,Ie++):(i=a,0===Fe&&peg$fail(w)),i!==a?(s=peg$parse_(),s!==a?(l=peg$parseexpr_internal_3(),l!==a?(o=peg$parse_(),o!==a?(p=peg$parsesem(),p!==a?(Le=t,r=peg$c124(r,l),t=r):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a),Re[u]={nextPos:Ie,result:t},t)}function peg$parsetype(){var e,t=44*Ie+25,r=Re[t];return r?(Ie=r.nextPos,r.result):(e=peg$parsestype(),e===a&&(e=peg$parseftype()),Re[t]={nextPos:Ie,result:e},e)}function peg$parsestype(){var e,t,r=44*Ie+26,n=Re[r];return n?(Ie=n.nextPos,n.result):(e=Ie,t=peg$parseident(),t!==a&&(Le=e,t=peg$c125(t)),e=t,Re[r]={nextPos:Ie,result:e},e)}function peg$parseftype(){var t,r,n,i,s,l,o,p,u,c,f,d=44*Ie+27,$=Re[d];if($)return Ie=$.nextPos,$.result;if(t=Ie,91===e.charCodeAt(Ie)?(r=U,Ie++):(r=a,0===Fe&&peg$fail(z)),r!==a)if(n=peg$parse_(),n!==a){if(i=Ie,s=peg$parsetype(),s!==a){l=[],o=Ie,p=peg$parse_(),p!==a?(44===e.charCodeAt(Ie)?(u=g,Ie++):(u=a,0===Fe&&peg$fail(h)),u!==a?(c=peg$parse_(),c!==a?(f=peg$parsetype(),f!==a?(Le=o,p=peg$c126(s,f),o=p):(Ie=o,o=a)):(Ie=o,o=a)):(Ie=o,o=a)):(Ie=o,o=a);while(o!==a)l.push(o),o=Ie,p=peg$parse_(),p!==a?(44===e.charCodeAt(Ie)?(u=g,Ie++):(u=a,0===Fe&&peg$fail(h)),u!==a?(c=peg$parse_(),c!==a?(f=peg$parsetype(),f!==a?(Le=o,p=peg$c126(s,f),o=p):(Ie=o,o=a)):(Ie=o,o=a)):(Ie=o,o=a)):(Ie=o,o=a);l!==a?(Le=i,s=peg$c79(s,l),i=s):(Ie=i,i=a)}else Ie=i,i=a;i!==a?(s=peg$parse_(),s!==a?(e.substr(Ie,2)===oe?(l=oe,Ie+=2):(l=a,0===Fe&&peg$fail(pe)),l!==a?(o=peg$parse_(),o!==a?(p=peg$parsetype(),p!==a?(u=peg$parse_(),u!==a?(93===e.charCodeAt(Ie)?(c=Q,Ie++):(c=a,0===Fe&&peg$fail(Y)),c!==a?(Le=t,r=peg$c129(i,p),t=r):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)}else Ie=t,t=a;else Ie=t,t=a;return Re[d]={nextPos:Ie,result:t},t}function peg$parsevar(){var e,t=44*Ie+28,r=Re[t];return r?(Ie=r.nextPos,r.result):(e=peg$parseat_var(),e===a&&(e=peg$parsedollar_var(),e===a&&(e=peg$parseplain_var())),Re[t]={nextPos:Ie,result:e},e)}function peg$parseat_var(){var e,t,r=44*Ie+29,n=Re[r];return n?(Ie=n.nextPos,n.result):(e=Ie,t=peg$parseat_ident(),t!==a&&(Le=e,t=peg$c130(t)),e=t,Re[r]={nextPos:Ie,result:e},e)}function peg$parsedollar_var(){var e,t,r=44*Ie+30,n=Re[r];return n?(Ie=n.nextPos,n.result):(e=Ie,t=peg$parsedollar_ident(),t!==a&&(Le=e,t=peg$c131(t)),e=t,Re[r]={nextPos:Ie,result:e},e)}function peg$parseplain_var(){var e,t,r=44*Ie+31,n=Re[r];return n?(Ie=n.nextPos,n.result):(e=Ie,t=peg$parseident(),t!==a&&(Le=e,t=peg$c132(t)),e=t,Re[r]={nextPos:Ie,result:e},e)}function peg$parsekeyword(){var t,r=44*Ie+32,n=Re[r];return n?(Ie=n.nextPos,n.result):(e.substr(Ie,2)===ee?(t=ee,Ie+=2):(t=a,0===Fe&&peg$fail(te)),t===a&&(e.substr(Ie,5)===L?(t=L,Ie+=5):(t=a,0===Fe&&peg$fail(q)),t===a&&(e.substr(Ie,7)===f?(t=f,Ie+=7):(t=a,0===Fe&&peg$fail(d)),t===a&&(e.substr(Ie,6)===o?(t=o,Ie+=6):(t=a,0===Fe&&peg$fail(p)),t===a&&(e.substr(Ie,7)===s?(t=s,Ie+=7):(t=a,0===Fe&&peg$fail(l)),t===a&&(e.substr(Ie,6)===F?(t=F,Ie+=6):(t=a,0===Fe&&peg$fail(R)),t===a&&(e.substr(Ie,6)===u?(t=u,Ie+=6):(t=a,0===Fe&&peg$fail(c)),t===a&&(e.substr(Ie,7)===N?(t=N,Ie+=7):(t=a,0===Fe&&peg$fail(V)),t===a&&(e.substr(Ie,4)===b?(t=b,Ie+=4):(t=a,0===Fe&&peg$fail(y)),t===a&&(e.substr(Ie,8)===P?(t=P,Ie+=8):(t=a,0===Fe&&peg$fail(C)),t===a&&(e.substr(Ie,5)===X?(t=X,Ie+=5):(t=a,0===Fe&&peg$fail(H)),t===a&&(e.substr(Ie,4)===se?(t=se,Ie+=4):(t=a,0===Fe&&peg$fail(le))))))))))))),Re[r]={nextPos:Ie,result:t},t)}function peg$parseident(){var t,r,n,i,s,l,o,p=44*Ie+33,u=Re[p];if(u)return Ie=u.nextPos,u.result;if(t=Ie,r=Ie,n=Ie,Fe++,i=Ie,s=peg$parsekeyword(),s!==a?(l=Ie,Fe++,ue.test(e.charAt(Ie))?(o=e.charAt(Ie),Ie++):(o=a,0===Fe&&peg$fail(ce)),Fe--,o===a?l=void 0:(Ie=l,l=a),l!==a?(s=[s,l],i=s):(Ie=i,i=a)):(Ie=i,i=a),Fe--,i===a?n=void 0:(Ie=n,n=a),n!==a){if(i=[],ue.test(e.charAt(Ie))?(s=e.charAt(Ie),Ie++):(s=a,0===Fe&&peg$fail(ce)),s!==a)while(s!==a)i.push(s),ue.test(e.charAt(Ie))?(s=e.charAt(Ie),Ie++):(s=a,0===Fe&&peg$fail(ce));else i=a;i!==a?(n=[n,i],r=n):(Ie=r,r=a)}else Ie=r,r=a;return t=r!==a?e.substring(t,Ie):r,Re[p]={nextPos:Ie,result:t},t}function peg$parseat_ident(){var t,r,n,i,s,l=44*Ie+34,o=Re[l];if(o)return Ie=o.nextPos,o.result;if(t=Ie,r=Ie,64===e.charCodeAt(Ie)?(n=j,Ie++):(n=a,0===Fe&&peg$fail(S)),n!==a){if(i=[],ue.test(e.charAt(Ie))?(s=e.charAt(Ie),Ie++):(s=a,0===Fe&&peg$fail(ce)),s!==a)while(s!==a)i.push(s),ue.test(e.charAt(Ie))?(s=e.charAt(Ie),Ie++):(s=a,0===Fe&&peg$fail(ce));else i=a;i!==a?(n=[n,i],r=n):(Ie=r,r=a)}else Ie=r,r=a;return t=r!==a?e.substring(t,Ie):r,Re[l]={nextPos:Ie,result:t},t}function peg$parsedollar_ident(){var t,r,n,i,s,l=44*Ie+35,o=Re[l];if(o)return Ie=o.nextPos,o.result;if(t=Ie,r=Ie,36===e.charCodeAt(Ie)?(n=fe,Ie++):(n=a,0===Fe&&peg$fail(de)),n!==a){if(i=[],ue.test(e.charAt(Ie))?(s=e.charAt(Ie),Ie++):(s=a,0===Fe&&peg$fail(ce)),s!==a)while(s!==a)i.push(s),ue.test(e.charAt(Ie))?(s=e.charAt(Ie),Ie++):(s=a,0===Fe&&peg$fail(ce));else i=a;i!==a?(n=[n,i],r=n):(Ie=r,r=a)}else Ie=r,r=a;return t=r!==a?e.substring(t,Ie):r,Re[l]={nextPos:Ie,result:t},t}function peg$parsedocumentation(){var t,r,n,i,s,l,o,p=44*Ie+36,u=Re[p];if(u)return Ie=u.nextPos,u.result;if(t=Ie,34===e.charCodeAt(Ie)?(r=ge,Ie++):(r=a,0===Fe&&peg$fail(he)),r!==a){n=Ie,i=[],s=Ie,l=Ie,Fe++,34===e.charCodeAt(Ie)?(o=ge,Ie++):(o=a,0===Fe&&peg$fail(he)),Fe--,o===a?l=void 0:(Ie=l,l=a),l!==a?(e.length>Ie?(o=e.charAt(Ie),Ie++):(o=a,0===Fe&&peg$fail($e)),o!==a?(Le=s,l=peg$c140(o),s=l):(Ie=s,s=a)):(Ie=s,s=a);while(s!==a)i.push(s),s=Ie,l=Ie,Fe++,34===e.charCodeAt(Ie)?(o=ge,Ie++):(o=a,0===Fe&&peg$fail(he)),Fe--,o===a?l=void 0:(Ie=l,l=a),l!==a?(e.length>Ie?(o=e.charAt(Ie),Ie++):(o=a,0===Fe&&peg$fail($e)),o!==a?(Le=s,l=peg$c140(o),s=l):(Ie=s,s=a)):(Ie=s,s=a);n=i!==a?e.substring(n,Ie):i,n!==a?(34===e.charCodeAt(Ie)?(i=ge,Ie++):(i=a,0===Fe&&peg$fail(he)),i!==a?(Le=t,r=peg$c141(n),t=r):(Ie=t,t=a)):(Ie=t,t=a)}else Ie=t,t=a;return Re[p]={nextPos:Ie,result:t},t}function peg$parsetex_attributes(){var t,r,n,i,s,l,o,p,u=44*Ie+37,c=Re[u];if(c)return Ie=c.nextPos,c.result;if(t=Ie,91===e.charCodeAt(Ie)?(r=U,Ie++):(r=a,0===Fe&&peg$fail(z)),r!==a)if(n=peg$parse_(),n!==a)if(e.substr(Ie,11)===me?(i=me,Ie+=11):(i=a,0===Fe&&peg$fail(_e)),i!==a)if(s=peg$parse_(),s!==a){if(l=Ie,o=[],xe.test(e.charAt(Ie))?(p=e.charAt(Ie),Ie++):(p=a,0===Fe&&peg$fail(be)),p!==a)while(p!==a)o.push(p),xe.test(e.charAt(Ie))?(p=e.charAt(Ie),Ie++):(p=a,0===Fe&&peg$fail(be));else o=a;l=o!==a?e.substring(l,Ie):o,l!==a?(o=peg$parse_(),o!==a?(93===e.charCodeAt(Ie)?(p=Q,Ie++):(p=a,0===Fe&&peg$fail(Y)),p!==a?(Le=t,r=peg$c146(l),t=r):(Ie=t,t=a)):(Ie=t,t=a)):(Ie=t,t=a)}else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;else Ie=t,t=a;return Re[u]={nextPos:Ie,result:t},t}function peg$parsetex(){var t,r,n,i,s,l,o,p=44*Ie+38,u=Re[p];if(u)return Ie=u.nextPos,u.result;if(t=Ie,36===e.charCodeAt(Ie)?(r=fe,Ie++):(r=a,0===Fe&&peg$fail(de)),r!==a){n=Ie,i=[],s=Ie,l=Ie,Fe++,36===e.charCodeAt(Ie)?(o=fe,Ie++):(o=a,0===Fe&&peg$fail(de)),Fe--,o===a?l=void 0:(Ie=l,l=a),l!==a?(e.length>Ie?(o=e.charAt(Ie),Ie++):(o=a,0===Fe&&peg$fail($e)),o!==a?(Le=s,l=peg$c140(o),s=l):(Ie=s,s=a)):(Ie=s,s=a);while(s!==a)i.push(s),s=Ie,l=Ie,Fe++,36===e.charCodeAt(Ie)?(o=fe,Ie++):(o=a,0===Fe&&peg$fail(de)),Fe--,o===a?l=void 0:(Ie=l,l=a),l!==a?(e.length>Ie?(o=e.charAt(Ie),Ie++):(o=a,0===Fe&&peg$fail($e)),o!==a?(Le=s,l=peg$c140(o),s=l):(Ie=s,s=a)):(Ie=s,s=a);n=i!==a?e.substring(n,Ie):i,n!==a?(36===e.charCodeAt(Ie)?(i=fe,Ie++):(i=a,0===Fe&&peg$fail(de)),i!==a?(Le=t,r=peg$c141(n),t=r):(Ie=t,t=a)):(Ie=t,t=a)}else Ie=t,t=a;return Re[p]={nextPos:Ie,result:t},t}function peg$parsecomment(){var t,r,n,i,s,l,o=44*Ie+39,p=Re[o];if(p)return Ie=p.nextPos,p.result;if(t=Ie,e.substr(Ie,2)===ye?(r=ye,Ie+=2):(r=a,0===Fe&&peg$fail(ve)),r!==a){n=[],i=Ie,s=Ie,Fe++,l=peg$parsenewline(),Fe--,l===a?s=void 0:(Ie=s,s=a),s!==a?(e.length>Ie?(l=e.charAt(Ie),Ie++):(l=a,0===Fe&&peg$fail($e)),l!==a?(s=[s,l],i=s):(Ie=i,i=a)):(Ie=i,i=a);while(i!==a)n.push(i),i=Ie,s=Ie,Fe++,l=peg$parsenewline(),Fe--,l===a?s=void 0:(Ie=s,s=a),s!==a?(e.length>Ie?(l=e.charAt(Ie),Ie++):(l=a,0===Fe&&peg$fail($e)),l!==a?(s=[s,l],i=s):(Ie=i,i=a)):(Ie=i,i=a);n!==a?(r=[r,n],t=r):(Ie=t,t=a)}else Ie=t,t=a;if(t===a)if(t=Ie,e.substr(Ie,2)===we?(r=we,Ie+=2):(r=a,0===Fe&&peg$fail(Pe)),r!==a){n=[],i=Ie,s=Ie,Fe++,e.substr(Ie,2)===Ce?(l=Ce,Ie+=2):(l=a,0===Fe&&peg$fail(Ae)),Fe--,l===a?s=void 0:(Ie=s,s=a),s!==a?(e.length>Ie?(l=e.charAt(Ie),Ie++):(l=a,0===Fe&&peg$fail($e)),l!==a?(s=[s,l],i=s):(Ie=i,i=a)):(Ie=i,i=a);while(i!==a)n.push(i),i=Ie,s=Ie,Fe++,e.substr(Ie,2)===Ce?(l=Ce,Ie+=2):(l=a,0===Fe&&peg$fail(Ae)),Fe--,l===a?s=void 0:(Ie=s,s=a),s!==a?(e.length>Ie?(l=e.charAt(Ie),Ie++):(l=a,0===Fe&&peg$fail($e)),l!==a?(s=[s,l],i=s):(Ie=i,i=a)):(Ie=i,i=a);n!==a?(e.substr(Ie,2)===Ce?(i=Ce,Ie+=2):(i=a,0===Fe&&peg$fail(Ae)),i!==a?(r=[r,n,i],t=r):(Ie=t,t=a)):(Ie=t,t=a)}else Ie=t,t=a;return Re[o]={nextPos:Ie,result:t},t}function peg$parsenewline(){var t,r=44*Ie+40,n=Re[r];return n?(Ie=n.nextPos,n.result):(e.substr(Ie,2)===Ee?(t=Ee,Ie+=2):(t=a,0===Fe&&peg$fail(je)),t===a&&(13===e.charCodeAt(Ie)?(t=Se,Ie++):(t=a,0===Fe&&peg$fail(Te)),t===a&&(10===e.charCodeAt(Ie)?(t=Me,Ie++):(t=a,0===Fe&&peg$fail(Oe)))),Re[r]={nextPos:Ie,result:t},t)}function peg$parse_(){var t,r,n=44*Ie+41,i=Re[n];if(i)return Ie=i.nextPos,i.result;t=[],De.test(e.charAt(Ie))?(r=e.charAt(Ie),Ie++):(r=a,0===Fe&&peg$fail(ke)),r===a&&(r=peg$parsecomment());while(r!==a)t.push(r),De.test(e.charAt(Ie))?(r=e.charAt(Ie),Ie++):(r=a,0===Fe&&peg$fail(ke)),r===a&&(r=peg$parsecomment());return Re[n]={nextPos:Ie,result:t},t}function peg$parse__(){var t,r,n=44*Ie+42,i=Re[n];if(i)return Ie=i.nextPos,i.result;if(t=[],De.test(e.charAt(Ie))?(r=e.charAt(Ie),Ie++):(r=a,0===Fe&&peg$fail(ke)),r===a&&(r=peg$parsecomment()),r!==a)while(r!==a)t.push(r),De.test(e.charAt(Ie))?(r=e.charAt(Ie),Ie++):(r=a,0===Fe&&peg$fail(ke)),r===a&&(r=peg$parsecomment());else t=a;return Re[n]={nextPos:Ie,result:t},t}function peg$parsesem(){var t,r=44*Ie+43,n=Re[r];return n?(Ie=n.nextPos,n.result):(59===e.charCodeAt(Ie)?(t=Z,Ie++):(t=a,0===Fe&&peg$fail(B)),Re[r]={nextPos:Ie,result:t},t)}if(r=i(),r!==a&&Ie===e.length)return r;throw r!==a&&Ie<e.length&&peg$fail(peg$endExpectation()),peg$buildStructuredError(Ve,Ne<e.length?e.charAt(Ne):null,Ne<e.length?peg$computeLocation(Ne,Ne+1):peg$computeLocation(Ne,Ne))}peg$subclass(peg$SyntaxError,Error),peg$SyntaxError.buildMessage=function(e,t){var r={literal:function(e){return'"'+literalEscape(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?classEscape(e.parts[t][0])+"-"+classEscape(e.parts[t][1]):classEscape(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function hex(e){return e.charCodeAt(0).toString(16).toUpperCase()}function literalEscape(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+hex(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+hex(e)}))}function classEscape(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+hex(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+hex(e)}))}function describeExpectation(e){return r[e.type](e)}function describeExpected(e){var t,r,a=new Array(e.length);for(t=0;t<e.length;t++)a[t]=describeExpectation(e[t]);if(a.sort(),a.length>0){for(t=1,r=1;t<a.length;t++)a[t-1]!==a[t]&&(a[r]=a[t],r++);a.length=r}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}function describeFound(e){return e?'"'+literalEscape(e)+'"':"end of input"}return"Expected "+describeExpected(e)+" but "+describeFound(t)+" found."},e.exports={SyntaxError:peg$SyntaxError,parse:peg$parse}},6473:function(e){function peg$subclass(e,t){function ctor(){this.constructor=e}ctor.prototype=t.prototype,e.prototype=new ctor}function peg$SyntaxError(e,t,r,a){this.message=e,this.expected=t,this.found=r,this.location=a,this.name="SyntaxError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}function peg$parse(e,t){t=void 0!==t?t:{};var r,a={},n={start:peg$parsestart},i=peg$parsestart,peg$c0=function(e,t){return t},peg$c1=function(e,t,r){return r},peg$c2=function(e,t,r){return{_type:"start",defpackage:e||null,imports:t,systems:r}},s="package",l=peg$literalExpectation("package",!1),o=".",p=peg$literalExpectation(".",!1),peg$c7=function(e){return{_type:"defpackage",name:e,location:location()}},u="import",c=peg$literalExpectation("import",!1),peg$c10=function(e){return{_type:"import",name:e,location:location()}},f="system",d=peg$literalExpectation("system",!1),g="extends",h=peg$literalExpectation("extends",!1),$=",",m=peg$literalExpectation(",",!1),peg$c17=function(e,t,r){return r},peg$c18=function(e,t,r){return[t].concat(r)},peg$c19=function(e,t){return t},_="{",x=peg$literalExpectation("{",!1),peg$c22=function(e,t,r){return r},b="}",y=peg$literalExpectation("}",!1),peg$c25=function(e,t,r){return{_type:"defsystem",name:e,extends_:t||[],lines:r,location:location()}},peg$c26=function(e){return e},v="type",w=peg$literalExpectation("type",!1),P="=",C=peg$literalExpectation("=",!1),peg$c31=function(e,t,r){return r},peg$c32=function(e,t,r){return{_type:"typedef",doc:e?e[0]:null,expr:r,name:t,location:location()}},A="unsealed",E=peg$literalExpectation("unsealed",!1),peg$c35=function(e,t,r,a,n,i){return i},peg$c36=function(e,t,r,a,n){return null},peg$c37=function(e,t,r,a,n,i){return{_type:"defv",isParam:!1,doc:e?e[0]:null,tex:t?t[0]:null,sealed:!r,type:a,name:n,expr:i,location:location()}},peg$c38=function(e,t,r){return{_type:"defv",isParam:!0,doc:null,tex:e?e[0]:null,type:t,name:r,location:location()}},j=":",S=peg$literalExpectation(":",!1),T="@",M=peg$literalExpectation("@",!1),O=/^[a-z0-9_]/,D=peg$classExpectation([["a","z"],["0","9"],"_"],!1,!1),peg$c45=function(e,t,r,a){return a},peg$c46=function(e,t,r,a){return{_type:"defv",isParam:!0,doc:null,tex:e?e[0]:null,type:t,name:r,selector:a,location:location()}},k="(",I=peg$literalExpectation("(",!1),peg$c49=function(e,t,r,a,n,i,s,l){return l},peg$c50=function(e,t,r,a,n,i,s,l){return[s].concat(l)},L=")",q=peg$literalExpectation(")",!1),peg$c53=function(e,t,r,a,n,i,s){return s||[]},peg$c54=function(e,t,r,a,n,i,s,l){return l},peg$c55=function(e,t,r,a,n,i,s){return null},peg$c56=function(e,t,r,a,n,i,s,l){return{_type:"defun",doc:e?e[0]:null,tex_attributes:t?t[0]:{precedence:0},tex:r?r[0]:null,sealed:!a,rettype:n,name:i,params:s,expr:l,location:location()}},N="axiom",V=peg$literalExpectation("axiom",!1),F="theorem",R=peg$literalExpectation("theorem",!1),X="schema",H=peg$literalExpectation("schema",!1),peg$c63=function(e,t,r,a,n){return n},peg$c64=function(e,t,r,a,n){return[a].concat(n)},peg$c65=function(e,t,r,a){return a||[]},U="using",z=peg$literalExpectation("using",!1),peg$c68=function(e,t,r,a,n,i){return i},peg$c69=function(e,t,r,a,n,i){return[n].concat(i)},peg$c70=function(e,t,r,a,n){return n},peg$c71=function(e,t,r,a,n,i){return i},peg$c72=function(e,t,r,a,n,i,s){return{_type:"defschema",doc:e?e[0]:null,schemaType:t,name:r,params:a,using:n||[],def$s:i,expr:s,location:location()}},peg$c73=function(e){return[e]},Z="[",B=peg$literalExpectation("[",!1),Q=";",Y=peg$literalExpectation(";",!1),peg$c78=function(e,t){return t},peg$c79=function(e,t){return[e].concat(t)},G="]",W=peg$literalExpectation("]",!1),peg$c82=function(e){return e||[]},J=">",K=peg$literalExpectation(">",!1),peg$c85=function(e,t){return t},ee="?",te=peg$literalExpectation("?",!1),peg$c88=function(e,t){return null},peg$c89=function(e,t,r){return null},peg$c90=function(e,t,r,a){return a},peg$c91=function(e,t,r,a){return[r].concat(a)},peg$c92=function(e,t,r){return r||[]},re="as",ae=peg$literalExpectation("as",!1),peg$c95=function(e,t,r,a){return a},peg$c96=function(e,t,r,a){return{subject:t,args:r,as_:a||null}},peg$c97=function(e,t){for(var r={_type:"reduction",subject:t[0].subject,args:t[0].args,antecedents:e,as:t[0].as_,location:location()},a=1;a<t.length;a++)r={_type:"reduction",subject:t[a].subject,args:t[a].args,antecedents:[r],as:t[a].as_,location:location()};return r},peg$c98=function(e,t,r){return r},peg$c99=function(e,t,r){return[t].concat(r)},peg$c100=function(e,t){return t||[]},peg$c101=function(e,t){return{_type:"schemacall",schema:e,args:t,location:location()}},peg$c102=function(e,t){return{_type:"funcall",schema:e,args:t,location:location()}},peg$c103=function(e,t){return t},peg$c104=function(e){return e||[]},ne="=>",ie=peg$literalExpectation("=>",!1),peg$c107=function(e,t){return t},peg$c108=function(e,t){return{_type:"funexpr",params:e,expr:t,location:location()}},peg$c109=function(e,t){return{defdollars:[],expr:t}},peg$c110=function(e,t){return t},peg$c111=function(e,t,r){return{defdollars:t,expr:r}},peg$c112=function(e,t){return{_type:"schemaexpr",params:e,def$s:t.defdollars,expr:t.expr,location:location()}},peg$c113=function(e){return e||[]},se="|-",le=peg$literalExpectation("|-",!1),peg$c116=function(e,t){return{defdollars:[],expr:t}},peg$c117=function(e,t){return t},peg$c118=function(e,t,r){return{defdollars:t,expr:r}},peg$c119=function(e,t){return{_type:"conditional",def$s:t.defdollars,left:e,right:t.expr,location:location()}},oe="with",pe=peg$literalExpectation("with",!1),peg$c122=function(e,t,r,a,n,i){return i},peg$c123=function(e,t,r,a,n,i,s){return{_type:"with",with:{_type:"defv",isParam:!1,doc:e?e[0]:null,tex:t?t[0]:null,sealed:!1,type:r,name:a,expr:n,location:location()},def$s:i,expr:s,location:location()}},peg$c124=function(e,t){return{_type:"def$",name:e,expr:t,location:location()}},peg$c125=function(e){return{_type:"type",ftype:!1,name:e,location:location()}},peg$c126=function(e,t){return t},ue="->",ce=peg$literalExpectation("->",!1),peg$c129=function(e,t){return{_type:"type",ftype:!0,from:e,to:t,location:location()}},peg$c130=function(e){return{_type:"var",type:"@",name:e,location:location()}},peg$c131=function(e){return{_type:"var",type:"$",name:e,location:location()}},peg$c132=function(e){return{_type:"var",type:"normal",name:e,location:location()}},fe=/^[a-zA-Z0-9_]/,de=peg$classExpectation([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),ge="$",he=peg$literalExpectation("$",!1),$e='"',me=peg$literalExpectation('"',!1),_e=peg$anyExpectation(),peg$c140=function(e){return e},peg$c141=function(e){return e.replace(/\r\n|\r/g,"\n")},xe="precedence=",be=peg$literalExpectation("precedence=",!1),ye=/^[0-9]/,ve=peg$classExpectation([["0","9"]],!1,!1),peg$c146=function(e){return{precedence:1*e}},we="//",Pe=peg$literalExpectation("//",!1),Ce="/*",Ae=peg$literalExpectation("/*",!1),Ee="*/",je=peg$literalExpectation("*/",!1),Se="\r\n",Te=peg$literalExpectation("\r\n",!1),Me="\r",Oe=peg$literalExpectation("\r",!1),De="\n",ke=peg$literalExpectation("\n",!1),Ie=/^[ \t\n\r]/,Le=peg$classExpectation([" ","\t","\n","\r"],!1,!1),qe=0,Ne=0,Ve=[{line:1,column:1}],Fe=0,Re=[],Xe=0,He={};if("startRule"in t){if(!(t.startRule in n))throw new Error("Can't start parsing from rule \""+t.startRule+'".');i=n[t.startRule]}function location(){return peg$computeLocation(Ne,qe)}function peg$literalExpectation(e,t){return{type:"literal",text:e,ignoreCase:t}}function peg$classExpectation(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function peg$anyExpectation(){return{type:"any"}}function peg$endExpectation(){return{type:"end"}}function peg$computePosDetails(t){var r,a=Ve[t];if(a)return a;r=t-1;while(!Ve[r])r--;a=Ve[r],a={line:a.line,column:a.column};while(r<t)10===e.charCodeAt(r)?(a.line++,a.column=1):a.column++,r++;return Ve[t]=a,a}function peg$computeLocation(e,t){var r=peg$computePosDetails(e),a=peg$computePosDetails(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:a.line,column:a.column}}}function peg$fail(e){qe<Fe||(qe>Fe&&(Fe=qe,Re=[]),Re.push(e))}function peg$buildStructuredError(e,t,r){return new peg$SyntaxError(peg$SyntaxError.buildMessage(e,t),e,t,r)}function peg$parsestart(){var e,t,r,n,i,s,l,o,p,u=44*qe+0,c=He[u];if(c)return qe=c.nextPos,c.result;if(e=qe,t=peg$parse_(),t!==a)if(r=peg$parsedefpackage(),r===a&&(r=null),r!==a)if(n=peg$parse_(),n!==a){i=[],s=qe,l=peg$parseimport(),l!==a?(o=peg$parse_(),o!==a?(Ne=s,l=peg$c0(r,l),s=l):(qe=s,s=a)):(qe=s,s=a);while(s!==a)i.push(s),s=qe,l=peg$parseimport(),l!==a?(o=peg$parse_(),o!==a?(Ne=s,l=peg$c0(r,l),s=l):(qe=s,s=a)):(qe=s,s=a);if(i!==a){s=[],l=qe,o=peg$parsesystem(),o!==a?(p=peg$parse_(),p!==a?(Ne=l,o=peg$c1(r,i,o),l=o):(qe=l,l=a)):(qe=l,l=a);while(l!==a)s.push(l),l=qe,o=peg$parsesystem(),o!==a?(p=peg$parse_(),p!==a?(Ne=l,o=peg$c1(r,i,o),l=o):(qe=l,l=a)):(qe=l,l=a);s!==a?(Ne=e,t=peg$c2(r,i,s),e=t):(qe=e,e=a)}else qe=e,e=a}else qe=e,e=a;else qe=e,e=a;else qe=e,e=a;return He[u]={nextPos:qe,result:e},e}function peg$parsedefpackage(){var t,r,n,i,u,c,f,d,g,h=44*qe+1,$=He[h];if($)return qe=$.nextPos,$.result;if(t=qe,e.substr(qe,7)===s?(r=s,qe+=7):(r=a,0===Xe&&peg$fail(l)),r!==a)if(n=peg$parse__(),n!==a){i=qe,u=qe,c=[],f=qe,d=peg$parseident(),d!==a?(46===e.charCodeAt(qe)?(g=o,qe++):(g=a,0===Xe&&peg$fail(p)),g!==a?(d=[d,g],f=d):(qe=f,f=a)):(qe=f,f=a);while(f!==a)c.push(f),f=qe,d=peg$parseident(),d!==a?(46===e.charCodeAt(qe)?(g=o,qe++):(g=a,0===Xe&&peg$fail(p)),g!==a?(d=[d,g],f=d):(qe=f,f=a)):(qe=f,f=a);c!==a?(f=peg$parseident(),f!==a?(c=[c,f],u=c):(qe=u,u=a)):(qe=u,u=a),i=u!==a?e.substring(i,qe):u,i!==a?(u=peg$parse_(),u!==a?(c=peg$parsesem(),c!==a?(Ne=t,r=peg$c7(i),t=r):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)}else qe=t,t=a;else qe=t,t=a;return He[h]={nextPos:qe,result:t},t}function peg$parseimport(){var t,r,n,i,s,l,f,d,g,h=44*qe+2,$=He[h];if($)return qe=$.nextPos,$.result;if(t=qe,e.substr(qe,6)===u?(r=u,qe+=6):(r=a,0===Xe&&peg$fail(c)),r!==a)if(n=peg$parse__(),n!==a){if(i=qe,s=qe,l=[],f=qe,d=peg$parseident(),d!==a?(46===e.charCodeAt(qe)?(g=o,qe++):(g=a,0===Xe&&peg$fail(p)),g!==a?(d=[d,g],f=d):(qe=f,f=a)):(qe=f,f=a),f!==a)while(f!==a)l.push(f),f=qe,d=peg$parseident(),d!==a?(46===e.charCodeAt(qe)?(g=o,qe++):(g=a,0===Xe&&peg$fail(p)),g!==a?(d=[d,g],f=d):(qe=f,f=a)):(qe=f,f=a);else l=a;l!==a?(f=peg$parseident(),f!==a?(l=[l,f],s=l):(qe=s,s=a)):(qe=s,s=a),i=s!==a?e.substring(i,qe):s,i!==a?(s=peg$parse_(),s!==a?(l=peg$parsesem(),l!==a?(Ne=t,r=peg$c10(i),t=r):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)}else qe=t,t=a;else qe=t,t=a;return He[h]={nextPos:qe,result:t},t}function peg$parsesystem(){var t,r,n,i,s,l,o,p,u,c,v,w,P,C,A,E,j=44*qe+3,S=He[j];if(S)return qe=S.nextPos,S.result;if(t=qe,e.substr(qe,6)===f?(r=f,qe+=6):(r=a,0===Xe&&peg$fail(d)),r!==a)if(n=peg$parse__(),n!==a)if(i=peg$parseident(),i!==a)if(s=peg$parse__(),s!==a){if(l=qe,e.substr(qe,7)===g?(o=g,qe+=7):(o=a,0===Xe&&peg$fail(h)),o!==a)if(p=peg$parse__(),p!==a){if(u=qe,c=peg$parseident(),c!==a){v=[],w=qe,P=peg$parse_(),P!==a?(44===e.charCodeAt(qe)?(C=$,qe++):(C=a,0===Xe&&peg$fail(m)),C!==a?(A=peg$parse_(),A!==a?(E=peg$parseident(),E!==a?(Ne=w,P=peg$c17(i,c,E),w=P):(qe=w,w=a)):(qe=w,w=a)):(qe=w,w=a)):(qe=w,w=a);while(w!==a)v.push(w),w=qe,P=peg$parse_(),P!==a?(44===e.charCodeAt(qe)?(C=$,qe++):(C=a,0===Xe&&peg$fail(m)),C!==a?(A=peg$parse_(),A!==a?(E=peg$parseident(),E!==a?(Ne=w,P=peg$c17(i,c,E),w=P):(qe=w,w=a)):(qe=w,w=a)):(qe=w,w=a)):(qe=w,w=a);v!==a?(Ne=u,c=peg$c18(i,c,v),u=c):(qe=u,u=a)}else qe=u,u=a;u!==a?(c=peg$parse_(),c!==a?(Ne=l,o=peg$c19(i,u),l=o):(qe=l,l=a)):(qe=l,l=a)}else qe=l,l=a;else qe=l,l=a;if(l===a&&(l=null),l!==a)if(123===e.charCodeAt(qe)?(o=_,qe++):(o=a,0===Xe&&peg$fail(x)),o!==a)if(p=peg$parse_(),p!==a){u=[],c=qe,v=peg$parseline(),v!==a?(w=peg$parse_(),w!==a?(Ne=c,v=peg$c22(i,l,v),c=v):(qe=c,c=a)):(qe=c,c=a);while(c!==a)u.push(c),c=qe,v=peg$parseline(),v!==a?(w=peg$parse_(),w!==a?(Ne=c,v=peg$c22(i,l,v),c=v):(qe=c,c=a)):(qe=c,c=a);u!==a?(c=peg$parse_(),c!==a?(125===e.charCodeAt(qe)?(v=b,qe++):(v=a,0===Xe&&peg$fail(y)),v!==a?(Ne=t,r=peg$c25(i,l,u),t=r):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)}else qe=t,t=a;else qe=t,t=a;else qe=t,t=a}else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;return He[j]={nextPos:qe,result:t},t}function peg$parseline(){var e,t=44*qe+4,r=He[t];return r?(qe=r.nextPos,r.result):(e=peg$parsetypedef(),e===a&&(e=peg$parsedefv(),e===a&&(e=peg$parsedefun(),e===a&&(e=peg$parsedefschema()))),He[t]={nextPos:qe,result:e},e)}function peg$parsetypedef(){var t,r,n,i,s,l,o,p,u,c,f,d=44*qe+7,g=He[d];return g?(qe=g.nextPos,g.result):(t=qe,r=qe,n=peg$parsedocumentation(),n!==a?(i=peg$parse__(),i!==a?(n=[n,i],r=n):(qe=r,r=a)):(qe=r,r=a),r===a&&(r=null),r!==a?(e.substr(qe,4)===v?(n=v,qe+=4):(n=a,0===Xe&&peg$fail(w)),n!==a?(i=peg$parse__(),i!==a?(s=peg$parseident(),s!==a?(l=peg$parse_(),l!==a?(o=qe,61===e.charCodeAt(qe)?(p=P,qe++):(p=a,0===Xe&&peg$fail(C)),p!==a?(u=peg$parse_(),u!==a?(c=peg$parseftype(),c!==a?(f=peg$parse_(),f!==a?(Ne=o,p=peg$c31(r,s,c),o=p):(qe=o,o=a)):(qe=o,o=a)):(qe=o,o=a)):(qe=o,o=a),o===a&&(o=null),o!==a?(p=peg$parsesem(),p!==a?(Ne=t,r=peg$c32(r,s,o),t=r):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a),He[d]={nextPos:qe,result:t},t)}function peg$parsedefv(){var t,r,n,i,s,l,o,p,u,c,f,d,g,h,$=44*qe+8,m=He[$];return m?(qe=m.nextPos,m.result):(t=qe,r=qe,n=peg$parsedocumentation(),n!==a?(i=peg$parse__(),i!==a?(n=[n,i],r=n):(qe=r,r=a)):(qe=r,r=a),r===a&&(r=null),r!==a?(n=qe,i=peg$parsetex(),i!==a?(s=peg$parse__(),s!==a?(i=[i,s],n=i):(qe=n,n=a)):(qe=n,n=a),n===a&&(n=null),n!==a?(i=qe,e.substr(qe,8)===A?(s=A,qe+=8):(s=a,0===Xe&&peg$fail(E)),s!==a?(l=peg$parse__(),l!==a?(s=[s,l],i=s):(qe=i,i=a)):(qe=i,i=a),i===a&&(i=null),i!==a?(s=peg$parsetype(),s!==a?(l=peg$parse__(),l!==a?(o=peg$parseident(),o!==a?(p=peg$parse_(),p!==a?(u=qe,61===e.charCodeAt(qe)?(c=P,qe++):(c=a,0===Xe&&peg$fail(C)),c!==a?(f=peg$parse_(),f!==a?(d=peg$parseobjectexpr(),d!==a?(g=peg$parse_(),g!==a?(h=peg$parsesem(),h!==a?(Ne=u,c=peg$c35(r,n,i,s,o,d),u=c):(qe=u,u=a)):(qe=u,u=a)):(qe=u,u=a)):(qe=u,u=a)):(qe=u,u=a),u===a&&(u=qe,c=peg$parsesem(),c!==a&&(Ne=u,c=peg$c36(r,n,i,s,o)),u=c),u!==a?(Ne=t,r=peg$c37(r,n,i,s,o,u),t=r):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a),He[$]={nextPos:qe,result:t},t)}function peg$parsedefparam(){var e,t,r,n,i,s=44*qe+9,l=He[s];return l?(qe=l.nextPos,l.result):(e=qe,t=qe,r=peg$parsetex(),r!==a?(n=peg$parse__(),n!==a?(r=[r,n],t=r):(qe=t,t=a)):(qe=t,t=a),t===a&&(t=null),t!==a?(r=peg$parsetype(),r!==a?(n=peg$parse__(),n!==a?(i=peg$parseident(),i!==a?(Ne=e,t=peg$c38(t,r,i),e=t):(qe=e,e=a)):(qe=e,e=a)):(qe=e,e=a)):(qe=e,e=a),He[s]={nextPos:qe,result:e},e)}function peg$parsedefschemaparam(){var t,r,n,i,s,l,o,p,u,c,f,d,g,h=44*qe+10,$=He[h];if($)return qe=$.nextPos,$.result;if(t=qe,r=qe,n=peg$parsetex(),n!==a?(i=peg$parse__(),i!==a?(n=[n,i],r=n):(qe=r,r=a)):(qe=r,r=a),r===a&&(r=null),r!==a)if(n=peg$parsetype(),n!==a)if(i=peg$parse__(),i!==a)if(s=peg$parseident(),s!==a){if(l=qe,o=peg$parse_(),o!==a)if(58===e.charCodeAt(qe)?(p=j,qe++):(p=a,0===Xe&&peg$fail(S)),p!==a)if(u=peg$parse_(),u!==a)if(64===e.charCodeAt(qe)?(c=T,qe++):(c=a,0===Xe&&peg$fail(M)),c!==a){if(f=qe,d=[],O.test(e.charAt(qe))?(g=e.charAt(qe),qe++):(g=a,0===Xe&&peg$fail(D)),g!==a)while(g!==a)d.push(g),O.test(e.charAt(qe))?(g=e.charAt(qe),qe++):(g=a,0===Xe&&peg$fail(D));else d=a;f=d!==a?e.substring(f,qe):d,f!==a?(Ne=l,o=peg$c45(r,n,s,f),l=o):(qe=l,l=a)}else qe=l,l=a;else qe=l,l=a;else qe=l,l=a;else qe=l,l=a;l===a&&(l=null),l!==a?(Ne=t,r=peg$c46(r,n,s,l),t=r):(qe=t,t=a)}else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;return He[h]={nextPos:qe,result:t},t}function peg$parsedefun(){var t,r,n,i,s,l,o,p,u,c,f,d,g,h,v,w,P,C,j,S,T=44*qe+11,M=He[T];if(M)return qe=M.nextPos,M.result;if(t=qe,r=qe,n=peg$parsedocumentation(),n!==a?(i=peg$parse__(),i!==a?(n=[n,i],r=n):(qe=r,r=a)):(qe=r,r=a),r===a&&(r=null),r!==a)if(n=qe,i=peg$parsetex_attributes(),i!==a?(s=peg$parse__(),s!==a?(i=[i,s],n=i):(qe=n,n=a)):(qe=n,n=a),n===a&&(n=null),n!==a)if(i=qe,s=peg$parsetex(),s!==a?(l=peg$parse__(),l!==a?(s=[s,l],i=s):(qe=i,i=a)):(qe=i,i=a),i===a&&(i=null),i!==a)if(s=qe,e.substr(qe,8)===A?(l=A,qe+=8):(l=a,0===Xe&&peg$fail(E)),l!==a?(o=peg$parse__(),o!==a?(l=[l,o],s=l):(qe=s,s=a)):(qe=s,s=a),s===a&&(s=null),s!==a)if(l=peg$parsetype(),l!==a)if(o=peg$parse__(),o!==a)if(p=peg$parseident(),p!==a)if(u=peg$parse_(),u!==a){if(c=qe,40===e.charCodeAt(qe)?(f=k,qe++):(f=a,0===Xe&&peg$fail(I)),f!==a)if(d=peg$parse_(),d!==a){if(g=qe,h=peg$parsedefparam(),h!==a){v=[],w=qe,P=peg$parse_(),P!==a?(44===e.charCodeAt(qe)?(C=$,qe++):(C=a,0===Xe&&peg$fail(m)),C!==a?(j=peg$parse_(),j!==a?(S=peg$parsedefparam(),S!==a?(Ne=w,P=peg$c49(r,n,i,s,l,p,h,S),w=P):(qe=w,w=a)):(qe=w,w=a)):(qe=w,w=a)):(qe=w,w=a);while(w!==a)v.push(w),w=qe,P=peg$parse_(),P!==a?(44===e.charCodeAt(qe)?(C=$,qe++):(C=a,0===Xe&&peg$fail(m)),C!==a?(j=peg$parse_(),j!==a?(S=peg$parsedefparam(),S!==a?(Ne=w,P=peg$c49(r,n,i,s,l,p,h,S),w=P):(qe=w,w=a)):(qe=w,w=a)):(qe=w,w=a)):(qe=w,w=a);v!==a?(Ne=g,h=peg$c50(r,n,i,s,l,p,h,v),g=h):(qe=g,g=a)}else qe=g,g=a;g===a&&(g=null),g!==a?(h=peg$parse_(),h!==a?(41===e.charCodeAt(qe)?(v=L,qe++):(v=a,0===Xe&&peg$fail(q)),v!==a?(w=peg$parse_(),w!==a?(Ne=c,f=peg$c53(r,n,i,s,l,p,g),c=f):(qe=c,c=a)):(qe=c,c=a)):(qe=c,c=a)):(qe=c,c=a)}else qe=c,c=a;else qe=c,c=a;c!==a?(f=qe,123===e.charCodeAt(qe)?(d=_,qe++):(d=a,0===Xe&&peg$fail(x)),d!==a?(g=peg$parse_(),g!==a?(h=peg$parseobjectexpr(),h!==a?(v=peg$parse_(),v!==a?(125===e.charCodeAt(qe)?(w=b,qe++):(w=a,0===Xe&&peg$fail(y)),w!==a?(Ne=f,d=peg$c54(r,n,i,s,l,p,c,h),f=d):(qe=f,f=a)):(qe=f,f=a)):(qe=f,f=a)):(qe=f,f=a)):(qe=f,f=a),f===a&&(f=qe,d=peg$parsesem(),d!==a&&(Ne=f,d=peg$c55(r,n,i,s,l,p,c)),f=d),f!==a?(Ne=t,r=peg$c56(r,n,i,s,l,p,c,f),t=r):(qe=t,t=a)):(qe=t,t=a)}else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;return He[T]={nextPos:qe,result:t},t}function peg$parsedefschema(){var t,r,n,i,s,l,o,p,u,c,f,d,g,h,v,w,P,C,A=44*qe+12,E=He[A];if(E)return qe=E.nextPos,E.result;if(t=qe,r=qe,n=peg$parsedocumentation(),n!==a?(i=peg$parse__(),i!==a?(n=[n,i],r=n):(qe=r,r=a)):(qe=r,r=a),r===a&&(r=null),r!==a)if(e.substr(qe,5)===N?(n=N,qe+=5):(n=a,0===Xe&&peg$fail(V)),n===a&&(e.substr(qe,7)===F?(n=F,qe+=7):(n=a,0===Xe&&peg$fail(R)),n===a&&(e.substr(qe,6)===X?(n=X,qe+=6):(n=a,0===Xe&&peg$fail(H)))),n!==a)if(i=peg$parse__(),i!==a)if(s=peg$parseident(),s!==a)if(l=peg$parse_(),l!==a){if(o=qe,40===e.charCodeAt(qe)?(p=k,qe++):(p=a,0===Xe&&peg$fail(I)),p!==a)if(u=peg$parse_(),u!==a){if(c=qe,f=peg$parsedefschemaparam(),f!==a){d=[],g=qe,h=peg$parse_(),h!==a?(44===e.charCodeAt(qe)?(v=$,qe++):(v=a,0===Xe&&peg$fail(m)),v!==a?(w=peg$parse_(),w!==a?(P=peg$parsedefschemaparam(),P!==a?(Ne=g,h=peg$c63(r,n,s,f,P),g=h):(qe=g,g=a)):(qe=g,g=a)):(qe=g,g=a)):(qe=g,g=a);while(g!==a)d.push(g),g=qe,h=peg$parse_(),h!==a?(44===e.charCodeAt(qe)?(v=$,qe++):(v=a,0===Xe&&peg$fail(m)),v!==a?(w=peg$parse_(),w!==a?(P=peg$parsedefschemaparam(),P!==a?(Ne=g,h=peg$c63(r,n,s,f,P),g=h):(qe=g,g=a)):(qe=g,g=a)):(qe=g,g=a)):(qe=g,g=a);d!==a?(Ne=c,f=peg$c64(r,n,s,f,d),c=f):(qe=c,c=a)}else qe=c,c=a;c===a&&(c=null),c!==a?(f=peg$parse_(),f!==a?(41===e.charCodeAt(qe)?(d=L,qe++):(d=a,0===Xe&&peg$fail(q)),d!==a?(g=peg$parse_(),g!==a?(Ne=o,p=peg$c65(r,n,s,c),o=p):(qe=o,o=a)):(qe=o,o=a)):(qe=o,o=a)):(qe=o,o=a)}else qe=o,o=a;else qe=o,o=a;if(o!==a){if(p=qe,e.substr(qe,5)===U?(u=U,qe+=5):(u=a,0===Xe&&peg$fail(z)),u!==a)if(c=peg$parse__(),c!==a){if(f=qe,d=peg$parseident(),d!==a){g=[],h=qe,v=peg$parse_(),v!==a?(44===e.charCodeAt(qe)?(w=$,qe++):(w=a,0===Xe&&peg$fail(m)),w!==a?(P=peg$parse_(),P!==a?(C=peg$parseident(),C!==a?(Ne=h,v=peg$c68(r,n,s,o,d,C),h=v):(qe=h,h=a)):(qe=h,h=a)):(qe=h,h=a)):(qe=h,h=a);while(h!==a)g.push(h),h=qe,v=peg$parse_(),v!==a?(44===e.charCodeAt(qe)?(w=$,qe++):(w=a,0===Xe&&peg$fail(m)),w!==a?(P=peg$parse_(),P!==a?(C=peg$parseident(),C!==a?(Ne=h,v=peg$c68(r,n,s,o,d,C),h=v):(qe=h,h=a)):(qe=h,h=a)):(qe=h,h=a)):(qe=h,h=a);g!==a?(Ne=f,d=peg$c69(r,n,s,o,d,g),f=d):(qe=f,f=a)}else qe=f,f=a;f!==a?(d=peg$parse_(),d!==a?(Ne=p,u=peg$c70(r,n,s,o,f),p=u):(qe=p,p=a)):(qe=p,p=a)}else qe=p,p=a;else qe=p,p=a;if(p===a&&(p=null),p!==a)if(123===e.charCodeAt(qe)?(u=_,qe++):(u=a,0===Xe&&peg$fail(x)),u!==a)if(c=peg$parse_(),c!==a){f=[],d=qe,g=peg$parsedefdollar(),g!==a?(h=peg$parse_(),h!==a?(Ne=d,g=peg$c71(r,n,s,o,p,g),d=g):(qe=d,d=a)):(qe=d,d=a);while(d!==a)f.push(d),d=qe,g=peg$parsedefdollar(),g!==a?(h=peg$parse_(),h!==a?(Ne=d,g=peg$c71(r,n,s,o,p,g),d=g):(qe=d,d=a)):(qe=d,d=a);f!==a?(d=peg$parse_(),d!==a?(g=peg$parseexpr_internal_3(),g!==a?(h=peg$parse_(),h!==a?(125===e.charCodeAt(qe)?(v=b,qe++):(v=a,0===Xe&&peg$fail(y)),v!==a?(Ne=t,r=peg$c72(r,n,s,o,p,f,g),t=r):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)}else qe=t,t=a;else qe=t,t=a;else qe=t,t=a}else qe=t,t=a}else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;return He[A]={nextPos:qe,result:t},t}function peg$parsereduction(){var t,r,n,i,s,l,o,p,u,c,f,d,g,h,_,x,b,y,v,w,P,C=44*qe+13,A=He[C];if(A)return qe=A.nextPos,A.result;if(t=qe,r=qe,n=peg$parseexpr_internal_2(),n!==a&&(Ne=r,n=peg$c73(n)),r=n,r===a)if(r=qe,91===e.charCodeAt(qe)?(n=Z,qe++):(n=a,0===Xe&&peg$fail(B)),n!==a)if(i=peg$parse_(),i!==a){if(s=qe,l=peg$parseexpr_internal_3(),l!==a){o=[],p=qe,u=peg$parse_(),u!==a?(59===e.charCodeAt(qe)?(c=Q,qe++):(c=a,0===Xe&&peg$fail(Y)),c!==a?(f=peg$parse_(),f!==a?(d=peg$parseexpr_internal_3(),d!==a?(Ne=p,u=peg$c78(l,d),p=u):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a);while(p!==a)o.push(p),p=qe,u=peg$parse_(),u!==a?(59===e.charCodeAt(qe)?(c=Q,qe++):(c=a,0===Xe&&peg$fail(Y)),c!==a?(f=peg$parse_(),f!==a?(d=peg$parseexpr_internal_3(),d!==a?(Ne=p,u=peg$c78(l,d),p=u):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a);o!==a?(p=peg$parse_(),p!==a?(Ne=s,l=peg$c79(l,o),s=l):(qe=s,s=a)):(qe=s,s=a)}else qe=s,s=a;s===a&&(s=null),s!==a?(93===e.charCodeAt(qe)?(l=G,qe++):(l=a,0===Xe&&peg$fail(W)),l!==a?(Ne=r,n=peg$c82(s),r=n):(qe=r,r=a)):(qe=r,r=a)}else qe=r,r=a;else qe=r,r=a;if(r!==a){if(n=[],i=qe,s=peg$parse_(),s!==a)if(62===e.charCodeAt(qe)?(l=J,qe++):(l=a,0===Xe&&peg$fail(K)),l!==a)if(o=peg$parse_(),o!==a)if(p=peg$parseschemacall(),p===a&&(p=peg$parsevar(),p===a&&(p=qe,40===e.charCodeAt(qe)?(u=k,qe++):(u=a,0===Xe&&peg$fail(I)),u!==a?(c=peg$parse_(),c!==a?(f=peg$parseexpr_internal_3(),f!==a?(d=peg$parse_(),d!==a?(41===e.charCodeAt(qe)?(g=L,qe++):(g=a,0===Xe&&peg$fail(q)),g!==a?(Ne=p,u=peg$c85(r,f),p=u):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a))),p!==a){if(u=qe,c=peg$parse_(),c!==a)if(40===e.charCodeAt(qe)?(f=k,qe++):(f=a,0===Xe&&peg$fail(I)),f!==a)if(d=peg$parse_(),d!==a){if(g=qe,h=qe,63===e.charCodeAt(qe)?(_=ee,qe++):(_=a,0===Xe&&peg$fail(te)),_!==a&&(Ne=h,_=peg$c88(r,p)),h=_,h===a&&(h=peg$parseobjectexpr()),h!==a){_=[],x=qe,b=peg$parse_(),b!==a?(44===e.charCodeAt(qe)?(y=$,qe++):(y=a,0===Xe&&peg$fail(m)),y!==a?(v=peg$parse_(),v!==a?(w=qe,63===e.charCodeAt(qe)?(P=ee,qe++):(P=a,0===Xe&&peg$fail(te)),P!==a&&(Ne=w,P=peg$c89(r,p,h)),w=P,w===a&&(w=peg$parseobjectexpr()),w!==a?(Ne=x,b=peg$c90(r,p,h,w),x=b):(qe=x,x=a)):(qe=x,x=a)):(qe=x,x=a)):(qe=x,x=a);while(x!==a)_.push(x),x=qe,b=peg$parse_(),b!==a?(44===e.charCodeAt(qe)?(y=$,qe++):(y=a,0===Xe&&peg$fail(m)),y!==a?(v=peg$parse_(),v!==a?(w=qe,63===e.charCodeAt(qe)?(P=ee,qe++):(P=a,0===Xe&&peg$fail(te)),P!==a&&(Ne=w,P=peg$c89(r,p,h)),w=P,w===a&&(w=peg$parseobjectexpr()),w!==a?(Ne=x,b=peg$c90(r,p,h,w),x=b):(qe=x,x=a)):(qe=x,x=a)):(qe=x,x=a)):(qe=x,x=a);_!==a?(x=peg$parse_(),x!==a?(Ne=g,h=peg$c91(r,p,h,_),g=h):(qe=g,g=a)):(qe=g,g=a)}else qe=g,g=a;g===a&&(g=null),g!==a?(41===e.charCodeAt(qe)?(h=L,qe++):(h=a,0===Xe&&peg$fail(q)),h!==a?(Ne=u,c=peg$c92(r,p,g),u=c):(qe=u,u=a)):(qe=u,u=a)}else qe=u,u=a;else qe=u,u=a;else qe=u,u=a;u===a&&(u=null),u!==a?(c=qe,f=peg$parse__(),f!==a?(e.substr(qe,2)===re?(d=re,qe+=2):(d=a,0===Xe&&peg$fail(ae)),d!==a?(g=peg$parse__(),g!==a?(h=peg$parseexpr_internal_2(),h!==a?(Ne=c,f=peg$c95(r,p,u,h),c=f):(qe=c,c=a)):(qe=c,c=a)):(qe=c,c=a)):(qe=c,c=a),c===a&&(c=null),c!==a?(Ne=i,s=peg$c96(r,p,u,c),i=s):(qe=i,i=a)):(qe=i,i=a)}else qe=i,i=a;else qe=i,i=a;else qe=i,i=a;else qe=i,i=a;if(i!==a)while(i!==a)if(n.push(i),i=qe,s=peg$parse_(),s!==a)if(62===e.charCodeAt(qe)?(l=J,qe++):(l=a,0===Xe&&peg$fail(K)),l!==a)if(o=peg$parse_(),o!==a)if(p=peg$parseschemacall(),p===a&&(p=peg$parsevar(),p===a&&(p=qe,40===e.charCodeAt(qe)?(u=k,qe++):(u=a,0===Xe&&peg$fail(I)),u!==a?(c=peg$parse_(),c!==a?(f=peg$parseexpr_internal_3(),f!==a?(d=peg$parse_(),d!==a?(41===e.charCodeAt(qe)?(g=L,qe++):(g=a,0===Xe&&peg$fail(q)),g!==a?(Ne=p,u=peg$c85(r,f),p=u):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a))),p!==a){if(u=qe,c=peg$parse_(),c!==a)if(40===e.charCodeAt(qe)?(f=k,qe++):(f=a,0===Xe&&peg$fail(I)),f!==a)if(d=peg$parse_(),d!==a){if(g=qe,h=qe,63===e.charCodeAt(qe)?(_=ee,qe++):(_=a,0===Xe&&peg$fail(te)),_!==a&&(Ne=h,_=peg$c88(r,p)),h=_,h===a&&(h=peg$parseobjectexpr()),h!==a){_=[],x=qe,b=peg$parse_(),b!==a?(44===e.charCodeAt(qe)?(y=$,qe++):(y=a,0===Xe&&peg$fail(m)),y!==a?(v=peg$parse_(),v!==a?(w=qe,63===e.charCodeAt(qe)?(P=ee,qe++):(P=a,0===Xe&&peg$fail(te)),P!==a&&(Ne=w,P=peg$c89(r,p,h)),w=P,w===a&&(w=peg$parseobjectexpr()),w!==a?(Ne=x,b=peg$c90(r,p,h,w),x=b):(qe=x,x=a)):(qe=x,x=a)):(qe=x,x=a)):(qe=x,x=a);while(x!==a)_.push(x),x=qe,b=peg$parse_(),b!==a?(44===e.charCodeAt(qe)?(y=$,qe++):(y=a,0===Xe&&peg$fail(m)),y!==a?(v=peg$parse_(),v!==a?(w=qe,63===e.charCodeAt(qe)?(P=ee,qe++):(P=a,0===Xe&&peg$fail(te)),P!==a&&(Ne=w,P=peg$c89(r,p,h)),w=P,w===a&&(w=peg$parseobjectexpr()),w!==a?(Ne=x,b=peg$c90(r,p,h,w),x=b):(qe=x,x=a)):(qe=x,x=a)):(qe=x,x=a)):(qe=x,x=a);_!==a?(x=peg$parse_(),x!==a?(Ne=g,h=peg$c91(r,p,h,_),g=h):(qe=g,g=a)):(qe=g,g=a)}else qe=g,g=a;g===a&&(g=null),g!==a?(41===e.charCodeAt(qe)?(h=L,qe++):(h=a,0===Xe&&peg$fail(q)),h!==a?(Ne=u,c=peg$c92(r,p,g),u=c):(qe=u,u=a)):(qe=u,u=a)}else qe=u,u=a;else qe=u,u=a;else qe=u,u=a;u===a&&(u=null),u!==a?(c=qe,f=peg$parse__(),f!==a?(e.substr(qe,2)===re?(d=re,qe+=2):(d=a,0===Xe&&peg$fail(ae)),d!==a?(g=peg$parse__(),g!==a?(h=peg$parseexpr_internal_2(),h!==a?(Ne=c,f=peg$c95(r,p,u,h),c=f):(qe=c,c=a)):(qe=c,c=a)):(qe=c,c=a)):(qe=c,c=a),c===a&&(c=null),c!==a?(Ne=i,s=peg$c96(r,p,u,c),i=s):(qe=i,i=a)):(qe=i,i=a)}else qe=i,i=a;else qe=i,i=a;else qe=i,i=a;else qe=i,i=a;else n=a;n!==a?(Ne=t,r=peg$c97(r,n),t=r):(qe=t,t=a)}else qe=t,t=a;return He[C]={nextPos:qe,result:t},t}function peg$parseschemacall(){var t,r,n,i,s,l,o,p,u,c,f,d,g,h,_=44*qe+14,x=He[_];if(x)return qe=x.nextPos,x.result;if(t=qe,r=peg$parsevar(),r===a&&(r=qe,40===e.charCodeAt(qe)?(n=k,qe++):(n=a,0===Xe&&peg$fail(I)),n!==a?(i=peg$parse_(),i!==a?(s=peg$parseexpr_internal_3(),s!==a?(l=peg$parse_(),l!==a?(41===e.charCodeAt(qe)?(o=L,qe++):(o=a,0===Xe&&peg$fail(q)),o!==a?(Ne=r,n=peg$c26(s),r=n):(qe=r,r=a)):(qe=r,r=a)):(qe=r,r=a)):(qe=r,r=a)):(qe=r,r=a)),r!==a)if(n=peg$parse_(),n!==a){if(i=qe,40===e.charCodeAt(qe)?(s=k,qe++):(s=a,0===Xe&&peg$fail(I)),s!==a)if(l=peg$parse_(),l!==a){if(o=qe,p=peg$parseobjectexpr(),p!==a){u=[],c=qe,f=peg$parse_(),f!==a?(44===e.charCodeAt(qe)?(d=$,qe++):(d=a,0===Xe&&peg$fail(m)),d!==a?(g=peg$parse_(),g!==a?(h=peg$parseobjectexpr(),h!==a?(Ne=c,f=peg$c98(r,p,h),c=f):(qe=c,c=a)):(qe=c,c=a)):(qe=c,c=a)):(qe=c,c=a);while(c!==a)u.push(c),c=qe,f=peg$parse_(),f!==a?(44===e.charCodeAt(qe)?(d=$,qe++):(d=a,0===Xe&&peg$fail(m)),d!==a?(g=peg$parse_(),g!==a?(h=peg$parseobjectexpr(),h!==a?(Ne=c,f=peg$c98(r,p,h),c=f):(qe=c,c=a)):(qe=c,c=a)):(qe=c,c=a)):(qe=c,c=a);u!==a?(c=peg$parse_(),c!==a?(Ne=o,p=peg$c99(r,p,u),o=p):(qe=o,o=a)):(qe=o,o=a)}else qe=o,o=a;o===a&&(o=null),o!==a?(41===e.charCodeAt(qe)?(p=L,qe++):(p=a,0===Xe&&peg$fail(q)),p!==a?(Ne=i,s=peg$c100(r,o),i=s):(qe=i,i=a)):(qe=i,i=a)}else qe=i,i=a;else qe=i,i=a;i!==a?(Ne=t,r=peg$c101(r,i),t=r):(qe=t,t=a)}else qe=t,t=a;else qe=t,t=a;return He[_]={nextPos:qe,result:t},t}function peg$parsefuncall(){var t,r,n,i,s,l,o,p,u,c,f,d,g,h,_=44*qe+15,x=He[_];if(x)return qe=x.nextPos,x.result;if(t=qe,r=peg$parsevar(),r===a&&(r=qe,40===e.charCodeAt(qe)?(n=k,qe++):(n=a,0===Xe&&peg$fail(I)),n!==a?(i=peg$parse_(),i!==a?(s=peg$parseobjectexpr(),s!==a?(l=peg$parse_(),l!==a?(41===e.charCodeAt(qe)?(o=L,qe++):(o=a,0===Xe&&peg$fail(q)),o!==a?(Ne=r,n=peg$c26(s),r=n):(qe=r,r=a)):(qe=r,r=a)):(qe=r,r=a)):(qe=r,r=a)):(qe=r,r=a)),r!==a)if(n=peg$parse_(),n!==a){if(i=qe,40===e.charCodeAt(qe)?(s=k,qe++):(s=a,0===Xe&&peg$fail(I)),s!==a)if(l=peg$parse_(),l!==a){if(o=qe,p=peg$parseobjectexpr(),p!==a){u=[],c=qe,f=peg$parse_(),f!==a?(44===e.charCodeAt(qe)?(d=$,qe++):(d=a,0===Xe&&peg$fail(m)),d!==a?(g=peg$parse_(),g!==a?(h=peg$parseobjectexpr(),h!==a?(Ne=c,f=peg$c98(r,p,h),c=f):(qe=c,c=a)):(qe=c,c=a)):(qe=c,c=a)):(qe=c,c=a);while(c!==a)u.push(c),c=qe,f=peg$parse_(),f!==a?(44===e.charCodeAt(qe)?(d=$,qe++):(d=a,0===Xe&&peg$fail(m)),d!==a?(g=peg$parse_(),g!==a?(h=peg$parseobjectexpr(),h!==a?(Ne=c,f=peg$c98(r,p,h),c=f):(qe=c,c=a)):(qe=c,c=a)):(qe=c,c=a)):(qe=c,c=a);u!==a?(c=peg$parse_(),c!==a?(Ne=o,p=peg$c99(r,p,u),o=p):(qe=o,o=a)):(qe=o,o=a)}else qe=o,o=a;o===a&&(o=null),o!==a?(41===e.charCodeAt(qe)?(p=L,qe++):(p=a,0===Xe&&peg$fail(q)),p!==a?(Ne=i,s=peg$c100(r,o),i=s):(qe=i,i=a)):(qe=i,i=a)}else qe=i,i=a;else qe=i,i=a;i!==a?(Ne=t,r=peg$c102(r,i),t=r):(qe=t,t=a)}else qe=t,t=a;else qe=t,t=a;return He[_]={nextPos:qe,result:t},t}function peg$parsefunexpr(){var t,r,n,i,s,l,o,p,u,c,f,d,g=44*qe+16,h=He[g];if(h)return qe=h.nextPos,h.result;if(t=qe,r=qe,40===e.charCodeAt(qe)?(n=k,qe++):(n=a,0===Xe&&peg$fail(I)),n!==a)if(i=peg$parse_(),i!==a){if(s=qe,l=peg$parsedefparam(),l!==a){o=[],p=qe,u=peg$parse_(),u!==a?(44===e.charCodeAt(qe)?(c=$,qe++):(c=a,0===Xe&&peg$fail(m)),c!==a?(f=peg$parse_(),f!==a?(d=peg$parsedefparam(),d!==a?(Ne=p,u=peg$c103(l,d),p=u):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a);while(p!==a)o.push(p),p=qe,u=peg$parse_(),u!==a?(44===e.charCodeAt(qe)?(c=$,qe++):(c=a,0===Xe&&peg$fail(m)),c!==a?(f=peg$parse_(),f!==a?(d=peg$parsedefparam(),d!==a?(Ne=p,u=peg$c103(l,d),p=u):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a);o!==a?(p=peg$parse_(),p!==a?(Ne=s,l=peg$c79(l,o),s=l):(qe=s,s=a)):(qe=s,s=a)}else qe=s,s=a;s===a&&(s=null),s!==a?(41===e.charCodeAt(qe)?(l=L,qe++):(l=a,0===Xe&&peg$fail(q)),l!==a?(o=peg$parse_(),o!==a?(Ne=r,n=peg$c104(s),r=n):(qe=r,r=a)):(qe=r,r=a)):(qe=r,r=a)}else qe=r,r=a;else qe=r,r=a;return r!==a?(e.substr(qe,2)===ne?(n=ne,qe+=2):(n=a,0===Xe&&peg$fail(ie)),n!==a?(i=peg$parse_(),i!==a?(s=peg$parseobjectexpr(),s===a&&(s=qe,123===e.charCodeAt(qe)?(l=_,qe++):(l=a,0===Xe&&peg$fail(x)),l!==a?(o=peg$parse_(),o!==a?(p=peg$parseobjectexpr(),p!==a?(u=peg$parse_(),u!==a?(125===e.charCodeAt(qe)?(c=b,qe++):(c=a,0===Xe&&peg$fail(y)),c!==a?(Ne=s,l=peg$c107(r,p),s=l):(qe=s,s=a)):(qe=s,s=a)):(qe=s,s=a)):(qe=s,s=a)):(qe=s,s=a)),s!==a?(Ne=t,r=peg$c108(r,s),t=r):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a),He[g]={nextPos:qe,result:t},t}function peg$parseschemaexpr(){var t,r,n,i,s,l,o,p,u,c,f,d,g=44*qe+17,h=He[g];if(h)return qe=h.nextPos,h.result;if(t=qe,r=qe,40===e.charCodeAt(qe)?(n=k,qe++):(n=a,0===Xe&&peg$fail(I)),n!==a)if(i=peg$parse_(),i!==a){if(s=qe,l=peg$parsedefparam(),l!==a){o=[],p=qe,u=peg$parse_(),u!==a?(44===e.charCodeAt(qe)?(c=$,qe++):(c=a,0===Xe&&peg$fail(m)),c!==a?(f=peg$parse_(),f!==a?(d=peg$parsedefparam(),d!==a?(Ne=p,u=peg$c103(l,d),p=u):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a);while(p!==a)o.push(p),p=qe,u=peg$parse_(),u!==a?(44===e.charCodeAt(qe)?(c=$,qe++):(c=a,0===Xe&&peg$fail(m)),c!==a?(f=peg$parse_(),f!==a?(d=peg$parsedefparam(),d!==a?(Ne=p,u=peg$c103(l,d),p=u):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a)):(qe=p,p=a);o!==a?(p=peg$parse_(),p!==a?(Ne=s,l=peg$c79(l,o),s=l):(qe=s,s=a)):(qe=s,s=a)}else qe=s,s=a;s===a&&(s=null),s!==a?(41===e.charCodeAt(qe)?(l=L,qe++):(l=a,0===Xe&&peg$fail(q)),l!==a?(o=peg$parse_(),o!==a?(Ne=r,n=peg$c104(s),r=n):(qe=r,r=a)):(qe=r,r=a)):(qe=r,r=a)}else qe=r,r=a;else qe=r,r=a;if(r!==a)if(e.substr(qe,2)===ne?(n=ne,qe+=2):(n=a,0===Xe&&peg$fail(ie)),n!==a)if(i=peg$parse_(),i!==a){if(s=qe,l=peg$parseexpr_internal_1(),l!==a&&(Ne=s,l=peg$c109(r,l)),s=l,s===a)if(s=qe,123===e.charCodeAt(qe)?(l=_,qe++):(l=a,0===Xe&&peg$fail(x)),l!==a)if(o=peg$parse_(),o!==a){p=[],u=qe,c=peg$parsedefdollar(),c!==a?(f=peg$parse_(),f!==a?(Ne=u,c=peg$c110(r,c),u=c):(qe=u,u=a)):(qe=u,u=a);while(u!==a)p.push(u),u=qe,c=peg$parsedefdollar(),c!==a?(f=peg$parse_(),f!==a?(Ne=u,c=peg$c110(r,c),u=c):(qe=u,u=a)):(qe=u,u=a);p!==a?(u=peg$parse_(),u!==a?(c=peg$parseexpr_internal_3(),c!==a?(f=peg$parse_(),f!==a?(125===e.charCodeAt(qe)?(d=b,qe++):(d=a,0===Xe&&peg$fail(y)),d!==a?(Ne=s,l=peg$c111(r,p,c),s=l):(qe=s,s=a)):(qe=s,s=a)):(qe=s,s=a)):(qe=s,s=a)):(qe=s,s=a)}else qe=s,s=a;else qe=s,s=a;s!==a?(Ne=t,r=peg$c112(r,s),t=r):(qe=t,t=a)}else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;return He[g]={nextPos:qe,result:t},t}function peg$parseconditional(){var t,r,n,i,s,l,o,p,u,c,f,d,g=44*qe+18,h=He[g];if(h)return qe=h.nextPos,h.result;if(t=qe,r=qe,n=qe,i=peg$parseexpr_internal_1(),i!==a){s=[],l=qe,o=peg$parse_(),o!==a?(44===e.charCodeAt(qe)?(p=$,qe++):(p=a,0===Xe&&peg$fail(m)),p!==a?(u=peg$parse_(),u!==a?(c=peg$parseexpr_internal_1(),c!==a?(Ne=l,o=peg$c78(i,c),l=o):(qe=l,l=a)):(qe=l,l=a)):(qe=l,l=a)):(qe=l,l=a);while(l!==a)s.push(l),l=qe,o=peg$parse_(),o!==a?(44===e.charCodeAt(qe)?(p=$,qe++):(p=a,0===Xe&&peg$fail(m)),p!==a?(u=peg$parse_(),u!==a?(c=peg$parseexpr_internal_1(),c!==a?(Ne=l,o=peg$c78(i,c),l=o):(qe=l,l=a)):(qe=l,l=a)):(qe=l,l=a)):(qe=l,l=a);s!==a?(l=peg$parse_(),l!==a?(Ne=n,i=peg$c79(i,s),n=i):(qe=n,n=a)):(qe=n,n=a)}else qe=n,n=a;if(n===a&&(n=null),n!==a&&(Ne=r,n=peg$c113(n)),r=n,r!==a)if(e.substr(qe,2)===se?(n=se,qe+=2):(n=a,0===Xe&&peg$fail(le)),n!==a)if(i=peg$parse_(),i!==a){if(s=qe,l=peg$parseexpr_internal_2(),l!==a&&(Ne=s,l=peg$c116(r,l)),s=l,s===a)if(s=qe,123===e.charCodeAt(qe)?(l=_,qe++):(l=a,0===Xe&&peg$fail(x)),l!==a)if(o=peg$parse_(),o!==a){p=[],u=qe,c=peg$parsedefdollar(),c!==a?(f=peg$parse_(),f!==a?(Ne=u,c=peg$c117(r,c),u=c):(qe=u,u=a)):(qe=u,u=a);while(u!==a)p.push(u),u=qe,c=peg$parsedefdollar(),c!==a?(f=peg$parse_(),f!==a?(Ne=u,c=peg$c117(r,c),u=c):(qe=u,u=a)):(qe=u,u=a);p!==a?(u=peg$parse_(),u!==a?(c=peg$parseexpr_internal_3(),c!==a?(f=peg$parse_(),f!==a?(125===e.charCodeAt(qe)?(d=b,qe++):(d=a,0===Xe&&peg$fail(y)),d!==a?(Ne=s,l=peg$c118(r,p,c),s=l):(qe=s,s=a)):(qe=s,s=a)):(qe=s,s=a)):(qe=s,s=a)):(qe=s,s=a)}else qe=s,s=a;else qe=s,s=a;s!==a?(Ne=t,r=peg$c119(r,s),t=r):(qe=t,t=a)}else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;return He[g]={nextPos:qe,result:t},t}function peg$parsewith(){var t,r,n,i,s,l,o,p,u,c,f,d,g,h,$,m,v,w,A,E,j,S,T,M,O=44*qe+19,D=He[O];if(D)return qe=D.nextPos,D.result;if(t=qe,e.substr(qe,4)===oe?(r=oe,qe+=4):(r=a,0===Xe&&peg$fail(pe)),r!==a)if(n=peg$parse_(),n!==a)if(40===e.charCodeAt(qe)?(i=k,qe++):(i=a,0===Xe&&peg$fail(I)),i!==a)if(s=peg$parse_(),s!==a)if(l=qe,o=peg$parsedocumentation(),o!==a?(p=peg$parse__(),p!==a?(o=[o,p],l=o):(qe=l,l=a)):(qe=l,l=a),l===a&&(l=null),l!==a)if(o=qe,p=peg$parsetex(),p!==a?(u=peg$parse__(),u!==a?(p=[p,u],o=p):(qe=o,o=a)):(qe=o,o=a),o===a&&(o=null),o!==a)if(p=peg$parsetype(),p!==a)if(u=peg$parse__(),u!==a)if(c=peg$parseident(),c!==a)if(f=peg$parse_(),f!==a)if(61===e.charCodeAt(qe)?(d=P,qe++):(d=a,0===Xe&&peg$fail(C)),d!==a)if(g=peg$parse_(),g!==a)if(h=peg$parseobjectexpr(),h!==a)if($=peg$parse_(),$!==a)if(41===e.charCodeAt(qe)?(m=L,qe++):(m=a,0===Xe&&peg$fail(q)),m!==a)if(v=peg$parse_(),v!==a)if(123===e.charCodeAt(qe)?(w=_,qe++):(w=a,0===Xe&&peg$fail(x)),w!==a)if(A=peg$parse_(),A!==a){E=[],j=qe,S=peg$parsedefdollar(),S!==a?(T=peg$parse_(),T!==a?(Ne=j,S=peg$c122(l,o,p,c,h,S),j=S):(qe=j,j=a)):(qe=j,j=a);while(j!==a)E.push(j),j=qe,S=peg$parsedefdollar(),S!==a?(T=peg$parse_(),T!==a?(Ne=j,S=peg$c122(l,o,p,c,h,S),j=S):(qe=j,j=a)):(qe=j,j=a);E!==a?(j=peg$parse_(),j!==a?(S=peg$parseexpr_internal_3(),S!==a?(T=peg$parse_(),T!==a?(125===e.charCodeAt(qe)?(M=b,qe++):(M=a,0===Xe&&peg$fail(y)),M!==a?(Ne=t,r=peg$c123(l,o,p,c,h,E,S),t=r):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)}else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;return He[O]={nextPos:qe,result:t},t}function peg$parseexpr_internal_3(){var e,t=44*qe+20,r=He[t];return r?(qe=r.nextPos,r.result):(e=peg$parsereduction(),e===a&&(e=peg$parseexpr_internal_2()),He[t]={nextPos:qe,result:e},e)}function peg$parseexpr_internal_2(){var e,t=44*qe+21,r=He[t];return r?(qe=r.nextPos,r.result):(e=peg$parseconditional(),e===a&&(e=peg$parseexpr_internal_1()),He[t]={nextPos:qe,result:e},e)}function peg$parseexpr_internal_1(){var t,r,n,i,s,l,o=44*qe+22,p=He[o];return p?(qe=p.nextPos,p.result):(t=peg$parseschemacall(),t===a&&(t=peg$parsevar(),t===a&&(t=peg$parseschemaexpr(),t===a&&(t=peg$parsewith(),t===a&&(t=qe,40===e.charCodeAt(qe)?(r=k,qe++):(r=a,0===Xe&&peg$fail(I)),r!==a?(n=peg$parse_(),n!==a?(i=peg$parseexpr_internal_3(),i!==a?(s=peg$parse_(),s!==a?(41===e.charCodeAt(qe)?(l=L,qe++):(l=a,0===Xe&&peg$fail(q)),l!==a?(Ne=t,r=peg$c26(i),t=r):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a))))),He[o]={nextPos:qe,result:t},t)}function peg$parseobjectexpr(){var t,r,n,i,s,l,o=44*qe+23,p=He[o];return p?(qe=p.nextPos,p.result):(t=peg$parsefuncall(),t===a&&(t=peg$parsefunexpr(),t===a&&(t=peg$parsevar(),t===a&&(t=qe,40===e.charCodeAt(qe)?(r=k,qe++):(r=a,0===Xe&&peg$fail(I)),r!==a?(n=peg$parse_(),n!==a?(i=peg$parseobjectexpr(),i!==a?(s=peg$parse_(),s!==a?(41===e.charCodeAt(qe)?(l=L,qe++):(l=a,0===Xe&&peg$fail(q)),l!==a?(Ne=t,r=peg$c26(i),t=r):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)))),He[o]={nextPos:qe,result:t},t)}function peg$parsedefdollar(){var t,r,n,i,s,l,o,p,u=44*qe+24,c=He[u];return c?(qe=c.nextPos,c.result):(t=qe,r=peg$parsedollar_ident(),r!==a?(n=peg$parse_(),n!==a?(61===e.charCodeAt(qe)?(i=P,qe++):(i=a,0===Xe&&peg$fail(C)),i!==a?(s=peg$parse_(),s!==a?(l=peg$parseexpr_internal_3(),l!==a?(o=peg$parse_(),o!==a?(p=peg$parsesem(),p!==a?(Ne=t,r=peg$c124(r,l),t=r):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a),He[u]={nextPos:qe,result:t},t)}function peg$parsetype(){var e,t=44*qe+25,r=He[t];return r?(qe=r.nextPos,r.result):(e=peg$parsestype(),e===a&&(e=peg$parseftype()),He[t]={nextPos:qe,result:e},e)}function peg$parsestype(){var e,t,r=44*qe+26,n=He[r];return n?(qe=n.nextPos,n.result):(e=qe,t=peg$parseident(),t!==a&&(Ne=e,t=peg$c125(t)),e=t,He[r]={nextPos:qe,result:e},e)}function peg$parseftype(){var t,r,n,i,s,l,o,p,u,c,f,d=44*qe+27,g=He[d];if(g)return qe=g.nextPos,g.result;if(t=qe,91===e.charCodeAt(qe)?(r=Z,qe++):(r=a,0===Xe&&peg$fail(B)),r!==a)if(n=peg$parse_(),n!==a){if(i=qe,s=peg$parsetype(),s!==a){l=[],o=qe,p=peg$parse_(),p!==a?(44===e.charCodeAt(qe)?(u=$,qe++):(u=a,0===Xe&&peg$fail(m)),u!==a?(c=peg$parse_(),c!==a?(f=peg$parsetype(),f!==a?(Ne=o,p=peg$c126(s,f),o=p):(qe=o,o=a)):(qe=o,o=a)):(qe=o,o=a)):(qe=o,o=a);while(o!==a)l.push(o),o=qe,p=peg$parse_(),p!==a?(44===e.charCodeAt(qe)?(u=$,qe++):(u=a,0===Xe&&peg$fail(m)),u!==a?(c=peg$parse_(),c!==a?(f=peg$parsetype(),f!==a?(Ne=o,p=peg$c126(s,f),o=p):(qe=o,o=a)):(qe=o,o=a)):(qe=o,o=a)):(qe=o,o=a);l!==a?(Ne=i,s=peg$c79(s,l),i=s):(qe=i,i=a)}else qe=i,i=a;i!==a?(s=peg$parse_(),s!==a?(e.substr(qe,2)===ue?(l=ue,qe+=2):(l=a,0===Xe&&peg$fail(ce)),l!==a?(o=peg$parse_(),o!==a?(p=peg$parsetype(),p!==a?(u=peg$parse_(),u!==a?(93===e.charCodeAt(qe)?(c=G,qe++):(c=a,0===Xe&&peg$fail(W)),c!==a?(Ne=t,r=peg$c129(i,p),t=r):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)}else qe=t,t=a;else qe=t,t=a;return He[d]={nextPos:qe,result:t},t}function peg$parsevar(){var e,t=44*qe+28,r=He[t];return r?(qe=r.nextPos,r.result):(e=peg$parseat_var(),e===a&&(e=peg$parsedollar_var(),e===a&&(e=peg$parseplain_var())),He[t]={nextPos:qe,result:e},e)}function peg$parseat_var(){var e,t,r=44*qe+29,n=He[r];return n?(qe=n.nextPos,n.result):(e=qe,t=peg$parseat_ident(),t!==a&&(Ne=e,t=peg$c130(t)),e=t,He[r]={nextPos:qe,result:e},e)}function peg$parsedollar_var(){var e,t,r=44*qe+30,n=He[r];return n?(qe=n.nextPos,n.result):(e=qe,t=peg$parsedollar_ident(),t!==a&&(Ne=e,t=peg$c131(t)),e=t,He[r]={nextPos:qe,result:e},e)}function peg$parseplain_var(){var e,t,r=44*qe+31,n=He[r];return n?(qe=n.nextPos,n.result):(e=qe,t=peg$parseident(),t!==a&&(Ne=e,t=peg$c132(t)),e=t,He[r]={nextPos:qe,result:e},e)}function peg$parsekeyword(){var t,r=44*qe+32,n=He[r];return n?(qe=n.nextPos,n.result):(e.substr(qe,2)===re?(t=re,qe+=2):(t=a,0===Xe&&peg$fail(ae)),t===a&&(e.substr(qe,5)===N?(t=N,qe+=5):(t=a,0===Xe&&peg$fail(V)),t===a&&(e.substr(qe,7)===g?(t=g,qe+=7):(t=a,0===Xe&&peg$fail(h)),t===a&&(e.substr(qe,6)===u?(t=u,qe+=6):(t=a,0===Xe&&peg$fail(c)),t===a&&(e.substr(qe,7)===s?(t=s,qe+=7):(t=a,0===Xe&&peg$fail(l)),t===a&&(e.substr(qe,6)===X?(t=X,qe+=6):(t=a,0===Xe&&peg$fail(H)),t===a&&(e.substr(qe,6)===f?(t=f,qe+=6):(t=a,0===Xe&&peg$fail(d)),t===a&&(e.substr(qe,7)===F?(t=F,qe+=7):(t=a,0===Xe&&peg$fail(R)),t===a&&(e.substr(qe,4)===v?(t=v,qe+=4):(t=a,0===Xe&&peg$fail(w)),t===a&&(e.substr(qe,8)===A?(t=A,qe+=8):(t=a,0===Xe&&peg$fail(E)),t===a&&(e.substr(qe,5)===U?(t=U,qe+=5):(t=a,0===Xe&&peg$fail(z)),t===a&&(e.substr(qe,4)===oe?(t=oe,qe+=4):(t=a,0===Xe&&peg$fail(pe))))))))))))),He[r]={nextPos:qe,result:t},t)}function peg$parseident(){var t,r,n,i,s,l,o,p=44*qe+33,u=He[p];if(u)return qe=u.nextPos,u.result;if(t=qe,r=qe,n=qe,Xe++,i=qe,s=peg$parsekeyword(),s!==a?(l=qe,Xe++,fe.test(e.charAt(qe))?(o=e.charAt(qe),qe++):(o=a,0===Xe&&peg$fail(de)),Xe--,o===a?l=void 0:(qe=l,l=a),l!==a?(s=[s,l],i=s):(qe=i,i=a)):(qe=i,i=a),Xe--,i===a?n=void 0:(qe=n,n=a),n!==a){if(i=[],fe.test(e.charAt(qe))?(s=e.charAt(qe),qe++):(s=a,0===Xe&&peg$fail(de)),s!==a)while(s!==a)i.push(s),fe.test(e.charAt(qe))?(s=e.charAt(qe),qe++):(s=a,0===Xe&&peg$fail(de));else i=a;i!==a?(n=[n,i],r=n):(qe=r,r=a)}else qe=r,r=a;return t=r!==a?e.substring(t,qe):r,He[p]={nextPos:qe,result:t},t}function peg$parseat_ident(){var t,r,n,i,s,l=44*qe+34,o=He[l];if(o)return qe=o.nextPos,o.result;if(t=qe,r=qe,64===e.charCodeAt(qe)?(n=T,qe++):(n=a,0===Xe&&peg$fail(M)),n!==a){if(i=[],fe.test(e.charAt(qe))?(s=e.charAt(qe),qe++):(s=a,0===Xe&&peg$fail(de)),s!==a)while(s!==a)i.push(s),fe.test(e.charAt(qe))?(s=e.charAt(qe),qe++):(s=a,0===Xe&&peg$fail(de));else i=a;i!==a?(n=[n,i],r=n):(qe=r,r=a)}else qe=r,r=a;return t=r!==a?e.substring(t,qe):r,He[l]={nextPos:qe,result:t},t}function peg$parsedollar_ident(){var t,r,n,i,s,l=44*qe+35,o=He[l];if(o)return qe=o.nextPos,o.result;if(t=qe,r=qe,36===e.charCodeAt(qe)?(n=ge,qe++):(n=a,0===Xe&&peg$fail(he)),n!==a){if(i=[],fe.test(e.charAt(qe))?(s=e.charAt(qe),qe++):(s=a,0===Xe&&peg$fail(de)),s!==a)while(s!==a)i.push(s),fe.test(e.charAt(qe))?(s=e.charAt(qe),qe++):(s=a,0===Xe&&peg$fail(de));else i=a;i!==a?(n=[n,i],r=n):(qe=r,r=a)}else qe=r,r=a;return t=r!==a?e.substring(t,qe):r,He[l]={nextPos:qe,result:t},t}function peg$parsedocumentation(){var t,r,n,i,s,l,o,p=44*qe+36,u=He[p];if(u)return qe=u.nextPos,u.result;if(t=qe,34===e.charCodeAt(qe)?(r=$e,qe++):(r=a,0===Xe&&peg$fail(me)),r!==a){n=qe,i=[],s=qe,l=qe,Xe++,34===e.charCodeAt(qe)?(o=$e,qe++):(o=a,0===Xe&&peg$fail(me)),Xe--,o===a?l=void 0:(qe=l,l=a),l!==a?(e.length>qe?(o=e.charAt(qe),qe++):(o=a,0===Xe&&peg$fail(_e)),o!==a?(Ne=s,l=peg$c140(o),s=l):(qe=s,s=a)):(qe=s,s=a);while(s!==a)i.push(s),s=qe,l=qe,Xe++,34===e.charCodeAt(qe)?(o=$e,qe++):(o=a,0===Xe&&peg$fail(me)),Xe--,o===a?l=void 0:(qe=l,l=a),l!==a?(e.length>qe?(o=e.charAt(qe),qe++):(o=a,0===Xe&&peg$fail(_e)),o!==a?(Ne=s,l=peg$c140(o),s=l):(qe=s,s=a)):(qe=s,s=a);n=i!==a?e.substring(n,qe):i,n!==a?(34===e.charCodeAt(qe)?(i=$e,qe++):(i=a,0===Xe&&peg$fail(me)),i!==a?(Ne=t,r=peg$c141(n),t=r):(qe=t,t=a)):(qe=t,t=a)}else qe=t,t=a;return He[p]={nextPos:qe,result:t},t}function peg$parsetex_attributes(){var t,r,n,i,s,l,o,p,u=44*qe+37,c=He[u];if(c)return qe=c.nextPos,c.result;if(t=qe,91===e.charCodeAt(qe)?(r=Z,qe++):(r=a,0===Xe&&peg$fail(B)),r!==a)if(n=peg$parse_(),n!==a)if(e.substr(qe,11)===xe?(i=xe,qe+=11):(i=a,0===Xe&&peg$fail(be)),i!==a)if(s=peg$parse_(),s!==a){if(l=qe,o=[],ye.test(e.charAt(qe))?(p=e.charAt(qe),qe++):(p=a,0===Xe&&peg$fail(ve)),p!==a)while(p!==a)o.push(p),ye.test(e.charAt(qe))?(p=e.charAt(qe),qe++):(p=a,0===Xe&&peg$fail(ve));else o=a;l=o!==a?e.substring(l,qe):o,l!==a?(o=peg$parse_(),o!==a?(93===e.charCodeAt(qe)?(p=G,qe++):(p=a,0===Xe&&peg$fail(W)),p!==a?(Ne=t,r=peg$c146(l),t=r):(qe=t,t=a)):(qe=t,t=a)):(qe=t,t=a)}else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;else qe=t,t=a;return He[u]={nextPos:qe,result:t},t}function peg$parsetex(){var t,r,n,i,s,l,o,p=44*qe+38,u=He[p];if(u)return qe=u.nextPos,u.result;if(t=qe,36===e.charCodeAt(qe)?(r=ge,qe++):(r=a,0===Xe&&peg$fail(he)),r!==a){n=qe,i=[],s=qe,l=qe,Xe++,36===e.charCodeAt(qe)?(o=ge,qe++):(o=a,0===Xe&&peg$fail(he)),Xe--,o===a?l=void 0:(qe=l,l=a),l!==a?(e.length>qe?(o=e.charAt(qe),qe++):(o=a,0===Xe&&peg$fail(_e)),o!==a?(Ne=s,l=peg$c140(o),s=l):(qe=s,s=a)):(qe=s,s=a);while(s!==a)i.push(s),s=qe,l=qe,Xe++,36===e.charCodeAt(qe)?(o=ge,qe++):(o=a,0===Xe&&peg$fail(he)),Xe--,o===a?l=void 0:(qe=l,l=a),l!==a?(e.length>qe?(o=e.charAt(qe),qe++):(o=a,0===Xe&&peg$fail(_e)),o!==a?(Ne=s,l=peg$c140(o),s=l):(qe=s,s=a)):(qe=s,s=a);n=i!==a?e.substring(n,qe):i,n!==a?(36===e.charCodeAt(qe)?(i=ge,qe++):(i=a,0===Xe&&peg$fail(he)),i!==a?(Ne=t,r=peg$c141(n),t=r):(qe=t,t=a)):(qe=t,t=a)}else qe=t,t=a;return He[p]={nextPos:qe,result:t},t}function peg$parsecomment(){var t,r,n,i,s,l,o=44*qe+39,p=He[o];if(p)return qe=p.nextPos,p.result;if(t=qe,e.substr(qe,2)===we?(r=we,qe+=2):(r=a,0===Xe&&peg$fail(Pe)),r!==a){n=[],i=qe,s=qe,Xe++,l=peg$parsenewline(),Xe--,l===a?s=void 0:(qe=s,s=a),s!==a?(e.length>qe?(l=e.charAt(qe),qe++):(l=a,0===Xe&&peg$fail(_e)),l!==a?(s=[s,l],i=s):(qe=i,i=a)):(qe=i,i=a);while(i!==a)n.push(i),i=qe,s=qe,Xe++,l=peg$parsenewline(),Xe--,l===a?s=void 0:(qe=s,s=a),s!==a?(e.length>qe?(l=e.charAt(qe),qe++):(l=a,0===Xe&&peg$fail(_e)),l!==a?(s=[s,l],i=s):(qe=i,i=a)):(qe=i,i=a);n!==a?(r=[r,n],t=r):(qe=t,t=a)}else qe=t,t=a;if(t===a)if(t=qe,e.substr(qe,2)===Ce?(r=Ce,qe+=2):(r=a,0===Xe&&peg$fail(Ae)),r!==a){n=[],i=qe,s=qe,Xe++,e.substr(qe,2)===Ee?(l=Ee,qe+=2):(l=a,0===Xe&&peg$fail(je)),Xe--,l===a?s=void 0:(qe=s,s=a),s!==a?(e.length>qe?(l=e.charAt(qe),qe++):(l=a,0===Xe&&peg$fail(_e)),l!==a?(s=[s,l],i=s):(qe=i,i=a)):(qe=i,i=a);while(i!==a)n.push(i),i=qe,s=qe,Xe++,e.substr(qe,2)===Ee?(l=Ee,qe+=2):(l=a,0===Xe&&peg$fail(je)),Xe--,l===a?s=void 0:(qe=s,s=a),s!==a?(e.length>qe?(l=e.charAt(qe),qe++):(l=a,0===Xe&&peg$fail(_e)),l!==a?(s=[s,l],i=s):(qe=i,i=a)):(qe=i,i=a);n!==a?(e.substr(qe,2)===Ee?(i=Ee,qe+=2):(i=a,0===Xe&&peg$fail(je)),i!==a?(r=[r,n,i],t=r):(qe=t,t=a)):(qe=t,t=a)}else qe=t,t=a;return He[o]={nextPos:qe,result:t},t}function peg$parsenewline(){var t,r=44*qe+40,n=He[r];return n?(qe=n.nextPos,n.result):(e.substr(qe,2)===Se?(t=Se,qe+=2):(t=a,0===Xe&&peg$fail(Te)),t===a&&(13===e.charCodeAt(qe)?(t=Me,qe++):(t=a,0===Xe&&peg$fail(Oe)),t===a&&(10===e.charCodeAt(qe)?(t=De,qe++):(t=a,0===Xe&&peg$fail(ke)))),He[r]={nextPos:qe,result:t},t)}function peg$parse_(){var t,r,n=44*qe+41,i=He[n];if(i)return qe=i.nextPos,i.result;t=[],Ie.test(e.charAt(qe))?(r=e.charAt(qe),qe++):(r=a,0===Xe&&peg$fail(Le)),r===a&&(r=peg$parsecomment());while(r!==a)t.push(r),Ie.test(e.charAt(qe))?(r=e.charAt(qe),qe++):(r=a,0===Xe&&peg$fail(Le)),r===a&&(r=peg$parsecomment());return He[n]={nextPos:qe,result:t},t}function peg$parse__(){var t,r,n=44*qe+42,i=He[n];if(i)return qe=i.nextPos,i.result;if(t=[],Ie.test(e.charAt(qe))?(r=e.charAt(qe),qe++):(r=a,0===Xe&&peg$fail(Le)),r===a&&(r=peg$parsecomment()),r!==a)while(r!==a)t.push(r),Ie.test(e.charAt(qe))?(r=e.charAt(qe),qe++):(r=a,0===Xe&&peg$fail(Le)),r===a&&(r=peg$parsecomment());else t=a;return He[n]={nextPos:qe,result:t},t}function peg$parsesem(){var t,r=44*qe+43,n=He[r];return n?(qe=n.nextPos,n.result):(59===e.charCodeAt(qe)?(t=Q,qe++):(t=a,0===Xe&&peg$fail(Y)),He[r]={nextPos:qe,result:t},t)}if(r=i(),r!==a&&qe===e.length)return r;throw r!==a&&qe<e.length&&peg$fail(peg$endExpectation()),peg$buildStructuredError(Re,Fe<e.length?e.charAt(Fe):null,Fe<e.length?peg$computeLocation(Fe,Fe+1):peg$computeLocation(Fe,Fe))}peg$subclass(peg$SyntaxError,Error),peg$SyntaxError.buildMessage=function(e,t){var r={literal:function(e){return'"'+literalEscape(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?classEscape(e.parts[t][0])+"-"+classEscape(e.parts[t][1]):classEscape(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function hex(e){return e.charCodeAt(0).toString(16).toUpperCase()}function literalEscape(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+hex(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+hex(e)}))}function classEscape(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+hex(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+hex(e)}))}function describeExpectation(e){return r[e.type](e)}function describeExpected(e){var t,r,a=new Array(e.length);for(t=0;t<e.length;t++)a[t]=describeExpectation(e[t]);if(a.sort(),a.length>0){for(t=1,r=1;t<a.length;t++)a[t-1]!==a[t]&&(a[r]=a[t],r++);a.length=r}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}function describeFound(e){return e?'"'+literalEscape(e)+'"':"end of input"}return"Expected "+describeExpected(e)+" but "+describeFound(t)+" found."},e.exports={SyntaxError:peg$SyntaxError,parse:peg$parse}},7938:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556);class Calculus{static substitute(e,t){if(e instanceof p.default)return t.has(e)?t.get(e):e;if(e instanceof n.default){var r=Calculus.substitute(e.expr,t);return r==e.expr?e:r}if(e instanceof s.default){e.params.some((e=>t.has(e)))&&(t=new Map(t),e.params.forEach((e=>{t.has(e)&&t.delete(e)})));r=Calculus.substitute(e.expr,t);return r==e.expr?e:new s.default({params:e.params,def$s:e.def$s,expr:r},e.trace)}if(e instanceof l.default){var a=Calculus.substitute(e.fun,t),c=e.args.map((e=>Calculus.substitute(e,t)));return a==e.fun&&c.every(((t,r)=>t==e.args[r]))?e:new l.default({fun:a,args:c},e.trace)}if(e instanceof i.default){var f=e.left.map((e=>Calculus.substitute(e,t))),d=Calculus.substitute(e.right,t);return f.every(((t,r)=>t==e.left[r]))&&d==e.right?e:new i.default({left:f,def$s:[],right:d},e.trace)}if(e instanceof o.default)return Calculus.substitute(e.consequent,t);if(e instanceof u.default)return t.has(e.variable)&&(t=new Map(t),t.delete(e.variable)),Calculus.substitute(Calculus.expand(e),t);throw Error("Unknown expression type")}static expand(e){if(Calculus.expandCache.has(e))return Calculus.expandCache.get(e);var t=Calculus.expandInternal(e);return Calculus.expandCache.set(e,t),t}static expandInternal(e){if(e instanceof n.default)return Calculus.expand(e.expr);if(e instanceof i.default){var t=e.left.map((e=>Calculus.expand(e))),r=Calculus.expand(e.right);return t.every(((t,r)=>t==e.left[r]))&&r==e.right?e:new i.default({left:t,def$s:[],right:r},e.trace)}if(e instanceof l.default){var a=Calculus.expand(e.fun),c=e.args.map((e=>Calculus.expand(e)));return a instanceof s.default?Calculus.expand(a.call(c)):a==e.fun&&c.every(((t,r)=>t==e.args[r]))?e:new l.default({fun:a,args:c},e.trace)}if(e instanceof p.default)return e.decoration instanceof g.default?Calculus.expand(e.expr):e;if(e instanceof s.default){var f=Calculus.expand(e.expr);return f==e.expr?e:new s.default({params:e.params,def$s:e.def$s,expr:f},e.trace)}if(e instanceof o.default)return Calculus.expand(e.consequent);if(e instanceof u.default){var d=new Map;return d.set(e.variable,e.variable.expr),Calculus.expand(Calculus.substitute(e.expr,d))}throw Error("Unknown expression type")}static equals(e,t,r){if(e===t)return[];if(!e.type.equals(t.type))return!1;if(e instanceof n.default)return Calculus.equals(e.expr,t,r);if(t instanceof n.default)return Calculus.equals(e,t.expr,r);if(e instanceof o.default)return Calculus.equals(e.consequent,t,r);if(t instanceof o.default)return Calculus.equals(e,t.consequent,r);if(e instanceof p.default&&e.isExpandable(r)&&t instanceof p.default&&t.isExpandable(r)){if(e._id>t._id){var a=Calculus.equals(e.expr,t,r);return a?(a.push(e),a):a}a=Calculus.equals(e,t.expr,r);return a?(a.push(t),a):a}if(e instanceof p.default&&e.isExpandable(r)){a=Calculus.equals(e.expr,t,r);return a?(a.push(e),a):a}if(t instanceof p.default&&t.isExpandable(r)){a=Calculus.equals(e,t.expr,r);return a?(a.push(t),a):a}if(e instanceof l.default){if(!(t instanceof l.default)){if(!e.isExpandableOnce(r))return!1;var{expanded:u,used:f}=e.expandOnce(r);a=Calculus.equals(u,t,r);return a&&a.concat(f)}var d=(()=>{if(e.args.length!=t.args.length)return!1;for(var a=[],n=0;n<e.args.length;n++){var i=Calculus.equals(e.args[n],t.args[n],r);if(!i)return!1;a=a.concat(i)}return a})();if(d){var g=Calculus.equals(e.fun,t.fun,r);if(g)return g.concat(d)}if(e.isExpandableOnce(r)){var{expanded:u,used:f}=e.expandOnce(r);a=Calculus.equals(u,t,r);return a&&a.concat(f)}if(t.isExpandableOnce(r)){var{expanded:u,used:f}=t.expandOnce(r);a=Calculus.equals(e,u,r);return a&&a.concat(f)}return!1}if(t instanceof l.default)return Calculus.equals(t,e,r);if(e instanceof i.default){if(!(t instanceof i.default))return!1;if(e.left.length!=t.left.length)return!1;for(var $=0;$<e.left.length;$++)if(!Calculus.equals(e.left[$],t.left[$],r))return!1;return Calculus.equals(e.right,t.right,r)}if(t instanceof i.default)return Calculus.equals(t,e,r);if(e instanceof s.default){var m=[],_=e.type.resolve().from;for($=0;$<_.length;$++)m.push(new c.default({decoration:new h.default({doc:null,tex:null}),type:_[$],name:"$"+$,selector:null},e.trace));var x=[],b=e.call(m),y=(()=>t instanceof s.default?t.call(m):new l.default({fun:t,args:m},e.trace))();a=Calculus.equals(b,y,r);return a&&a.concat(x)}if(t instanceof s.default)return Calculus.equals(t,e,r);if(e instanceof p.default&&!e.isExpandable(r))return!1;if(t instanceof p.default&&!t.isExpandable(r))return!1;throw Error(`Unknown expression type ${e.constructor.name}`)}static isProved(e,t){t=t||[];for(var r=0;r<t.length;r++)if(t[r]==e)return!0;if(e instanceof n.default)return Calculus.isProved(e.expr,t);if(e instanceof i.default)return Calculus.isProved(e.right,t.concat(e.left));if(e instanceof p.default){if(e.decoration instanceof g.default){if(Calculus.schemaProvedCache.has(e)){var a=Calculus.schemaProvedCache.get(e);if(a)return!0;if(0==t.length)return a}var c="axiom"==e.decoration.schemaType||Calculus.isProved(e.expr,t);return t.length||Calculus.schemaProvedCache.set(e,c),c}return!1}if(e instanceof s.default)return Calculus.isProved(e.expr,t);if(e instanceof l.default)return Calculus.isProved(e.fun,t);if(e instanceof o.default)return Calculus.isProved(e.subject,t)&&e.antecedents.every((e=>Calculus.isProved(e,t)));if(e instanceof u.default)return Calculus.isProved(e.expr,t);throw Error("Unknown expression type")}static getProof(e){return Calculus.getProofInternal(e,new Map,new f.default(1),!0)}static getProofInternal(e,t,r,a=!1){if(t.has(e))return[{_type:"R",ctr:r.next(),num:t.get(e),expr:e}];if(e instanceof n.default&&!t.has(e))throw Error(`${e.name} is not defined`);if(e instanceof i.default){t=new Map(t);var c=r.peek()+1,f=e.left.map((e=>(t.set(e,r.next()),{_type:"H",ctr:r.peek(),expr:e})));let a=e.def$s.map((e=>{var a=Calculus.getProofInternal(e.expr,t,r),n=a[a.length-1].ctr;return t.set(e,n),a})).flat(1);return[{_type:"T",leftlines:f,rightlines:a.concat(Calculus.getProofInternal(e.right,t,r)),ctr:[c,r.peek()]}]}if(e instanceof p.default)return e.decoration instanceof g.default?a?Calculus.getProofInternal(e.expr,t,r,a):[{_type:"RS",ctr:r.next(),expr:e}]:[{_type:"NP",ctr:r.next(),expr:e}];if(e instanceof s.default){t=new Map(t);c=r.peek()+1;let a=[];return e.def$s.forEach((e=>{var n=Calculus.getProofInternal(e.expr,t,r);a=a.concat(n);var i=n[n.length-1].ctr;t.set(e,i)})),[{_type:"V",$lines:a,lines:Calculus.getProofInternal(e.expr,t,r),params:e.params,ctr:[c,r.peek()]}]}if(e instanceof l.default){if(t.has(e.fun))return[{_type:"SE",ctr:r.next(),schema:t.get(e.fun),args:e.args,expr:e}];if(e.fun instanceof p.default&&e.fun.decoration instanceof g.default)return[{_type:"RC",ctr:r.next(),expr:e}];if(e.fun instanceof p.default&&!(e.fun.decoration instanceof g.default))return[{_type:"NP",ctr:r.next(),expr:e}];var h=Calculus.getProofInternal(e.fun,t,r);return[...h,{_type:"SE",ctr:r.next(),schema:h[h.length-1].ctr,args:e.args,expr:e}]}if(e instanceof o.default){var $=[],m=e.antecedents.map(((a,n)=>{if(0==e.antecedentEqualsResults[n].length&&t.has(a))return t.get(a);var i=t.get(a)||null,s=i?[]:Calculus.getProofInternal(a,t,r);return e.antecedentEqualsResults[n].length&&s.push({_type:"bydef",ctr:r.next(),ref:i||s[s.length-1].ctr,expr:e.requiredAntecedents[n],of:e.antecedentEqualsResults[n]}),$.push(s),e.antecedentEqualsResults[n].length?r.peek():s[s.length-1].ctr})),_=null,x=[],b=(()=>t.has(e.subject)?t.get(e.subject):e.subject instanceof l.default&&t.has(e.subject.fun)?(_=e.subject.args,t.get(e.subject.fun)):e.subject instanceof p.default||e.subject instanceof l.default&&(0,d.isNameable)(e.subject.fun)&&e.subject.fun.name?e.subject:(x=Calculus.getProofInternal(e.subject,t,r),x[x.length-1].ctr))(),y=[...$.flat(),...x];return e.rightEqualsResult&&e.rightEqualsResult.length?y.push({_type:"TE",ctr:r.next(),subject:b,args:_,antecedents:m,reduced:e.preFormatConsequent},{_type:"bydef",ref:r.peek(),ctr:r.next(),expr:e.consequent,of:e.rightEqualsResult}):y.push({_type:"TE",ctr:r.next(),subject:b,args:_,antecedents:m,reduced:e.consequent}),y}if(e instanceof u.default){t=new Map(t);var v={_type:"def",ctr:r.next(),var:e.variable};let a=e.def$s.map((e=>{var a=Calculus.getProofInternal(e.expr,t,r),n=a[a.length-1].ctr;return t.set(e,n),a})).flat(1);return[v,...a,...Calculus.getProofInternal(e.expr,t,r)]}throw Error("Unknown expression type")}}t["default"]=Calculus,Object.defineProperty(Calculus,"expandCache",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(Calculus,"schemaProvedCache",{enumerable:!0,configurable:!0,writable:!0,value:new Map});const n=(0,a.__importDefault)(r(2503)),i=(0,a.__importDefault)(r(6659)),s=(0,a.__importDefault)(r(121)),l=(0,a.__importDefault)(r(1178)),o=(0,a.__importDefault)(r(8905)),p=(0,a.__importDefault)(r(4720)),u=(0,a.__importDefault)(r(8866)),c=(0,a.__importDefault)(r(7824)),f=(0,a.__importDefault)(r(3159)),d=r(2756),g=(0,a.__importDefault)(r(1525)),h=(0,a.__importDefault)(r(9444))},3457:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class ExecutionContext{constructor(e){Object.defineProperty(this,"usingList",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.usingList=e||[]}canUse(e){return this.usingList.includes(e)}}t["default"]=ExecutionContext},180:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556),n=(0,a.__importDefault)(r(7938)),i=(0,a.__importDefault)(r(1607)),s=(0,a.__importDefault)(r(5362)),l=(0,a.__importDefault)(r(1525)),o=(0,a.__importDefault)(r(121));class HtmlGenerator{constructor(e,t,r){if(Object.defineProperty(this,"program",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ktx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"yamd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e||!t||!r)throw Error("wut");this.program=e,this.ktx=t,this.yamd=r}typedef(e,t){return`<div class="block"><p class="label"><a id="type-${e}" href="#type-${e}"><b>type</b> ${e}</a></p><div class="math">${this.ktx(t.toTeXString(!0))}</div>`+(t.doc?`<p class="label"><b>description</b></p><p class="description">${this.yamd.render(t.doc)}</p>`:"")+"</div>"}def(e,t){return`<div class="block"><p class="label"><a id="def-${e}" href="#def-${e}"><b>${"sealed"in t.decoration&&!t.decoration.sealed?"unsealed ":""}definition</b> ${e}</a>${t.decoration instanceof i.default||t.decoration instanceof s.default?(e=>{var t;if(e.decoration instanceof i.default)t=e.decoration.params;else{if(!(e.expr instanceof o.default))throw Error("wut");t=e.expr.params}return`(${t.map((e=>e.toSimpleString())).join(", ")}): ${e.type.resolveToFunctionalType().to}`})(t):": "+t.type}</p><div class="math">${this.ktx(t.toTeXString(void 0,!0))}</div>`+(t.decoration.doc?`<p class="label"><b>description</b></p><p class="description">${this.yamd.render(t.decoration.doc)}</p>`:"")+"</div>"}schema(e,t,r,a){if(!(t.decoration instanceof l.default))throw Error("wut");if(!(t.expr instanceof o.default))throw Error("wut");return`<div class="block"><p class="label"><a id="def-${e}" href="#def-${e}"><b>${t.decoration.schemaType}</b> ${e}</a>(${t.expr.params.map((e=>e.toSimpleString())).join(", ")})${t.decoration.context.usingList.length?` <b>using</b> ${t.decoration.context.usingList.map((e=>e.name)).join(", ")}`:""}</p><div class="math">${this.ktx(t.toTeXString(void 0,!0))}</div>`+(!t.expr||"axiom"==t.decoration.schemaType||a?"":'<p class="label"><b>proof explorer</b></p>'+(r?`<p>${this.program.getProofExplorer(e,this.ktx,this.yamd)}</p>`:`<p><input type="button" value="show" class="colored button-expand-proof" data-name="${e}" onclick="Globals.onShowButtonClick(this)"></p>`))+(t.decoration.doc?`<p class="label"><b>description</b></p><p class="description">${this.yamd.render(t.decoration.doc)}</p>`:"")+"</div>"}generate(e,t,r){var a=new Map,i=[],s=[],o=[],p=[],u=[],c=[],f=[],printThisScope=e=>{var r={};for(let[t,n]of e.variableMap)if(!(n.decoration instanceof l.default)&&"precedence"in n.decoration&&n.decoration.precedence){var d=n.decoration.precedence.toString();a.has(d)?a.set(d,a.get(d).concat([t])):a.set(d,[t])}i=i.concat([...e.typeMap].filter((([e,t])=>!t.expr)).map((([e,t])=>e))),s=s.concat([...e.typeMap].filter((([e,t])=>t.expr)).map((([e,t])=>e))),o=o.concat([...e.variableMap].filter((([e,t])=>!(t.decoration instanceof l.default)&&!t.expr)).map((([e,t])=>e))),p=p.concat([...e.variableMap].filter((([e,t])=>!(t.decoration instanceof l.default)&&t.expr)).map((([e,t])=>e))),u=u.concat([...e.variableMap].filter((([e,t])=>t.decoration instanceof l.default&&"axiom"==t.decoration.schemaType)).map((([e,t])=>e))),c=c.concat([...e.variableMap].filter((([e,t])=>t.decoration instanceof l.default&&!n.default.isProved(t))).map((([e,t])=>e))),f=f.concat([...e.variableMap].filter((([e,t])=>t.decoration instanceof l.default&&"axiom"!=t.decoration.schemaType&&n.default.isProved(t))).map((([e,t])=>e)));for(let[t,a]of e.typeMap)r[a._id]=this.typedef(t,a);for(let[a,n]of e.variableMap)n.decoration instanceof l.default?r[n._id]=this.schema(a,n,t.includes(a),!1):r[n._id]=this.def(a,n);return`<h3 class="label">system ${e.name}${e.extendsMap.size?" extends "+[...e.extendsMap.keys()].join(", "):""} (${Object.keys(r).length})</h3><div class="block-file">`+Object.keys(r).sort(((e,t)=>Number(e)-Number(t))).map((e=>r[e])).join("\n\n")+"</div>"},d=[e];function printImportedScopes(e){var t="";for(var[r,a]of e.extendsMap)d.includes(r)||(d.push(r),t+=printImportedScopes(a),t+=printThisScope(a));return t}var g="";if(!this.program.scope)throw Error("wut");r&&(g+=printImportedScopes(this.program.scope)),g+=printThisScope(this.program.scope);var h=[...a].sort(((e,t)=>Number(e[0])-Number(t[0]))),$={"#summary":`\n<ul>\n\t<li><p><b>Types</b> (${i.length+s.length})</p>\n\t<ul>\n\t\t<li><b>Atomic types</b> (${i.length}): ${i.map((e=>`<a href="#type-${e}">${e}</a>`)).join(", ")}\n\t\t<li><b>Macro types</b> (${s.length}): ${s.map((e=>`<a href="#type-${e}">${e}</a>`)).join(", ")}\n\t</ul>\n\n\t<li><p><b>Variable declarations</b> (${o.length+p.length})</p>\n\t<ul>\n\t\t<li><b>Atomic variables</b> (${o.length}): ${o.map((e=>`<a href="#def-${e}">${e}</a>`)).join(", ")}\n\t\t<li><b>Macro variables</b> (${p.length}): ${p.map((e=>`<a href="#def-${e}">${e}</a>`)).join(", ")}\n\t</ul>\n\t\n\t<li><p><b>Schemata</b> (${u.length+c.length+f.length})</p>\n\t<ul>\n\t\t<li><b>Axioms</b> (${u.length}): ${u.map((e=>`<a href="#def-${e}">${e}</a>`)).join(", ")}\n\t\t<li><b>Not proved</b> (${c.length}): ${c.map((e=>`<a href="#def-${e}">${e}</a>`)).join(", ")}\n\t\t<li><b>Theorems</b> (${f.length})\n\t</ul>\n</ul>\n<h3>Operator precedence</h3>\n<table>\n\t<tr><th>Precedence</th><th>Operators</th></tr>\n\t${h.map((([e,t])=>`<tr><td>${e}</td><td>${t.map((e=>`<a href="#def-${e}">${e}</a>`)).join(", ")}</td></tr>`)).join("")}\n</table>\n<h3>References</h3>\n<dl>\n\t<dt>[Pinter]</dt>\n\t<dd>Pinter, C. <i>A Book of Set Theory.</i> Dover Books on Mathematics. Dover Publications, 2014.</dd>\n</dl>`,"#all":g};return $}}t["default"]=HtmlGenerator},7952:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556);function typeObjToString(e){if("type"!=e._type)throw Error("Assertion failed");return e.ftype?"["+e.from.map(typeObjToString).join(", ")+" -> "+typeObjToString(e.to)+"]":e.name}function typeObjToNestedArr(e){if("type"!=e._type)throw Error("Assertion failed");if(e.ftype){if(!e.from||!e.to)throw Error("Assertion failed");return e.from.map(typeObjToNestedArr).concat([typeObjToNestedArr(e.to)])}if(!e.name)throw Error("Assertion failed");return e.name}function varObjToString(e){switch(e.type){case"@":case"$":case"normal":return`${e.name}`;default:throw Error(`Unknown type ${e.type}`)}}class PI{static type(e,t){if("typedef"!=e._type)throw Error("Assertion failed");var r=t.extend("type",e.name,e.location),a=e.expr?r.getType(typeObjToNestedArr(e.expr)):null,n=e.name,i=e.doc;return a?new b.SimpleType({doc:i,name:n,expr:a},r.trace):new b.SimpleType({doc:i,name:n,expr:null},r.trace)}static variable(e,t){if(!["defv","var"].includes(e._type))throw Error("Assertion failed");var r=t.extend("variable",e.name,e.location);if("var"==e._type){if("normal"!=e.type)throw r.error(`Variable type ${e.type} not allowed`);if(!r.hasVariable(e.name))throw r.error(`Undefined identifier ${varObjToString(e)}`);return r.getVariable(e.name)}if(!r.hasType(typeObjToNestedArr(e.type)))throw r.error(`Type ${typeObjToString(e.type)} is not defined`);var a=r.getType(typeObjToNestedArr(e.type)),n=e.expr?PI.objectexpr(e.expr,r):null;return e.isParam?new o.default({decoration:new g.default({doc:e.doc,tex:e.tex}),type:a,name:e.name,selector:e.selector||null},r.trace):new c.default({decoration:n?new h.default({doc:e.doc,tex:e.tex,sealed:!!e.sealed}):new g.default({doc:e.doc,tex:e.tex}),type:a,name:e.name,expr:n||null},r.trace)}static fun(e,t){if("defun"!=e._type&&"funexpr"!=e._type)throw Error("Assertion failed");var r=t.extend("fun","defun"==e._type?e.name:"<anonymous>",e.location),a=e.params.map((e=>{var t=PI.variable(e,r);if(r.hasOwnVariable(t.name))throw r.error(`Parameter ${t.name} has already been declared`);if(!(t instanceof o.default))throw Error("Something's wrong");return r.addVariable(t),t}));if("defun"==e._type){var n=e.doc,i=new d.default(e.tex_attributes.precedence),l=e.tex,p=e.sealed;if(!r.hasType(typeObjToNestedArr(e.rettype)))throw r.error(`Type ${typeObjToString(e.rettype)} is not defined`);var u=r.getType(typeObjToNestedArr(e.rettype)),f=e.name,g=e.expr?PI.objectexpr(e.expr,r):null;return new c.default({decoration:g?new $.default({doc:n,precedence:i,tex:l,sealed:p}):new m.default({doc:n,precedence:i,tex:l,params:a}),type:new x.FunctionalType({from:a.map((e=>e.type)),to:u},r.trace),name:f,expr:g?new s.default({params:a,def$s:[],expr:g},r.trace):null},r.trace)}if("funexpr"==e._type){let t=PI.objectexpr(e.expr,r);return new s.default({params:a,def$s:[],expr:t},r.trace)}throw Error("wut")}static funcall(e,t){if("funcall"!=e._type)throw Error("Assertion failed");var r=t.extend("funcall","name"in e.schema?e.schema.name:null,e.location),a=PI.objectexpr(e.schema,r),n=e.args.map((e=>PI.objectexpr(e,r)));return new l.default({fun:a,args:n},r.trace)}static expr(e,t,r){if(!["conditional","reduction","schemacall","schemaexpr","var","with"].includes(e._type))throw Error("Assertion failed");var a=t;switch(e._type){case"conditional":return PI.conditional(e,a,r);case"reduction":return PI.reduction(e,a,r);case"schemacall":return PI.schemacall(e,a,r);case"schemaexpr":return PI.schema(e,a,r);case"var":return PI.metavar(e,a);case"with":return PI.with(e,a,r);default:throw Error("wut")}}static objectexpr(e,t){if(!["funcall","funexpr","var"].includes(e._type))throw console.log(e),Error("Assertion failed");var r=t;switch(e._type){case"funcall":return PI.funcall(e,r);case"funexpr":return PI.fun(e,r);case"var":return PI.variable(e,r);default:throw Error("wut")}}static metavar(e,t){if("var"!=e._type)throw Error("Assertion failed");var r=t;switch(e.type){case"@":if(e.name.match(/^@h[0-9]+$/)){var a=e.name.slice(2),n=Number(a);if(0==n)throw r.error("@h0 is not allowed; hypothesis number starts from one");if("0"==a[0])throw r.error("Hypothesis number cannot start with a 0");if(a.length>=16)throw r.error("Hypothesis number insanely big");if(n>r.hypotheses.length)throw r.error(`Hypothesis #${n} not found; there are only ${r.hypotheses.length} hypotheses available`);return r.hypotheses[n-1]}throw r.error(`Unknown selector query ${varObjToString(e)}`);case"$":if(!r.has$(e.name))throw r.error(`${varObjToString(e)} is not defined`);return r.get$(e.name);case"normal":if(!r.hasVariable(e.name))throw r.error(`Schema ${varObjToString(e)} is not defined`);return r.getVariable(e.name);default:throw r.error(`Unknown type ${e.type}`)}}static with(e,t,r){if("with"!=e._type)throw Error("Assertion failed");var a=t.extend("with",null,e.location),n=PI.variable(e.with,a);if(a.hasOwnVariable(n.name))throw a.error(`Parameter ${n.name} has already been declared`);if(!(n instanceof c.default))throw Error("Something's wrong");a.addVariable(n);var i=e.def$s.map((e=>{var t=PI.def$(e,a,r);if(a.hasOwn$(t.name))throw a.error(`${e.name} has already been declared`);return a.add$(t)})),s=PI.expr(e.expr,a,r);return new f.default({variable:n,def$s:i,expr:s},a.trace)}static conditional(e,t,r){if("conditional"!=e._type)throw Error("Assertion failed");var a=t.extend("conditional",null,e.location),n=e.left.map((e=>PI.expr(e,a,r))),i=a.extend("conditional.right",null,e.right.location);n.forEach((e=>i.hypotheses.push(e)));var s=e.def$s.map((e=>{var t=PI.def$(e,i,r);if(i.hasOwn$(t.name))throw i.error(`${e.name} has already been declared`);return i.add$(t)})),l=PI.expr(e.right,i,r);return new u.default({left:n,def$s:s,right:l},a.trace)}static def$(e,t,r){if("def$"!=e._type)throw Error("Assertion failed");var a=t.extend("def$",e.name,e.location),n=PI.expr(e.expr,a,r);return new i.default({name:e.name,expr:n},a.trace)}static schema(e,t,r){if("defschema"!=e._type&&"schemaexpr"!=e._type)throw Error("Assertion failed");var a="defschema"==e._type?e.name:null,i=t.extend("schema",a,e.location),l="schema",p=null,u=r;if("defschema"==e._type){if(l=e.schemaType,p=e.doc,r)throw console.log(r),Error("duh");var f=e.using.map((e=>{if(!i.hasVariable(e))throw i.error(`Variable ${e} is not defined`);var t=i.getVariable(e);if(!t.expr)throw i.error(`${e} is not a macro`);return t}));u=new n.default(f)}var d=e.params.map((e=>{var t=PI.variable(e,i);if(i.hasOwnVariable(t.name))throw i.error(`Parameter ${t.name} has already been declared`);if(!(t instanceof o.default))throw Error("Something's wrong");return i.addVariable(t),t})),g=e.def$s.map((e=>{var t=PI.def$(e,i,u);if(i.hasOwn$(t.name))throw i.error(`${e.name} has already been declared`);return i.add$(t)})),h=PI.expr(e.expr,i,u);if("defschema"==e._type){if(!a)throw i.error("wut");return new c.default({decoration:new _.default({doc:p,schemaType:l,context:u}),type:new x.FunctionalType({from:d.map((e=>e.type)),to:h.type},i.trace),name:a,expr:new s.default({params:d,def$s:g,expr:h},i.trace)},i.trace)}if("schemaexpr"==e._type)return new s.default({params:d,def$s:g,expr:h},i.trace);throw Error("wut")}static schemacall(e,t,r){if("schemacall"!=e._type)throw Error("Assertion failed");var a=t.extend("schemacall","name"in e.schema?e.schema.name:null,e.location),n=PI.expr(e.schema,a,r),i=e.args.map((e=>PI.objectexpr(e,a)));return new l.default({fun:n,args:i},a.trace)}static reduction(e,t,r){if("reduction"!=e._type)throw Error("Assertion failed");if(!r)throw Error("duh");var a=t.extend("reduction","name"in e.subject?e.subject.name:null,e.location),n=PI.expr(e.subject,a,r),i=e.args?e.args.map((e=>e&&PI.objectexpr(e,a))):null,s=e.antecedents.map((e=>PI.expr(e,a,r))),l=e.as&&PI.expr(e.as,a,r);return new p.default({subject:n,args:i,antecedents:s,as:l},r,a.trace)}static defsystem(e,t){var r=new y.default(t,e.name,t.trace.extend({type:"system",name:e.name,location:e.location})),a=new Map,n=new Map;if(new Set(e.extends_).size!=e.extends_.length)throw r.error("Cannot extend the same system more than twice");for(var i of e.extends_){var l=t.getSystem(i);for(let[e,t]of l.typeMap){if(a.has(e)&&a.get(e)!=t)throw r.error(`Conflicting definition for the inherited type ${e}`);a.set(e,t)}for(let[e,t]of l.variableMap){if(n.has(e)&&n.get(e)!=t)throw r.error(`Conflicting definition for the inherited variable ${e}`);n.set(e,t)}r.extendsMap.set(l.name,l)}for(var o of e.lines)switch(o._type){case"typedef":var p=PI.type(o,r);if(r.hasType(p.name))throw r.error(`Type ${p.name} has already been declared`);r.addType(p);break;case"defv":var u=PI.variable(o,r);if(r.hasVariable(u.name))throw r.error(`Definition ${u.name} has already been declared`);r.addVariable(u);break;case"defun":var c=PI.fun(o,r);if(c instanceof s.default)throw Error("wut");if(r.hasVariable(c.name))throw r.error(`Definition ${c.name} has already been declared`);r.addVariable(c);break;case"defschema":var f=PI.schema(o,r,null);if(f instanceof s.default)throw Error("wut");if(r.hasVariable(f.name))throw r.error(`Schema ${f.name} has already been declared`);r.addVariable(f);break;default:throw Error(`Unknown line type ${o._type}`)}return r}}t["default"]=PI;const n=(0,a.__importDefault)(r(3457)),i=(0,a.__importDefault)(r(2503)),s=(0,a.__importDefault)(r(121)),l=(0,a.__importDefault)(r(1178)),o=(0,a.__importDefault)(r(7824)),p=(0,a.__importDefault)(r(8905)),u=(0,a.__importDefault)(r(6659)),c=(0,a.__importDefault)(r(4720)),f=(0,a.__importDefault)(r(8866)),d=(0,a.__importDefault)(r(4611)),g=(0,a.__importDefault)(r(9444)),h=(0,a.__importDefault)(r(6756)),$=(0,a.__importDefault)(r(5362)),m=(0,a.__importDefault)(r(1607)),_=(0,a.__importDefault)(r(1525)),x=r(9282),b=r(1355),y=(0,a.__importDefault)(r(2946))},4611:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class Precedence{constructor(e){Object.defineProperty(this,"precedence",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.precedence=Precedence.normalizePrecedence(e)}static normalizePrecedence(e){if("number"==typeof e)return[0,e];if(!(e instanceof Array&&2==e.length))throw console.log(e),Error("wut");return e}shouldPutParentheses(e){var t=this.precedence,r=e.precedence;return(0!=t[0]||0!=t[1])&&!(t[0]<r[0]||t[0]==r[0]&&t[1]<r[1])}toString(){return 0==this.precedence[0]?this.precedence[1]+"":this.precedence.join(":")}}t["default"]=Precedence,Object.defineProperty(Precedence,"FUNEXPR",{enumerable:!0,configurable:!0,writable:!0,value:new Precedence(1e3)}),Object.defineProperty(Precedence,"COMMA",{enumerable:!0,configurable:!0,writable:!0,value:new Precedence(1e3)}),Object.defineProperty(Precedence,"COLONEQQ",{enumerable:!0,configurable:!0,writable:!0,value:new Precedence(1e5)}),Object.defineProperty(Precedence,"ZERO",{enumerable:!0,configurable:!0,writable:!0,value:new Precedence(0)}),Object.defineProperty(Precedence,"INFINITY",{enumerable:!0,configurable:!0,writable:!0,value:new Precedence([2,0])})},3833:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556);let n,i;n=r(6473),i=r(5810);class Program{constructor(){Object.defineProperty(this,"scope",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"loadingSystems",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"fileScopeMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}loadSystem(e,t){return(0,a.__awaiter)(this,void 0,void 0,(function*(){this.loadingSystems=[];var r=yield this.loadSystemInternal(e,t),a=e.slice(e.lastIndexOf(".")+1);if(!r.hasSystem(a))throw Error(`System ${e} not found`);return this.scope=r.getSystem(a)}))}loadSystemInternal(e,t){return(0,a.__awaiter)(this,void 0,void 0,(function*(){if(this.fileScopeMap.has(e))return this.fileScopeMap.get(e);if(!this.loadingSystems)throw Error("wut");var r=this.loadingSystems.indexOf(e);if(r>=0){if(r==this.loadingSystems.length-1)throw Error(`Cannot self import (${e})`);var a=this.loadingSystems.slice(r).concat(e);throw Error(`Circular import detected (${a.join(" -> ")}). Sadly, circular import is currently not supported.`)}this.loadingSystems.push(e);var{fileUri:i,code:l}=yield t(e),p=new o.default(i||null),u=n.parse(l);if(e.indexOf(".")>=0&&!u.defpackage)throw p.error(`Package declaration for ${e} not found`);if(u.defpackage){var c=e.slice(0,e.lastIndexOf("."));if(u.defpackage.name!=c)throw p.extend("defpackage",null,u.defpackage.location).error(`Package declaration ${u.defpackage.name} does not match the expected package name ${c}`)}for(let e of u.imports){var f=yield this.loadSystemInternal(e.name,t);for(var d of f.systemMap.values())p.importMap.set(d.name,d)}for(let e of u.systems){var g=s.default.defsystem(e,p);if(p.hasSystem(g.name))throw p.error(`System ${g.name} has already been declared`);p.addSystem(g)}if(this.loadingSystems.pop()!=e)throw Error("Something's wrong");return this.fileScopeMap.set(e,p),p}))}evaluate(e){if(!this.scope)throw Error("wut");var t=i.parse(e),r=new p.default(this.scope,new u.default("<repl>"));switch(t._type){case"typedef":return s.default.type(t,r);case"defv":return s.default.variable(t,r);case"defun":return s.default.fun(t,r);case"defschema":case"schemaexpr":return s.default.schema(t,r,null);case"conditional":return s.default.conditional(t,r,null);case"reduction":return s.default.reduction(t,r,null);case"schemacall":return s.default.schemacall(t,r,null);case"var":return s.default.metavar(t,r);default:throw Error(`Unknown line type ${t._type}`)}}getProofExplorer(e,t,r){if(!this.scope)throw Error("wut");return l.default.get(this.scope,e,t,r)}}t["default"]=Program,Object.defineProperty(Program,"parser",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(Program,"evalParser",{enumerable:!0,configurable:!0,writable:!0,value:i});const s=(0,a.__importDefault)(r(7952)),l=(0,a.__importDefault)(r(2267)),o=(0,a.__importDefault)(r(4667)),p=(0,a.__importDefault)(r(6075)),u=(0,a.__importDefault)(r(1633))},2267:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556),n=(0,a.__importDefault)(r(7938)),i=(0,a.__importDefault)(r(4611)),s=(0,a.__importDefault)(r(4720)),l=(0,a.__importDefault)(r(1525));class ProofExplorer{static get(e,t,r,a){var o="<b>R</b>",p="<b>E</b>",u="<b>E</b>";if(!e.hasVariable(t))throw Error("wut");var c=e.getVariable(t);if(!(c instanceof s.default&&c.decoration instanceof l.default))throw Error("wut");function getHtmlLine(e,t,a,n,s){for(var l=t.length,{bbb:o=!1,rrb:p=!1}=s||{},u=t.map(((e,t,a)=>`<td class="${p&&t==a.length-1?"rrb":"brb"}">${e.map((e=>r(e.toTeXStringWithId(i.default.INFINITY)))).join(", ")}</td>`)).join(""),c=0;c<t.length;c++)while(t[c].length)t[c].pop();return`<tr><th>${e}</th>${u}<td ${o?'class="bbb" ':""}colspan="${g-l}">${a}</td>${n instanceof Array?n.map(((e,t)=>`<td${0==t?' style="text-align:center"':""}>${e}</td>`)).join(""):`<td colspan="2">${n}</td>`}</tr>`}function exprToHtml(e,t){return"number"==typeof e?`<b>${e}</b>`:e instanceof Array?`<b>${e[0]}&ndash;${e[1]}</b>`:r(t?n.default.expand(e).toTeXString(i.default.INFINITY,!0):e.toTeXString(i.default.INFINITY,!0))}var f=n.default.getProof(c),d=f[0].$lines.concat(f[0].lines),g=function recurse(e){return Math.max(...e.map((e=>{switch(e._type){case"V":return Math.max(recurse(e.$lines),recurse(e.lines))+1;case"T":return Math.max(recurse(e.leftlines),recurse(e.rightlines))+1;default:return 1}})))}(d),h='<table class="explorer">';return h+=`<tr><th>#</th><th colspan="${g}">expression</th><th colspan="2">rule</th></tr>`,h+=function tree2html(e,t){return e.map((e=>{switch(e._type){case"V":var r=e.params.slice();return tree2html(e.$lines,t.concat([r]))+tree2html(e.lines,t.concat([r]));case"T":var n=t.concat([[]]),i="";if(0==e.leftlines.length){var s=Array(t.length+1).fill([]);i+=getHtmlLine("",s,"","",{bbb:!0,rrb:!0})}else i+=e.leftlines.map(((e,t,r)=>getHtmlLine(e.ctr,n,exprToHtml(e.expr,!0),"assumption",{bbb:t==r.length-1,rrb:!0}))).join("");return i+=tree2html(e.rightlines,n),i;case"H":throw Error("no");case"R":return getHtmlLine(e.ctr,t,exprToHtml(e.expr,!0),[o,exprToHtml(e.num)]);case"RS":return getHtmlLine(e.ctr,t,exprToHtml(e.expr,!0),[o,exprToHtml(e.expr)]);case"RC":return getHtmlLine(e.ctr,t,exprToHtml(e.expr,!0),[u,exprToHtml(e.expr)]);case"SE":return getHtmlLine(e.ctr,t,exprToHtml(e.expr,!0),[u,`${exprToHtml(e.schema)} (${e.args.map((e=>exprToHtml(e))).join(", ")})`]);case"TE":return getHtmlLine(e.ctr,t,exprToHtml(e.reduced,!0),[p,`${exprToHtml(e.subject)}${e.args?" ("+e.args.map((e=>exprToHtml(e))).join(", ")+")":""} [${e.antecedents.map((e=>exprToHtml(e))).join(", ")}]`]);case"NP":return getHtmlLine(e.ctr,t,exprToHtml(e.expr,!0),'<b class="red">not proved</b>');case"def":return getHtmlLine(e.ctr,t,e.var.decoration.doc?`<p>${exprToHtml(e.var)}</p>${a.render(e.var.decoration.doc)}`:exprToHtml(e.var),"definition");case"bydef":var l=[];return e.of.forEach((e=>{l.includes(e)||l.push(e)})),getHtmlLine(e.ctr,t,exprToHtml(e.expr),`by definition of ${l.map((e=>exprToHtml(e))).join(", ")} [${exprToHtml(e.ref)}]`);default:throw Error(`Unknown type ${e._type}`)}})).join("")}(d,[]),h+="</table>",h}}t["default"]=ProofExplorer},1633:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556),n=(0,a.__importDefault)(r(6326)),i=(0,a.__importDefault)(r(3283));class StackTrace{constructor(e,t){Object.defineProperty(this,"fileUri",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.fileUri=e,this.stack=t||[]}extend(e){return new StackTrace(this.fileUri,[e].concat(this.stack))}error(e){var t=this.fileUri||"<unknown>",r="\n\tat ";return 0==this.stack.length?r+=`<root> (${t}:1:1)`:r+=this.stack.map((({type:e,name:r,location:a})=>`${e} ${r||"<anonymous>"} (${t}:${a.start.line}:${a.start.column})`)).join("\n\tat "),e instanceof i.default?new n.default(e.concatStrings(r)):new Error(e+r)}}t["default"]=StackTrace},1607:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class FunctionalAtomicDecoration{constructor({doc:e,precedence:t,tex:r,params:a}){Object.defineProperty(this,"doc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"precedence",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.doc=e,this.precedence=t,this.tex=r,this.params=a}}t["default"]=FunctionalAtomicDecoration},5362:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class FunctionalMacroDecoration{constructor({doc:e,precedence:t,tex:r,sealed:a}){Object.defineProperty(this,"doc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"precedence",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sealed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.doc=e,this.precedence=t,this.tex=r,this.sealed=a}}t["default"]=FunctionalMacroDecoration},1525:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556),n=(0,a.__importDefault)(r(4611)),i=(0,a.__importDefault)(r(5362));class SchemaDecoration extends i.default{constructor({doc:e,schemaType:t,context:r}){super({doc:e,precedence:n.default.ZERO,tex:null,sealed:!1}),Object.defineProperty(this,"schemaType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.schemaType=t,this.context=r}}t["default"]=SchemaDecoration},9444:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class SimpleAtomicDecoration{constructor({doc:e,tex:t}){Object.defineProperty(this,"doc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.doc=e,this.tex=t}}t["default"]=SimpleAtomicDecoration},6756:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class SimpleMacroDecoration{constructor({doc:e,tex:t,sealed:r}){Object.defineProperty(this,"doc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sealed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.doc=e,this.tex=t,this.sealed=r}}t["default"]=SimpleMacroDecoration},2503:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556),n=(0,a.__importDefault)(r(5938));class $Variable extends n.default{constructor({name:e,expr:t},r){if(super(t.type,r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"expr",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e||!t)throw n.default.error("Assertion failed",r);this.name=e,this.expr=t}toTeXStringInternal(e,t){return`\\mathtt{${i.default.escapeTeX(this.name)}}`}toString(){return"$"+this.name}}t["default"]=$Variable;const i=(0,a.__importDefault)(r(9809))},6659:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556),n=(0,a.__importDefault)(r(5938));class Conditional extends n.default{constructor({left:e,def$s:t,right:r},a){super(new l.ConditionalType({left:e.map((e=>e.type)),right:r.type},a),a),Object.defineProperty(this,"left",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"def$s",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"right",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.left=e,this.def$s=t,this.right=r}toString(){return`(${this.left.join(", ")} |- ${this.right})`}toTeXStringInternal(e,t){var r=s.default.expand(this),a=i.default.COMMA.shouldPutParentheses(e);return[a?"\\left(":"",`{${r.left.map((e=>e.toTeXString(i.default.COMMA))).join(", ")} \\vdash ${r.right.toTeXString(i.default.COMMA)}}`,a?"\\right)":""].join("")}}t["default"]=Conditional;const i=(0,a.__importDefault)(r(4611)),s=(0,a.__importDefault)(r(7938)),l=r(5919)},5938:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556);class Expr{constructor(e,t){if(Object.defineProperty(this,"_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e||!t)throw Expr.error("Assertion failed",t);this._id=n.default.next(),this.type=e,this.trace=t}toTeXString(e,t){return e=e||i.default.INFINITY,t="boolean"==typeof t&&t,this.toTeXStringInternal(e,t)}error(e){return Expr.error(e,this.trace)}static error(e,t){return t?t.error(e):e instanceof s.default?new l.default(e):new Error(e)}}t["default"]=Expr;const n=(0,a.__importDefault)(r(9167)),i=(0,a.__importDefault)(r(4611)),s=(0,a.__importDefault)(r(3283)),l=(0,a.__importDefault)(r(6326))},121:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556),n=(0,a.__importDefault)(r(5938));class Fun extends n.default{constructor({params:e,def$s:t,expr:r},a){if(!r)throw n.default.error("Missing expr",a);super(new l.FunctionalType({from:e.map((e=>e.type)),to:r.type},a),a),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"def$s",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"expr",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.params=e,this.def$s=t,this.expr=r}get length(){return this.params.length}call(e){if(this.params.length!=e.length)throw Error("Arguments length mismatch");for(var t=0;t<this.params.length;t++)if(!this.params[t].type.equals(e[t].type))throw Error("Illegal type");var r=new Map;for(t=0;t<this.params.length;t++)r.set(this.params[t],e[t]);return i.default.substitute(this.expr,r)}toString(){return`((${this.params.join(", ")}) => ${this.expr})`}toTeXStringInternal(e,t){var r=s.default.FUNEXPR.shouldPutParentheses(e);return[r?"\\left(":"",1==this.params.length?this.params[0].toTeXString(s.default.ZERO):`\\left(${this.params.map((e=>e.toTeXString(s.default.COMMA))).join(", ")}\\right)`,"\\mapsto ",i.default.expand(this.expr).toTeXString(s.default.ZERO),r?"\\right)":""].join("")}}t["default"]=Fun;const i=(0,a.__importDefault)(r(7938)),s=(0,a.__importDefault)(r(4611)),l=r(9282)},1178:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556),n=(0,a.__importDefault)(r(5938));class Funcall extends n.default{constructor({fun:e,args:t},r){if(!e.type.isFunctional()){var a=(0,l.isNameable)(e)?e.name:"<anonymous>";throw n.default.error(`${a} is not callable`,r)}if(!(t instanceof Array)||t.map((e=>e instanceof n.default)).some((e=>!e)))throw n.default.error("Assertion failed",r);var i=e.type.resolve(),s=i.from,o=t.map((e=>e.type));if(s.length!=o.length)throw n.default.error(`Invalid number of arguments (expected ${s.length}): ${o.length}`,r);for(var p=0;p<s.length;p++)if(!s[p].equals(o[p]))throw n.default.error(`Argument #${p+1} has illegal argument type (expected ${s[p]}): ${o[p]}`,r);super(i.to,r),Object.defineProperty(this,"fun",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.fun=e,this.args=t}isExpandableOnce(e){var t=this.fun;while(t instanceof i.default)t=t.expr;return!!(t instanceof o.default&&t.isExpandable(e))||(t instanceof Funcall?t.isExpandableOnce(e):t instanceof s.default)}expandOnce(e){if(!this.isExpandableOnce(e))throw Error("Cannot expand");var t=[],r=this.fun;while(r instanceof i.default)r=r.expr;if(r instanceof o.default&&r.expr)return t.push(r),{expanded:new Funcall({fun:r.expr,args:this.args},this.trace),used:t};if(r instanceof Funcall){var a=r.expandOnce(e);return t.push(...a.used),{expanded:new Funcall({fun:a.expanded,args:this.args},this.trace),used:t}}if(!(r instanceof s.default))throw Error("Something's wrong");return{expanded:r.call(this.args),used:t}}toString(){return`${this.fun}(${this.args.join(", ")})`}toTeXStringInternal(e,t){if(this.fun instanceof o.default)return this.fun.funcallToTeXString(this.args,e);var r=this.args.map((e=>e.toTeXString(p.default.COMMA)));return this.fun.toTeXString(p.default.ZERO)+`\\mathord{\\left(${r.join(", ")}\\right)}`}}t["default"]=Funcall;const i=(0,a.__importDefault)(r(2503)),s=(0,a.__importDefault)(r(121)),l=r(2756),o=(0,a.__importDefault)(r(4720)),p=(0,a.__importDefault)(r(4611))},2756:function(e,t){function isNameable(e){return"name"in e}Object.defineProperty(t,"__esModule",{value:!0}),t.isNameable=void 0,t.isNameable=isNameable},7824:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556),n=(0,a.__importDefault)(r(4720));class Parameter extends n.default{constructor({decoration:e,type:t,name:r,selector:a},n){super({decoration:e,type:t,name:r,expr:null},n),Object.defineProperty(this,"selector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.selector=a}toTeXStringWithId(e,t){return`\\htmlId{id-${this._id}}{${this.toTeXString(e,t)}}`}}t["default"]=Parameter},8905:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556),n=(0,a.__importDefault)(r(5938));class Reduction extends n.default{constructor({antecedents:e,subject:t,args:r,as:a},l,u){if(r){let e=t.type.resolve(),a=e.from,i=r.map((e=>e&&e.type));if(a.length!=i.length)throw n.default.error(`Invalid number of arguments (expected ${a.length}): ${i.length}`,u);for(var d=0;d<a.length;d++)if(i[d]&&!a[d].equals(i[d]))throw n.default.error(`Argument #${d+1} has illegal argument type (expected ${a[d]}): ${i[d]}`,u)}var h=t;while(h instanceof p.default){if(!h.expr)throw n.default.error("Subject reduces to an atomic variable",u);h=h.expr}if(h instanceof i.default){h.params.forEach(((e,t)=>{if((!r||!r[t])&&!e.selector)throw n.default.error(`Argument #${t+1} could not be guessed`,u)}));var $=h.params.map(((t,n)=>{if(r&&r[n])return r[n];var i=c.default.expand(h.expr);if(!(i instanceof o.default))throw Error("wut");return Reduction.guess(t.selector,i.left,e,i.right,a,l,u)}));t=new s.default({fun:t,args:$},u)}else if(r)throw n.default.error("Something's wrong",u);if(!(t.type instanceof g.ConditionalType))throw n.default.error("Subject is not reducible",u);if(!(e instanceof Array)||e.map((e=>e instanceof n.default)).some((e=>!e)))throw n.default.error("Assertion failed",u);var m=t.type.left,_=e.map((e=>e.type));if(m.length!=_.length)throw n.default.error(`Invalid number of arguments (expected ${m.length}): ${_.length}`,u);for(let i=0;i<m.length;i++)if(!m[i].equals(_[i]))throw n.default.error(`Illegal argument type (expected ${m[i]}): ${_[i]}`,u);super(t.type.right,u),Object.defineProperty(this,"antecedents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requiredAntecedents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subject",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"preFormatConsequent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"consequent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"antecedentEqualsResults",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rightEqualsResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.subject=t,this.antecedents=e;var x=c.default.expand(t);if(!(x instanceof o.default))throw n.default.error("Assertion failed",u);this.requiredAntecedents=x.left,this.antecedentEqualsResults=Array(x.left.length).fill(0).map((()=>[]));var b=e.map((e=>c.default.expand(e)));for(let i=0;i<x.left.length;i++){var y=c.default.equals(x.left[i],b[i],l);if(!y)throw n.default.error(f.default.getInstance`LHS #${i+1} failed to match:

--- EXPECTED ---
${c.default.expand(x.left[i])}
----------------

--- RECEIVED ---
${c.default.expand(e[i])}
----------------`,u);this.antecedentEqualsResults[i]=y}if(this.preFormatConsequent=x.right,a){y=c.default.equals(x.right,a,l);if(!y)throw n.default.error(f.default.getInstance`RHS failed to match:

--- EXPECTED ---
${c.default.expand(x.right)}
----------------

--- RECEIVED (from [as ...]) ---
${c.default.expand(a)}
----------------`,u);this.rightEqualsResult=y,this.consequent=a}else this.rightEqualsResult=null,this.consequent=x.right}static guess(e,t,r,a,u,f,g){if(0==e.length)throw n.default.error("wut",g);var h,$;if("r"==e[0]){if(!u)throw n.default.error(`Cannot dereference @${e} (at 0): expected output is not given`,g);h=a,$=u}else{var m=Number(e[0]);if(!(1<=m&&m<=r.length))throw n.default.error(`Cannot dereference @${e} (at 0): antecedent index out of range`,g);h=t[m-1],$=r[m-1]}return function recurse(t,r,a,u){if(a=c.default.expand(a),e.length<=t)return a;if(/^[0-9]$/.test(e[t])){var h=Number(e[t]);if(r instanceof o.default&&a instanceof o.default){if(r.left.length!=a.left.length)throw n.default.error(`Cannot dereference @${e} (at ${t}): antecedent length mismatch`,g);if(!(1<=h&&h<=a.left.length))throw n.default.error(`Cannot dereference @${e} (at ${t}): antecedent index out of range`,g);return recurse(t+1,r.left[h-1],a.left[h-1],u)}while(1){while(a instanceof p.default&&a.expr)a=a.expr;if(!(r instanceof s.default&&a instanceof s.default))throw n.default.error(`Cannot dereference @${e} (at ${t})`,g);if(c.default.equals(r.fun,a.fun,f))break;if(!a.isExpandableOnce(f))throw n.default.error(`Cannot dereference @${e} (at ${t}): ${a}`,g);a=a.expandOnce(f).expanded}if(!(1<=h&&h<=a.args.length))throw n.default.error(`Cannot dereference @${e} (at ${t})`,g);return recurse(t+1,r.args[h-1],a.args[h-1],u)}if("r"==e[t]){if(!(r instanceof o.default&&a instanceof o.default))throw n.default.error(`Cannot dereference @${e} (at ${t})`,g);return recurse(t+1,r.right,a.right,u)}if("c"==e[t]){if(!(r instanceof i.default&&a instanceof i.default))throw n.default.error(`Cannot dereference @${e} (at ${t})`,g);if(r.length!=a.length)throw n.default.error(`Cannot dereference @${e} (at ${t}): parameter length mismatch`,g);for(var $=[],m=0;m<r.length;m++){if(!r.params[m].type.equals(a.params[m].type))throw n.default.error(`Cannot dereference @${e} (at ${t}): parameter type mismatch`,g);$.push(new l.default({decoration:new d.default({doc:null,tex:a.params[m].decoration.tex}),type:r.params[m].type,name:a.params[m].name,selector:null},g))}return recurse(t+1,r.call($),a.call($),$.concat(u))}if("f"==e[t]){if(t!=e.length-1)throw n.default.error(`Cannot dereference @${e} (at ${t}): invalid selector`,g);return a instanceof s.default&&a.args.length==u.length&&a.args.every(((e,t)=>e==u[t]))?a.fun:new i.default({params:u,def$s:[],expr:a},g)}throw n.default.error(`Cannot dereference @${e} (at ${t}): invalid selector`,g)}(1,h,$,[])}toString(){return`[${this.antecedents.join(", ")}] > ${this.subject}`}toTeXStringInternal(e,t){return`${this.subject.toTeXString(u.default.ZERO)}[${this.antecedents.map((e=>e.toTeXString(u.default.COMMA))).join(", ")}]`}}t["default"]=Reduction;const i=(0,a.__importDefault)(r(121)),s=(0,a.__importDefault)(r(1178)),l=(0,a.__importDefault)(r(7824)),o=(0,a.__importDefault)(r(6659)),p=(0,a.__importDefault)(r(4720)),u=(0,a.__importDefault)(r(4611)),c=(0,a.__importDefault)(r(7938)),f=(0,a.__importDefault)(r(3283)),d=(0,a.__importDefault)(r(9444)),g=r(5919)},4720:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556),n=(0,a.__importDefault)(r(5938));class Variable extends n.default{constructor({decoration:e,type:t,name:r,expr:a},i){if(super(t,i),Object.defineProperty(this,"decoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"expr",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),"string"!=typeof r)throw n.default.error("Assertion failed",i);if(a&&!t.equals(a.type))throw n.default.error(`Expression type ${a.type} failed to match the type ${t} of variable ${r}`,i);if((e instanceof o.default||e instanceof u.default)&&a)throw n.default.error("Unnecessary macro expression",i);if((e instanceof p.default||e instanceof c.default)&&!a)throw n.default.error("Missing macro expression",i);if(e instanceof c.default&&!(a instanceof g.default))throw n.default.error("Assertion failed",i);if(this.decoration=e,this.name=r,this.expr=a,e instanceof f.default&&"theorem"==e.schemaType&&!d.default.isProved(this))throw n.default.error(`Schema ${r} is marked as a theorem but it is not proved`,i)}isExpandable(e){return!!this.expr&&(this.decoration instanceof p.default||this.decoration instanceof c.default)&&(!this.decoration.sealed||e.canUse(this))}toSimpleString(){return this.type.toString()+" "+this.name}toString(){return this.name}funcallToTeXString(e,t){var r=!1,a=this.decoration.tex&&(r=this.decoration instanceof u.default||this.decoration instanceof c.default)?this.decoration.precedence:s.default.COMMA,n=e.map((e=>e.toTeXString(a)));if(!r)return`${this.toTeXString(s.default.ZERO)}\\mathord{\\left(${n.join(", ")}\\right)}`;if(this.decoration instanceof f.default)return`\\href{#def-${this.name}}{\\htmlData{proved=${d.default.isProved(this)?"p":"np"}}{\\mathsf{${l.default.escapeTeX(this.name)}}}}\\mathord{\\left(${n.join(", ")}\\right)}`;if(this.decoration.tex){var i="def-"+this.name,o=this.decoration.tex;return a.shouldPutParentheses(t)&&(o="\\left("+o+"\\right)"),o.replace(/#([0-9]+)/g,((e,t)=>n[1*t-1]||`\\texttt{\\textcolor{red}{\\#${t}}}`)).replace(/<<(.+?)>>/,((e,t)=>`\\href{#${i}}{${t}}`))}return`\\href{#def-${this.name}}{${l.default.makeTeXName(this.name)}}\\mathord{\\left(${n.join(", ")}\\right)}`}toTeXStringInternal(e,t){if(this.decoration instanceof f.default){if(!this.expr||!(this.expr instanceof g.default))throw Error("wut");var r="def-"+this.name,a=d.default.isProved(this)?"p":"np";return t?`\\href{#${r}}{\\htmlData{proved=${a}}{\\mathsf{${l.default.escapeTeX(this.name)}}}}\\mathord{\\left(${this.expr.params.map((e=>e.toTeXStringWithId(s.default.COMMA)+(e.selector?`: \\texttt{@${e.selector}}`:""))).join(", ")}\\right)}:\\\\\\quad`+d.default.expand(this.expr.expr).toTeXString(s.default.INFINITY):`\\href{#${r}}{\\htmlData{proved=${a}}{\\mathsf{${l.default.escapeTeX(this.name)}}}}`}if(this.decoration instanceof u.default||this.decoration instanceof c.default){if(!t)return`\\href{#def-${this.name}}{${l.default.makeTeXName(this.name)}}`;if(this.decoration instanceof u.default)return this.funcallToTeXString(this.decoration.params,e);if(!(this.expr instanceof g.default))throw Error("wut");return this.funcallToTeXString(this.expr.params,s.default.COLONEQQ)+`\\coloneqq ${this.expr.expr.toTeXString(s.default.COLONEQQ)}`}r=this instanceof i.default?`id-${this._id}`:`def-${this.name}`;var n=this.decoration.tex||l.default.makeTeXName(this.name),o=t&&this.expr?`\\coloneqq ${this.expr.toTeXString(s.default.COLONEQQ)}`:"";return`\\href{#${r}}{${n}}${o}`}}t["default"]=Variable;const i=(0,a.__importDefault)(r(7824)),s=(0,a.__importDefault)(r(4611)),l=(0,a.__importDefault)(r(9809)),o=(0,a.__importDefault)(r(9444)),p=(0,a.__importDefault)(r(6756)),u=(0,a.__importDefault)(r(1607)),c=(0,a.__importDefault)(r(5362)),f=(0,a.__importDefault)(r(1525)),d=(0,a.__importDefault)(r(7938)),g=(0,a.__importDefault)(r(121))},8866:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556),n=(0,a.__importDefault)(r(5938));class With extends n.default{constructor({variable:e,def$s:t,expr:r},a){if(super(r.type,a),Object.defineProperty(this,"variable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"def$s",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"expr",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e.expr)throw n.default.error("Variable is atomic",a);this.variable=e,this.def$s=t,this.expr=r}toString(){return`with (${this.variable}) {${this.expr}}`}toTeXStringInternal(e,t){throw new Error("Method not implemented.")}}t["default"]=With},4667:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556),n=(0,a.__importDefault)(r(1633)),i=(0,a.__importDefault)(r(6075)),s=(0,a.__importDefault)(r(2946));class FileScope extends i.default{constructor(e){super(null,new n.default(e)),Object.defineProperty(this,"importMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"systemMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}hasSystem(e){return this.systemMap.has(e)||this.importMap.has(e)}addSystem(e){if(!(e instanceof s.default))throw this.error("Illegal argument type");if(this.hasSystem(e.name))throw this.error(`System ${e.name} has already been declared`);return this.systemMap.set(e.name,e),e}getSystem(e){if(!this.hasSystem(e))throw this.error(`System ${e} is not defined`);if(this.systemMap.has(e))return this.systemMap.get(e);if(this.importMap.has(e))return this.importMap.get(e);throw this.error("wut")}}t["default"]=FileScope},6075:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556),n=(0,a.__importDefault)(r(2503)),i=(0,a.__importDefault)(r(4720)),s=(0,a.__importDefault)(r(1633)),l=r(9282),o=r(1355);class Scope{constructor(e,t){if(Object.defineProperty(this,"typeMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"variableMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"$Map",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"hypotheses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.parent=e,!(t instanceof s.default))throw Error("Assertion failed");this.trace=t}extend(e,t,r){var a=new Scope(this,this.trace.extend({type:e,name:t,location:r}));return this.hypotheses.forEach((e=>a.hypotheses.push(e))),a}error(e){return this.trace.error(e)}hasOwnSimpleType(e){return this.typeMap.has(e)}hasOwnType(e){if("string"==typeof e)return this.hasOwnSimpleType(e);if(!(e instanceof Array))throw this.error("Argument is malformed");if(e.length<2)throw this.error("Illegal array length");return e.every((e=>this.hasOwnType(e)))}hasType(e){if("string"==typeof e)return this.hasOwnType(e)||!!this.parent&&this.parent.hasType(e);if(!(e instanceof Array))throw this.error("Argument is malformed");if(e.length<2)throw this.error("Illegal array length");return e.every((e=>this.hasType(e)))}addType(e){if(!(e instanceof o.SimpleType))throw this.error("Illegal argument type");if(!e.name)throw this.error("Something's wrong");if(this.hasOwnType(e.name))throw this.error(`Type ${e.name} has already been declared`);return this.typeMap.set(e.name,e),e}getSimpleType(e){var t;if(!this.hasType(e))throw this.error(`Type ${e} is not defined`);if(this.typeMap.has(e))return this.typeMap.get(e);if(null===(t=this.parent)||void 0===t?void 0:t.hasType(e))return this.parent.getSimpleType(e);throw this.error("wut")}getType(e){if("string"==typeof e)return this.getSimpleType(e);if(!(e instanceof Array))throw this.error("Argument is malformed");if(e.length<2)throw this.error("Illegal array length");var t=e.slice(0,e.length-1).map((e=>this.getType(e))),r=this.getType(e[e.length-1]);return new l.FunctionalType({from:t,to:r},this.trace)}hasOwnVariable(e){return this.variableMap.has(e)}hasVariable(e){return this.hasOwnVariable(e)||!!this.parent&&this.parent.hasVariable(e)}addVariable(e){if(!(e instanceof i.default))throw this.error("Illegal argument type");if(this.hasOwnVariable(e.name))throw this.error(`Definition ${e.name} has already been declared`);return this.variableMap.set(e.name,e),e}getVariable(e){var t;if(!this.hasVariable(e))throw this.error(`Definition ${e} is not defined`);if(this.variableMap.has(e))return this.variableMap.get(e);if(null===(t=this.parent)||void 0===t?void 0:t.hasVariable(e))return this.parent.getVariable(e);throw this.error("wut")}hasOwn$(e){return this.$Map.has(e)}has$(e){return this.hasOwn$(e)||!!this.parent&&this.parent.has$(e)}add$(e){if(!(e instanceof n.default))throw this.error("Illegal argument type");if(this.hasOwn$(e.name))throw this.error(`$ variable ${e.name} has already been declared`);return this.$Map.set(e.name,e),e}get$(e){var t;if(!this.has$(e))throw this.error(`$ variable ${e} is not defined`);if(this.$Map.has(e))return this.$Map.get(e);if(null===(t=this.parent)||void 0===t?void 0:t.has$(e))return this.parent.get$(e);throw this.error("wut")}}t["default"]=Scope},2946:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556),n=(0,a.__importDefault)(r(6075));class SystemScope extends n.default{constructor(e,t,r){super(e,r),Object.defineProperty(this,"extendsMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t,this.parent=e}hasOwnSimpleType(e){return super.hasOwnSimpleType(e)||[...this.extendsMap.values()].some((t=>t.hasOwnSimpleType(e)))}getSimpleType(e){var t;if(!this.hasType(e))throw this.error(`Type ${e} is not defined`);if(this.typeMap.has(e))return this.typeMap.get(e);if(null===(t=this.parent)||void 0===t?void 0:t.hasType(e))return this.parent.getSimpleType(e);for(var r of this.extendsMap.values())if(r.hasType(e))return r.getSimpleType(e);throw this.error("wut")}hasOwnVariable(e){return super.hasOwnVariable(e)||[...this.extendsMap.values()].some((t=>t.hasOwnVariable(e)))}getVariable(e){var t;if(!this.hasVariable(e))throw this.error(`Definition ${e} is not defined`);if(this.variableMap.has(e))return this.variableMap.get(e);if(null===(t=this.parent)||void 0===t?void 0:t.hasVariable(e))return this.parent.getVariable(e);for(var r of this.extendsMap.values())if(r.hasVariable(e))return r.getVariable(e);throw this.error("wut")}hasOwn$(e){return super.hasOwn$(e)||[...this.extendsMap.values()].some((t=>t.hasOwn$(e)))}get$(e){var t;if(!this.has$(e))throw this.error(`$ variable ${e} is not defined`);if(this.$Map.has(e))return this.$Map.get(e);if(null===(t=this.parent)||void 0===t?void 0:t.has$(e))return this.parent.get$(e);for(var r of this.extendsMap.values())if(r.has$(e))return r.get$(e);throw this.error("wut")}}t["default"]=SystemScope},5919:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionalType=void 0;const a=r(5556),n=(0,a.__importDefault)(r(7885));class ConditionalType extends n.default{constructor({left:e,right:t},r){if(super(null,r),Object.defineProperty(this,"left",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"right",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e||!t)throw Error("duh");this.left=e,this.right=t}toIndentedString(e){return`[${this.left.join(", ")} |- ${this.right}]`}toTeXString(e){throw new Error("Method not implemented.")}resolve(){return this}resolveToFunctionalType(){throw new Error(`Type ${this} is not functional`)}isFunctional(){return!1}}t.ConditionalType=ConditionalType},9282:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionalType=void 0;const a=r(5556),n=(0,a.__importDefault)(r(7885));class FunctionalType extends n.default{constructor({from:e,to:t},r){super(null,r),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.from=e,this.to=t}resolve(){return new FunctionalType({from:this.from.map((e=>e.resolve())),to:this.to.resolve()},this.trace)}resolveToFunctionalType(){return this}toIndentedString(e){return`[${this.from.join(", ")} -> ${this.to}]`}toTeXString(e){return`\\left[${this.from.map((e=>e.toTeXString())).join("\\times ")} \\to ${this.to.toTeXString()}\\right]`}isFunctional(){return!0}}t.FunctionalType=FunctionalType},1355:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleType=void 0;const a=r(5556),n=(0,a.__importDefault)(r(7885));class SimpleType extends n.default{constructor({doc:e,name:t,expr:r},a){if(super(e,a),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"expr",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!t)throw Error("duh");this.name=t,this.expr=r}resolve(){return this.expr?this.expr.resolve():this}resolveToFunctionalType(){if(!this.expr)throw new Error(`Type ${this} is not functional`);return this.expr.resolveToFunctionalType()}toIndentedString(e){return this.name}toTeXString(e){var t=`\\href{#type-${this.name}}{\\mathsf{${this.name}}}`;return e&&this.expr?t+`\\coloneqq${this.expr.toTeXString()}`:t}isFunctional(){return!!this.expr&&this.expr.isFunctional()}}t.SimpleType=SimpleType},7885:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(5556);class Type{constructor(e,t){Object.defineProperty(this,"_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"doc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._id=n.default.next(),this.doc=e,this.trace=t}toString(){return this.toIndentedString(0)}equals(e){if(this===e)return!0;if(!(e instanceof Type))return!1;if(this instanceof i.ConditionalType!=e instanceof i.ConditionalType)return!1;if(this instanceof i.ConditionalType&&e instanceof i.ConditionalType){if(this.left.length!=e.left.length)return!1;for(var t=0;t<this.left.length;t++)if(!this.left[t].equals(e.left[t]))return!1;return this.right.equals(e.right)}if(this instanceof l.SimpleType&&this.expr)return this.expr.equals(e);if(e instanceof l.SimpleType&&e.expr)return this.equals(e.expr);if(this instanceof l.SimpleType||e instanceof l.SimpleType)return!1;if(this instanceof s.FunctionalType&&e instanceof s.FunctionalType){if(this.from.length!=e.from.length)return!1;for(t=0;t<this.from.length;t++)if(!this.from[t].equals(e.from[t]))return!1;return this.to.equals(e.to)}throw Error("Unknown type format")}}t["default"]=Type;const n=(0,a.__importDefault)(r(9167)),i=r(5919),s=r(9282),l=r(1355)},3159:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class Counter{constructor(e=0){Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.n=e-1}peek(){return this.n}next(){return++this.n}}t["default"]=Counter},6326:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class InterpolativeError extends Error{constructor(e){super(e.toString()),Object.defineProperty(this,"interpolativeMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.interpolativeMessage=e}}t["default"]=InterpolativeError},3283:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class InterpolativeString extends String{constructor(e,t){super(InterpolativeString.toString(e,t)),Object.defineProperty(this,"strings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.strings=e,this.values=t}static toString(e,t){if(0==e.length)return"";for(var r=e[0],a=1;a<e.length;a++)r+=t[a-1]+e[a];return r}static getInstance(e,...t){return new InterpolativeString(e,t)}concatStrings(...e){var t=this.strings.slice();return t[t.length-1]+=e.join(""),InterpolativeString.getInstance(t,...this.values)}}t["default"]=InterpolativeString},9809:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class TeXUtils{static escapeTeX(e){return e.replace(/&|%|\$|#|_|{|}|~|\^|\\/g,(e=>({"&":"\\&","%":"\\%",$:"\\$","#":"\\#",_:"\\_","{":"\\{","}":"\\}","~":"\\textasciitilde","^":"\\textasciicircum","\\":"\\textbackslash"}[e])))}static makeTeXName(e){var t=["alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega"],r=new RegExp(`^(?:([a-z])|(${t.join("|")}))([0-9]*)$`,"i"),a=e.match(r);if(a){var n=(()=>{if(a[1])return a[1];var e=a[2].charCodeAt(0)<="Z".charCodeAt(0),t=a[2].toLowerCase();return e&&(t=t[0].toUpperCase()+t.substring(1)),"\\"+t})(),i=(()=>a[3]?1==a[3].length?"_"+a[3]:`_{${a[3]}}`:"")();return n+i}return 1==e.length?TeXUtils.escapeTeX(e):`\\mathrm{${TeXUtils.escapeTeX(e)}}`}}t["default"]=TeXUtils},9167:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=0;t["default"]={peek(){return r},next(){return++r}}},9036:function(e,t,r){Object.defineProperty(t,"X",{value:!0});const a=r(655),n=r(1564),i=(0,a.__importDefault)(r(8927)),s=(0,a.__importDefault)(r(1541)),l=(0,a.__importDefault)(r(4046)),o=(0,a.__importDefault)(r(6175));t.Z=(0,n.defineComponent)({name:"App",components:{Nav:i.default,Console:s.default,Popper:l.default},data(){return{isFileScheme:"file:"==location.protocol}},methods:{onReloadClick(){o.default.reload(o.default.fqn)},onConsoleClick(){this.$refs.console.toggleConsole()}},mounted(){(()=>{(0,a.__awaiter)(this,void 0,void 0,(function*(){var e=yield fetch("systempath.json");if(!e.ok)throw Error(e.statusText);o.default.systempath=yield e.json();var t="<ul>"+o.default.systempath.fqns.map((e=>`<li><a href="javascript:Globals.reload('${e}')"><b>system</b> ${e}</a></li>`)).join("")+"</ul>";document.querySelector("#list").innerHTML=t}))})()}}),o.default.hotkeys("r",((e,t)=>{e.preventDefault(),o.default.reload(o.default.fqn)}))},7679:function(e,t,r){Object.defineProperty(t,"X",{value:!0});const a=r(655),n=(0,a.__importDefault)(r(1096)),i=(0,a.__importDefault)(r(6326)),s=r(1564),l=(0,a.__importDefault)(r(6175));var escapeHtml=e=>(e+"").replace(/[&<>"']/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e]))),o=null,p=null;t.Z=(0,s.defineComponent)({name:"Console",methods:{hint(){if(!l.default.program)return;const e=p.getCursor();var t=p.getRange({line:0,ch:0},e),r=t.match(/\$?[a-z0-9_]*$/i);if(r){var a=r[0],i=t.substring(0,t.length-a.length);return{list:(0,n.default)(a,i,l.default.searchDatabase).map((({name:e,match:t})=>({text:e,render(r,a,n){var i=document.createElement("span");i.innerHTML=e.split("").map(((e,r)=>t.includes(r)?`<b>${e}</b>`:e)).join(""),r.appendChild(i)}}))),from:p.posFromIndex(p.indexFromPos(e)-a.length),to:e}}},htmlify(e,t){var{input:r,noescape:a,error:n}=t||{},escapeOrNot=e=>a?e:escapeHtml(e),s="";if(e instanceof i.default){var{strings:o,values:p}=e.interpolativeMessage;s+=escapeOrNot(o[0]);for(var u=1;u<o.length;u++)p[u-1].toTeXString?s+=l.default.ktx(p[u-1].toTeXString()):s+=escapeOrNot(p[u-1]),s+=escapeOrNot(o[u])}else s=escapeOrNot(e+"");var c=document.createElement("tr");return c.innerHTML=`<td>${r?"&gt;":"&lt;"}</td><td>${s}</td>`,n&&c.classList.add("error"),c},write(e,t){var r=this.htmlify(e,t);document.querySelector("#console-display-preview")?document.querySelector("#console-display").insertBefore(r,document.querySelector("#console-display-preview")):document.querySelector("#console-display").appendChild(r),document.querySelector("#console-display-wrap").scrollTop=document.querySelector("#console-display-wrap").scrollHeight,o&&clearTimeout(o),this.removePreview()},preview(e,t){var r=this.htmlify(e,t);this.removePreview(),r.id="console-display-preview",document.querySelector("#console-display").appendChild(r)},showPreview(){if(!l.default.program)return this.preview("Error: program is not defined",{error:!0});var e=p.getValue();if(e.trim())try{this.preview(l.default.ktx(l.default.program.evaluate(e).toTeXString(void 0,!0)),{noescape:!0})}catch(t){this.preview(t,{error:!0})}else this.removePreview()},removePreview(){document.querySelector("#console-display-preview")&&document.querySelector("#console-display").removeChild(document.querySelector("#console-display-preview"))},toggleConsole(){var e="none"==document.querySelector(".console-wrap-wrap").style.display;document.querySelector(".console-wrap-wrap").style.display=e?"flex":"none",e&&(p.focus(),p.refresh())}},mounted(){p=l.default.CodeMirror((e=>{e.id="console-input",document.querySelector(".console-wrap").appendChild(e)}),{placeholder:"Shift + Enter to submit",lineNumbers:!0,lineWrapping:!0,indentUnit:4,tabSize:4,indentWithTabs:!0,inputStyle:"textarea",viewportMargin:1/0,keyMap:"sublime"}),p.on("inputRead",((e,t)=>{l.default.CodeMirror.showHint(p,this.hint,{completeSingle:!1,extraKeys:{"Shift-Tab":(e,t)=>{t.moveFocus(-1)},Tab(e,t){t.moveFocus(1)}}})})),document.querySelector("#console-input").addEventListener("keydown",(e=>{var t=e,r=p.getValue();if(o&&clearTimeout(o),r.trim()?o=setTimeout((()=>{this.showPreview(),o=null}),1e3):this.removePreview(),"Enter"==t.key&&t.shiftKey){if(t.preventDefault(),!r.trim())return;if(this.write(r.trim(),{input:!0}),!l.default.program)return this.write("Error: program is not defined",{error:!0});try{this.write(l.default.ktx(l.default.program.evaluate(r).toTeXString(void 0,!0)),{noescape:!0})}catch(e){console.error(e),this.write(e,{error:!0})}finally{t.ctrlKey||p.setValue("")}}else t.ctrlKey&&"l"==t.key&&(t.preventDefault(),document.querySelector("#console-display").innerHTML="",this.write("Console was cleared")),"F7"==t.key&&(t.preventDefault(),this.toggleConsole())})),l.default.hotkeys("c,f7",((e,t)=>{e.preventDefault(),this.toggleConsole()}))}})},9419:function(e,t,r){Object.defineProperty(t,"X",{value:!0});const a=r(655),n=r(1564),i=(0,a.__importDefault)(r(1096)),s=(0,a.__importDefault)(r(6175));t.Z=(0,n.defineComponent)({name:"Nav",methods:{onReloadClick(){this.$emit("reload")},onConsoleClick(){this.$emit("console")}},mounted(){var e=document.querySelector("#search-input"),t=document.querySelector("#search-dropdown");function show(){t.style.display="block",e.select()}function dismiss(){t.style.display="none",e.blur()}function destroy(){dismiss(),e.value="",r=!1,a=[],t.querySelector("ul").innerHTML=""}s.default.hotkeys("s",((t,r)=>{t.preventDefault(),e.focus()}));var r=!1,a=[];e.addEventListener("focus",(e=>{show()})),document.addEventListener("click",(t=>{t.target==e||t.target.closest("#search-dropdown")||dismiss()})),e.addEventListener("input",(n=>{var l=e.value,o=t.querySelector("ul"),p="";a=[],(0,i.default)(l,"",s.default.searchDatabase).forEach((({name:e,match:t},n)=>{0==n&&(r=0),p+=`<li${0==n?' class="selected"':""}><a href="#def-${e}">`+e.split("").map(((e,r)=>t.includes(r)?`<b>${e}</b>`:e)).join("")+"</a></li>",a.push(e)})),o.innerHTML=p,[].forEach.call(o.querySelectorAll("a"),(e=>{e.addEventListener("click",(e=>{destroy()}))}))})),e.addEventListener("keydown",(e=>{if("Enter"==e.key){if(e.preventDefault(),!1===r||!a[r])return;location.href="#def-"+a[r],destroy()}if("Escape"==e.key&&(e.preventDefault(),dismiss()),["ArrowDown","ArrowUp","Tab"].includes(e.key)){var n="Tab"==e.key?e.shiftKey?-1:1:"ArrowUp"==e.key?-1:1;e.preventDefault();var i=a.length;if(i<=0||!1===r)return void(r=!1);r=(r+n+i)%i,[].map.call(t.querySelectorAll("li"),((e,t)=>{e.classList[t==r?"add":"remove"]("selected")}))}}))}})},646:function(e,t,r){Object.defineProperty(t,"X",{value:!0});const a=r(655),n=(0,a.__importDefault)(r(180)),i=(0,a.__importDefault)(r(1525)),s=r(1564),l=(0,a.__importDefault)(r(6175));document.addEventListener("click",(e=>{var t=e.target;while("popper-tooltip-holder"!=t.id)if(t=t.parentElement,!t)return void(document.querySelector("#popper-tooltip-holder").innerHTML="")})),document.addEventListener("click",(e=>{var t=e.target;while(!(t instanceof HTMLAnchorElement))if(t=t.parentElement,!t)return;var r=t.getAttribute("href").match(/^#id-[0-9]+$/);if(r){let e=document.querySelector(r[0]);if(e){if(e.classList.contains("flicker"))return;e.classList.add("flicker");let listener=t=>{e.removeEventListener("animationend",listener),e.classList.remove("flicker")};e.addEventListener("animationend",listener)}}if(r=t.getAttribute("href").match(/^#def-(.+)$/),r){var a=r[1];if(t.closest(".label"))return;if(!t.closest("#all"))return;e.preventDefault();var s=new n.default(l.default.program,l.default.ktx,l.default.yamd);if(l.default.program.scope.hasVariable(a)){var o,p=l.default.program.scope.getVariable(a);o=p.decoration instanceof i.default?s.schema(a,p,l.default.expansionList.includes(a),!0):s.def(a,p),document.querySelector("#popper-tooltip-holder").innerHTML=o,l.default.Popper.createPopper(t,document.querySelector("#popper-tooltip-holder *"))}}})),t.Z=(0,s.defineComponent)({})},1148:function(e,t,r){t.s=void 0;const a=r(1564),n=(0,a.createStaticVNode)('<h1 id="top">math-o-matic</h1><p><a href="https://github.com/math-o-matic/math-o-matic" style="text-decoration:none;"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOGMwIDMuNTQgMi4yOSA2LjUzIDUuNDcgNy41OS40LjA3LjU1LS4xNy41NS0uMzggMC0uMTktLjAxLS44Mi0uMDEtMS40OS0yLjAxLjM3LTIuNTMtLjQ5LTIuNjktLjk0LS4wOS0uMjMtLjQ4LS45NC0uODItMS4xMy0uMjgtLjE1LS42OC0uNTItLjAxLS41My42My0uMDEgMS4wOC41OCAxLjIzLjgyLjcyIDEuMjEgMS44Ny44NyAyLjMzLjY2LjA3LS41Mi4yOC0uODcuNTEtMS4wNy0xLjc4LS4yLTMuNjQtLjg5LTMuNjQtMy45NSAwLS44Ny4zMS0xLjU5LjgyLTIuMTUtLjA4LS4yLS4zNi0xLjAyLjA4LTIuMTIgMCAwIC42Ny0uMjEgMi4yLjgyLjY0LS4xOCAxLjMyLS4yNyAyLS4yNy42OCAwIDEuMzYuMDkgMiAuMjcgMS41My0xLjA0IDIuMi0uODIgMi4yLS44Mi40NCAxLjEuMTYgMS45Mi4wOCAyLjEyLjUxLjU2LjgyIDEuMjcuODIgMi4xNSAwIDMuMDctMS44NyAzLjc1LTMuNjUgMy45NS4yOS4yNS41NC43My41NCAxLjQ4IDAgMS4wNy0uMDEgMS45My0uMDEgMi4yIDAgLjIxLjE1LjQ2LjU1LjM4QTguMDEzIDguMDEzIDAgMDAxNiA4YzAtNC40Mi0zLjU4LTgtOC04eiI+PC9wYXRoPjwvc3ZnPg==" style="vertical-align:middle;margin-right:.5em;">GitHub repository</a>  <a href="https://math-o-matic.github.io/math-o-matic/docs/index.html" style="text-decoration:none;"><img style="vertical-align:middle;margin-right:.5em;" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSIjNjY2Ij48cGF0aCBkPSJNMTQgMkg2Yy0xLjEgMC0xLjk5LjktMS45OSAyTDQgMjBjMCAxLjEuODkgMiAxLjk5IDJIMThjMS4xIDAgMi0uOSAyLTJWOGwtNi02em0yIDE2SDh2LTJoOHYyem0wLTRIOHYtMmg4djJ6bS0zLTVWMy41TDE4LjUgOUgxM3oiLz48L3N2Zz4=">documentation</a></p>',2),i={key:0},s=(0,a.createStaticVNode)('<b>Note.</b> This page seems to have been loaded using <code>file://</code> scheme, and the page might not work due to the CORS policy. The following is a list of possible solutions: <ul><li><b>Create a local server</b>: You can easily create a static server using the <a href="https://www.npmjs.com/package/http-server">http-server</a> package from npm. At the project root run <pre><code>npx http-server -c-1</code></pre> and go to the web address displayed on the terminal.</li><li><b>Set <code>--allow-file-access-from-files</code> flag in Chrome</b>: If you are using Chrome, you can enable file access by setting the <code>--allow-file-access-from-files</code> flag. <a href="https://stackoverflow.com/a/18137280">StackOverflow</a></li></ul>',5),l=[s],o=(0,a.createElementVNode)("p",{style:{"margin-top":"1em"}},[(0,a.createTextVNode)("This page shows the current math-o-matic proof system located at "),(0,a.createElementVNode)("code",null,"/math"),(0,a.createTextVNode)(". Click on one of the links at the bottom of this page to load the proof system. Depending on the performance of your device this may take a lot of time.")],-1),p=(0,a.createElementVNode)("h2",null,"Definitions",-1),u=(0,a.createElementVNode)("div",{id:"list"},"Loading the systempath ...",-1),c=(0,a.createStaticVNode)('<div style="padding:1em;margin:1em 0;border:1px #ccc solid;border-radius:1em;"><div><input id="radio-load-selected-file-only" name="radio-load-what" type="radio" checked value="selected-file-only"><label for="radio-load-selected-file-only">Show only the selected file</label><input id="radio-load-selected-file-and-dependencies" name="radio-load-what" type="radio" value="selected-file-and-dependencies"><label for="radio-load-selected-file-and-dependencies">Also show imported files</label></div><p style="margin-top:1em;">Not showing the imported files may break some features.</p></div><div id="summary"></div><div id="all"></div>',3);function render(e,t,r,s,f,d){const g=(0,a.resolveComponent)("Nav"),h=(0,a.resolveComponent)("Console"),$=(0,a.resolveComponent)("Popper");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(g,{onReload:e.onReloadClick,onConsole:e.onConsoleClick},null,8,["onReload","onConsole"]),n,e.isFileScheme?((0,a.openBlock)(),(0,a.createElementBlock)("blockquote",i,l)):(0,a.createCommentVNode)("",!0),o,p,u,(0,a.createVNode)(h,{ref:"console"},null,512),c,(0,a.createVNode)($)],64)}t.s=render},3028:function(e,t,r){t.s=void 0;const a=r(1564),n={class:"console-wrap-wrap",style:{display:"none"}},i=(0,a.createElementVNode)("div",{class:"console-wrap"},[(0,a.createElementVNode)("div",{id:"console-display-wrap"},[(0,a.createElementVNode)("table",{id:"console-display",style:{margin:"0"}})])],-1),s=[i];function render(e,t,r,i,l,o){return(0,a.openBlock)(),(0,a.createElementBlock)("div",n,s)}t.s=render},1033:function(e,t,r){t.s=void 0;const a=r(655),n=r(1564),i=(0,a.__importDefault)(r(2569)),s=(0,n.createElementVNode)("a",{href:"#top",style:{color:"#222","font-size":"2em","text-decoration":"none",display:"flex"}},[(0,n.createElementVNode)("img",{src:i.default,height:"26"})],-1),l=(0,n.createElementVNode)("p",{id:"currently-loaded-thing",class:"label"},[(0,n.createElementVNode)("b")],-1),o={id:"whatever",style:{display:"flex"}},p=(0,n.createElementVNode)("input",{id:"search-input",type:"text",placeholder:"Search (S)",class:"mono",autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},null,-1),u=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#222",width:"24px",height:"24px"},[(0,n.createElementVNode)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,n.createElementVNode)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1),c=[u],f=(0,n.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#222",width:"24px",height:"24px"},[(0,n.createElementVNode)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,n.createElementVNode)("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"})],-1),d=[f],g=(0,n.createElementVNode)("div",{id:"search-dropdown",class:"mono",style:{display:"none"}},[(0,n.createElementVNode)("ul")],-1);function render(e,t,r,a,i,u){return(0,n.openBlock)(),(0,n.createElementBlock)("nav",null,[s,l,(0,n.createElementVNode)("div",o,[p,(0,n.createElementVNode)("button",{id:"reload",title:"reload (R)",style:{display:"flex"},onClick:t[0]||(t[0]=(...t)=>e.onReloadClick&&e.onReloadClick(...t))},c),(0,n.createElementVNode)("button",{id:"button-show-console",title:"console (C/F7)",style:{display:"flex"},onClick:t[1]||(t[1]=(...t)=>e.onConsoleClick&&e.onConsoleClick(...t))},d),g])])}t.s=render},7113:function(e,t,r){t.s=void 0;const a=r(1564),n={id:"popper-tooltip-holder"};function render(e,t,r,i,s,l){return(0,a.openBlock)(),(0,a.createElementBlock)("div",n)}t.s=render},6175:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});const a=r(655),n=(0,a.__importDefault)(r(3833)),i=(0,a.__importDefault)(r(180));window.CodeMirror.keyMap.sublime["Shift-Ctrl-Enter"]=null,window.CodeMirror.keyMap.sublime["Ctrl-L"]=null,window.yamd.set({tags:{"#":new window.yamd.renderer.Tag({name:"#",display:"inline",renderer:(e,t)=>{if(!e.innerIsText)return e.error("Non-text input");var r="";try{r=l.ktx(l.program.evaluate(e.innerText).toTeXString())}catch(a){return e.error(a.message)}return e.html(r)}})},katex:window.katex});const s=(()=>{var e={trust:e=>"\\href"==e.command&&"_relative"==e.protocol||!!["\\htmlId","\\htmlData"].includes(e.command),strict:(e,t,r)=>"htmlExtension"==e?"ignore":"warn"};return t=>{var r="";try{r=window.katex.renderToString(t,e)}catch(a){throw console.error(`Error parsing ${t}`),Error(a)}return r}})();var l={program:null,reloading:!1,fqn:null,systempath:null,currentlyLoadedThing:{_thing:null,set(e){this._thing=e,document.querySelector("#currently-loaded-thing b").innerText=e},get(){return this._thing}},searchDatabase:[],updateSearchDatabase(){var e=[this.fqn],t=[];function addThisScope(e){t=t.concat([...e.variableMap.keys()])}function addImportedScopes(t){for(var[r,a]of t.extendsMap)e.includes(r)||(e.push(r),addImportedScopes(a),addThisScope(a))}addImportedScopes(this.program.scope),addThisScope(this.program.scope),this.searchDatabase=t},expansionList:[],getFileLoadPreference(){return document.querySelector('input[name="radio-load-what"]:checked').value},onShowButtonClick(e){var t=e.getAttribute("data-name");e.parentElement.innerHTML=l.program.getProofExplorer(t,l.ktx,l.yamd),l.expansionList.push(t)},reload:function reload(e){return(0,a.__awaiter)(this,void 0,void 0,(function*(){if(e&&!l.reloading){l.reloading=!0,l.fqn=e,document.querySelector("#reload").disabled=!0,document.querySelector("#reload svg").classList.add("rotate");try{var t,r;console.log("--- PROGRAM START ---"),t=new Date,l.program=new n.default,yield l.program.loadSystem(e,(e=>(0,a.__awaiter)(this,void 0,void 0,(function*(){for(var t of l.systempath.paths)try{var r=t+e.replace(/\./g,"/")+".math",a=yield fetch(r);if(!a.ok)continue;var n=yield a.text();return{fileUri:r,code:n}}catch(i){continue}throw Error(`System ${e} was not found from paths ${l.systempath.paths.join(":")}`)})))),l.updateSearchDatabase(),r=new Date,console.log(l.program),console.log("--- PROGRAM END ---"),console.log(`Program took ${r.getTime()-t.getTime()} ms`),console.log("--- HTML GENERATION START ---"),t=new Date;var s=new i.default(l.program,l.ktx,l.yamd),o=s.generate(l.fqn,l.expansionList,"selected-file-and-dependencies"==l.getFileLoadPreference());for(var p in r=new Date,console.log("--- HTML GENERATION END ---"),console.log(`HTML generation took ${r.getTime()-t.getTime()} ms`),console.log("--- HTML RENDER START ---"),t=new Date,o)document.querySelector(p).innerHTML=o[p];r=new Date,console.log("--- HTML RENDER END ---"),console.log(`HTML render took ${r.getTime()-t.getTime()} ms`),l.currentlyLoadedThing.set(e)}finally{document.querySelector("#reload").disabled=!1,document.querySelector("#reload svg").classList.remove("rotate"),l.reloading=!1}}}))},yamd:window.yamd,ktx:s,Popper:window.Popper,CodeMirror:window.CodeMirror,hotkeys:window.hotkeys};window.Globals=l,t["default"]=l},1096:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=10;function getSearchResults(e,t,a){return e=e.toLowerCase().trim(),e&&"$"!=e?(e.startsWith("$")?[...new Set(t.match(/\$?[a-z0-9_]*/gi))]:a).map((t=>{for(var r=t.toLowerCase(),a=0,n=[],i=0;i<e.length;i++){if(a>=t.length)return!1;while(r[a]!=e[i])if(a++,a>=t.length)return!1;n.push(a),a++}return{name:t,match:n}})).filter((e=>e)).sort(((e,t)=>{for(var r=0;r<e.match.length;r++)if(e.match[r]!=t.match[r])return e.match[r]-t.match[r];return e.name.localeCompare(t.name)})).slice(0,r):[]}t["default"]=getSearchResults},6016:function(e,t,r){const a=r(655),n=r(1564),i=(0,a.__importDefault)(r(2553));(0,n.createApp)(i.default).mount("#app")},2553:function(e,t,r){r.r(t),r.d(t,{__esModule:function(){return n.X},default:function(){return l}});var a=r(1148),n=r(9036),i=r(3744);const s=(0,i.Z)(n.Z,[["render",a.s]]);var l=s},1541:function(e,t,r){r.r(t),r.d(t,{__esModule:function(){return n.X},default:function(){return l}});var a=r(3028),n=r(7679),i=r(3744);const s=(0,i.Z)(n.Z,[["render",a.s]]);var l=s},8927:function(e,t,r){r.r(t),r.d(t,{__esModule:function(){return n.X},default:function(){return l}});var a=r(1033),n=r(9419),i=r(3744);const s=(0,i.Z)(n.Z,[["render",a.s]]);var l=s},4046:function(e,t,r){r.r(t),r.d(t,{__esModule:function(){return n.X},default:function(){return l}});var a=r(7113),n=r(646),i=r(3744);const s=(0,i.Z)(n.Z,[["render",a.s]]);var l=s},2569:function(e,t,r){e.exports=r.p+"img/logomark.35a36fcc.svg"}},t={};function __webpack_require__(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=e,function(){var e=[];__webpack_require__.O=function(t,r,a,n){if(!r){var i=1/0;for(p=0;p<e.length;p++){r=e[p][0],a=e[p][1],n=e[p][2];for(var s=!0,l=0;l<r.length;l++)(!1&n||i>=n)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](r[l])}))?r.splice(l--,1):(s=!1,n<i&&(i=n));if(s){e.splice(p--,1);var o=a();void 0!==o&&(t=o)}}return t}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[r,a,n]}}(),function(){__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.p=""}(),function(){var e={143:0};__webpack_require__.O.j=function(t){return 0===e[t]};var webpackJsonpCallback=function(t,r){var a,n,i=r[0],s=r[1],l=r[2],o=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)__webpack_require__.o(s,a)&&(__webpack_require__.m[a]=s[a]);if(l)var p=l(__webpack_require__)}for(t&&t(r);o<i.length;o++)n=i[o],__webpack_require__.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return __webpack_require__.O(p)},t=self["webpackChunkvue"]=self["webpackChunkvue"]||[];t.forEach(webpackJsonpCallback.bind(null,0)),t.push=webpackJsonpCallback.bind(null,t.push.bind(t))}();var r=__webpack_require__.O(void 0,[998],(function(){return __webpack_require__(6016)}));r=__webpack_require__.O(r)})();
//# sourceMappingURL=app.63848243.js.map