<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>코드를 작성하는 법</title>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Mono">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlightjs@9.16.2/styles/default.min.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
		<style>
			* {
				box-sizing: border-box;
			}

			html, body {
				margin: 0;
				padding: 0;
			}

			body {
				padding: 0; 
				margin: 0;
				font: 16px Roboto, sans-serif;
				font-weight: 400;
				-webkit-font-smoothing: antialiased;
				color: #5f6368;
				line-height: 1.5;
				word-break: normal;
				overflow-wrap: break-word;
			}

			h1, h2, h3, h4, h5, h6 {
				font-weight: 400;
				line-height: 1.2;
			}

			h1, h2, h3, h4, h5, h6, a, b, strong, input, textarea, th, .katex {
				color: #202124;
			}

			img {
				max-width: 100%;
			}

			pre, code {
				font-family: 'Roboto Mono', monospace;
				background-color: rgba(0,0,0,.05);
				white-space: pre-wrap;
				word-break: break-all;
				tab-size: 4;
			}

			pre {
				padding: 6px;
			}

			code {
				font-size: .85em;
			}

			pre code {
				background-color: unset;
			}

			p {
				margin: 0;
			}

			p + p {
				margin-top: 1em;
			}

			li p {
				margin-top: 1em;
				margin-bottom: 1em;
			}

			ul, ol {
				margin: 1em 0;
			}

			table {
				margin: 1em 0;
				border-collapse: collapse;
			}

			table tr td {
				border: 1px #ccc solid;
				padding: .3em;
			}

			kbd {
				font: .85em 'Roboto Mono', monospace;
				color: #202124;
				border: 1px #ccc solid;
				padding: .1em;
				border-radius: .2em;
			}

			blockquote {
				margin: 1em 0;
				padding: .5em 20px;
				border-left: 5px #202124 solid;
				background-color: #f7f7f7;
			}

			#toc {
				position: fixed;
				z-index: 1;
				overflow-y: auto;
				top: 0;
				left: 0;
				bottom: 0;
				width: 280px;
				height: 100%;
				background-color: #f1f1f1;
				padding-bottom:100px;
			}

			#toc > div {
				display: block;
				text-align: center;
				background-color: #263238;
				padding: 1.5em;
			}

			#toc > div button {
				background: none;
				border: none;
				vertical-align: middle;
				display: none;
			}

			#toc > div a {
				color: white;
				text-decoration: none;
			}

			#toc ol {
				padding: 0;
				margin: 0;
			}

			#toc > ol {
				background-color: #f1f1f1;
			}

			#toc ol li {
				list-style: none;
			}

			#toc ol li a {
				display: block;
				padding: .5em;
				text-decoration: none;
			}

			#toc ol li a:hover {
				background-color: rgba(0, 0, 0, .12);
			}

			#toc ol li ol {
				padding: 0;
				margin: 0;
				background-color: rgba(0, 0, 0, .08);
				font-size: .85em;
			}

			#toc ol li ol li {
				list-style: none;
			}

			#content {
				margin-left: 280px;
				padding: 1em;
				padding-top: 30px;
				padding-bottom: 150px;
			}

			@media screen and (max-width: 800px) {
				#toc {
					position: fixed;
					width: 100%;
					top: 0;
					border-bottom: 1px #ccc solid;
				}

				#toc:not(.toc-expanded) {
					bottom: unset;
					height: unset;
					padding-bottom: 0;
					box-shadow: 0 0 2px 0 rgba(0,0,0,.16), 0 0 0 1px rgba(0,0,0,.08);
				}

				#toc.toc-expanded .toc-on-folded {
					display: none;
				}

				#toc:not(.toc-expanded) .toc-on-expanded {
					display: none;
				}

				#toc > div {
					padding: 1em;
					text-align: left;
					height: 60px;
				}

				#toc > div button {
					display: inline-block;
					margin-right: 1em;
				}

				#content {
					margin-left: 0;
					margin-top: 60px;
				}
			}
		</style>
		<style>
			.m42kup-error {
				color: red;
				border: 1px red solid;
				padding: 0 .2em;
			}

			blockquote.m42kup-bq-info {
				border-left-color: #1976d2;
			    background-color: #e3f2fd;
			    color: #1976d2;
			}

			blockquote.m42kup-bq-info a {
			    color: #1976d2;
			    font-weight: bold;
			}

			blockquote.m42kup-bq-info::before {
				content: url('data:image/svg+xml,%0A%3Csvg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="%231976d2"%3E%3Cpath d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/%3E%3C/svg%3E');
				display: inline-block;
			    width: 24px;
			    height: 24px;
			    float: left;
			    margin-right: .5em;
			}

			blockquote.m42kup-bq-warn {
				border-left-color: #d32f2f;
				background-color: #ffebee;
				color: #d32f2f;
			}

			blockquote.m42kup-bq-warn a {
			    color: #d32f2f;
			    font-weight: bold;
			}

			blockquote.m42kup-bq-warn::before {
				content: url('data:image/svg+xml,%0A%3Csvg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="%23d32f2f"%3E%3Cpath d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/%3E%3C/svg%3E');
			    display: inline-block;
			    width: 24px;
			    height: 24px;
			    float: left;
			    margin-right: .5em;
			}
		</style>
	</head>
	<body>
		<div id="toc">
			<div>
						<button id="toc-fold-toggle">
							<svg class="toc-on-folded" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#fff"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
							<svg class="toc-on-expanded" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#fff"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
						</button>
						<a href="./index.html">math-o-matic 설명서</a>
					</div>
					<ol class="toc-on-expanded"><li><div><a href="./background.html">이론적 배경</a></div></li><li><div><a href="./code.html">코드를 작성하는 법</a></div></li><li><div><a href="./precedence.html">우선순위</a></div></li><li><div><a href="./expression-resolver.html">ExpressionResolver의 동작방식</a></div></li></ol>
		</div>
		<div id="content">
			
				<h1>코드를 작성하는 법</h1><p>저장소에서 <code>/web/code.math</code>를 보면 많은 예시가 있다.</p><h2>논리식의 문법을 정의하는 방법</h2><p>math-o-matic 상에서 대상언어의 문장이나 단어에는 타입이 있어야 한다. 그러므로 타입을 먼저 정의해야 한다.</p><pre><code>&quot;문장 타입.&quot;
<b>base</b> <b>type</b> st;
</code></pre><p>타입 선언은 <code>type &lt;타입 이름&gt;;</code>이라 하면 되고 문장 타입일 경우 <code>base</code>를 붙인다. 문장 타입은 언어마다 하나만 있을 수 있다. 타입에 관한 설명을 큰따옴표 안에 작성할 수 있다.</p><p>이때 말단 기호는 다음과 같이 선언할 수 있다.</p><pre><code>&quot;verum (T). 즉 임의의 항진명제를 표시한다.&quot;
$\top$
st T;
</code></pre><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.89883em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-2.904999em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.46782999999999997em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span> 코드를 <code>$</code>로 감싸서 기호가 어떻게 보이는지를 바꿀 수 있다. 위의 예시는 <code>T</code> 변수가 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">⊤</mi></mrow><annotation encoding="application/x-tex">\top</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">⊤</span></span></span></span>처럼 표시되게 하였다.</p><p>말단 기호가 아닌 것은 다음과 같이 선언할 수 있다.</p><pre><code>&quot;and (TFFF).&quot;
$!&lt;prec=596&gt;#1&lt;&lt;\land&gt;&gt;#2$
st A(st p, st q);
</code></pre><p><code>!&lt;prec=596&gt;</code>은 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∧</mo></mrow><annotation encoding="application/x-tex">\land</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="mord">∧</span></span></span></span>의 연산자 우선순위를 596으로 하겠다는 뜻이다. 연산자 우선순위 문맥에 따라 표시할 때 괄호가 필요한지가 결정된다. <code>#1</code>과 <code>#2</code>는 각각 첫 번째와 두 번째 인자가 표시될 위치를 표시한다. <code>&lt;&lt;</code>와 <code>&gt;&gt;</code>는 클릭 되는 부분을 표시한다.</p><p>또는</p><pre><code>[(st, st) -&gt; st] A;
</code></pre><p>라 써도 될 것이다. 이때 <code>[(st, st) -&gt; st]</code>는 <code>st</code> 두 개를 받아 <code>st</code>를 뱉는 함수형 타입이다. 그러나 저 위에 방법으로 쓰는 것이 좋을 것이다.</p><h2>공리와 증명을 작성하는 방법</h2><p>공리는 다음과 같이 작성한다.</p><pre><code>&quot;연언 도입(conjunction introduction).&quot;
<b>axiomatic</b> <b>schema</b> Ai(st p: @1, st q: @2) {
	p, q |- A(p, q)
}
</code></pre><p>공리라서 <code>axiomatic</code>이 붙었다. <code>|-</code>가 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊢</mo></mrow><annotation encoding="application/x-tex">\vdash</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mrel">⊢</span></span></span></span>를 나타낸다. <code>@1</code>과 <code>@22</code>는 ⊦E 구문을 쓸 때 인자가 자동으로 인식되도록 하기 위한 것이다. 공리를 그냥 정의할 수는 없고 공리 스키마로 감싸야 한다. 정리 역시 그러하다. 예를 들어 다음과 같이 인자 없는 스키마로 감싸면 된다.</p><pre><code>&quot;axiom of empty set.&quot;
<b>axiomatic</b> <b>schema</b> ax_emptyset() {
	|- set(emptyset())
}
</code></pre><p>증명은 다음과 같이 작성한다.</p><pre><code>&quot;연언 도입 2번.&quot;
<b>schema</b> A3i(st p: @1, st q: @2, st r: @3) {
	p, q, r |- Ai[Ai[@h1, @h2], @h3]
}
</code></pre><p><code>@h1</code>, <code>@h2</code>, <code>@h3</code>이 각각 1&ndash;3번째 가정 <code>p</code>, <code>q</code>, <code>r</code>을 나타낸다. <code>Ai[@h1, @h2]</code>가 <code>Ai[p, q]</code>인데, 이는 <code>Ai(p, q)[p, q]</code>가 인자 생략된 것이다. 즉 <code>(p, q |- A(p, q))[p, q]</code>인데, 대괄호를 쓴 것이 ⊦E 구문을 적용하라는 뜻으로 <code>p, q</code>를 <code>|-</code>의 좌변과 비교하여 같으면 <code>A(p, q)</code>가 증명되는 방식이다. 그러므로 <code>Ai[@h1, @h2]</code>가 <code>A(p, q)</code>가 되고, <code>Ai[A(p, q), r]</code>이 <code>A(A(p, q), r)</code>이 된다. 즉 Fitch 표기법으로 다음과 같은 증명을 한 것이다.</p><pre><code>1 ┃ p                      가정
2 ┃ q                      가정
3 ┃ r                      가정
  ┣━━━
4 ┃ p ∧ q                  ⊦E, Ai, [1, 2]
5 ┃ (p ∧ q) ∧ r           ⊦E, Ai, [4, 3]
6 p, q, r ⊦ (p ∧ q) ∧ r    ⊦I [1&ndash;5]
</code></pre><p>이는 증명탐색기에 표시되는 바와 같다. 증명이 잘 되었는지는 math-o-matic 프로그램이 판단하며 잘 되었으면 초록불이 들어온다.</p><p>더 있는데 <i><b>귀찮다</b></i>. <code>/web/code.math</code>의 코드 예시를 보면 될 듯하다.</p>
			
		</div>
		<script>
			$ = (q, n) => (n || document).querySelector(q);

			var expanded = false;

			function applyExpandedState(expanded) {
				if (expanded) {
					$('#toc').classList.add('toc-expanded');
					$('#content').classList.add('toc-expanded');
				} else {
					$('#toc').classList.remove('toc-expanded');
					$('#content').classList.remove('toc-expanded');
				}
			}

			applyExpandedState(expanded);

			$('#toc-fold-toggle').addEventListener('click', _ => {
				expanded = !expanded;

				applyExpandedState(expanded);
			});
		</script>
	</body>
</html>